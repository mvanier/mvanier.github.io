<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Part C: Evaluation &mdash; The CS 115 book</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/sphinx_highlight.js"></script>
        <script src="../../../../_static/clipboard.min.js"></script>
        <script src="../../../../_static/copybutton.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Assignment 2: Algebraic datatypes" href="../../2/index.html" />
    <link rel="prev" title="Part B: Pitfalls" href="partB_pitfalls.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../index.html" class="icon icon-home">
            The CS 115 book, Spring 2023
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../Introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Software.html">Installing the course software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../admin/index.html">Administrative information</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Assignments</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Assignment 1: Evaluation and recursion</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="Preamble.html">Preamble</a></li>
<li class="toctree-l3"><a class="reference internal" href="partA_exercises.html">Part A: Exercises</a></li>
<li class="toctree-l3"><a class="reference internal" href="partB_pitfalls.html">Part B: Pitfalls</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Part C: Evaluation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#fibonacci">1. Fibonacci</a></li>
<li class="toctree-l4"><a class="reference internal" href="#factorial">2. Factorial</a></li>
<li class="toctree-l4"><a class="reference internal" href="#reverse">3. <code class="docutils literal notranslate"><span class="pre">reverse</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#reverse-again">4. <code class="docutils literal notranslate"><span class="pre">reverse</span></code> again</a></li>
<li class="toctree-l4"><a class="reference internal" href="#insertion-sort">5. Insertion sort</a></li>
<li class="toctree-l4"><a class="reference internal" href="#foldr-and-foldl">6. <code class="docutils literal notranslate"><span class="pre">foldr</span></code> and <code class="docutils literal notranslate"><span class="pre">foldl</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../2/index.html">Assignment 2: Algebraic datatypes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../3/index.html">Assignment 3: A touch of class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../4/index.html">Assignment 4: <code class="docutils literal notranslate"><span class="pre">IO</span></code>, <code class="docutils literal notranslate"><span class="pre">IO</span></code>, it’s off to work we go!</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../5/index.html">Assignment 5: Monads and lists, oh my!</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">The CS 115 book, Spring 2023</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Assignments</a></li>
          <li class="breadcrumb-item"><a href="../index.html">Assignment 1: Evaluation and recursion</a></li>
      <li class="breadcrumb-item active">Part C: Evaluation</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="part-c-evaluation">
<h1>Part C: Evaluation<a class="headerlink" href="#part-c-evaluation" title="Permalink to this heading"></a></h1>
<p>In this section, you’ll have to write out the results of evaluating some
Haskell expressions step-by-step. These evaluations should look like
this:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>double (3 + 4)
--&gt; (3 + 4) + (3 + 4)
--&gt; 7 + (3 + 4)
--&gt; 7 + 7
--&gt; 14
</pre></div>
</div>
<p>with one reduction step per line. Even more explicit would be the
following:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>double (3 + 4)
--&gt; (3 + 4) + (3 + 4)  [expand from definition]
[outermost redex is + operator]
[+ is strict, needs both operands]
--&gt; 7 + (3 + 4)        [evaluate leftmost branch of + operator]
--&gt; 7 + 7              [evaluate rightmost branch of + operator]
[outermost redex is + operator]
--&gt; 14                 [evaluate + application]
</pre></div>
</div>
<p>though we won’t require you to do this
(but you may find it helpful to do it this way).</p>
<p>Pay particular attention to the fact that Haskell is a lazy language.
You may assume that the result of the expression being evaluated is
going to be printed in its entirety after evaluation. You may also
assume that primitive arithmetic expressions evaluate strictly. If the
function evaluation does not terminate, compute enough of the evaluation
to make it clear that non-termination is the outcome.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Since Haskell uses lazy evaluation, it will evaluate copies of one
subexpression at the same time, so the above example should really
be:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>double (3 + 4)
--&gt; (3 + 4) + (3 + 4)
--&gt; 7 + 7    -- evaluate both (3 + 4)s together
--&gt; 14
</pre></div>
</div>
<p>However, for the evaluations here, assume that all subexpressions are
distinct <em>i.e.</em> each one should be evaluated separately.</p>
</div>
<p>Evaluating Haskell expressions by hand should use the following
guidelines:</p>
<ol class="arabic simple">
<li><p>Find the outermost redex (reducible expression) first. If there is
more than one choice (which is very common), choose the leftmost of
the outermost redexes.</p></li>
<li><p>If the redex is inside a lambda expression (<em>i.e.</em> an anonymous
function), leave it alone. Otherwise, evaluate it.</p></li>
<li><p>Continue until you get the result you need. Don’t evaluate beyond
that point.</p></li>
<li><p>When expanding a function application using its definition, keep the
result in parentheses until it is fully evaluated so as to make clear
what the subexpression is.</p></li>
<li><p>Note that an expression in parentheses can still be a redex.
“Outermost” does not refer to parentheses but to the presence of
other language constructs. For instance, an expression inside a data
constructor or inside a lambda expression is not at the outermost
level.</p></li>
</ol>
<section id="fibonacci">
<h2>1. Fibonacci<a class="headerlink" href="#fibonacci" title="Permalink to this heading"></a></h2>
<p>Consider this function to compute fibonacci numbers:</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="nf">fib</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Integer</span>
<span class="nf">fib</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mi">0</span>
<span class="nf">fib</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mi">1</span>
<span class="nf">fib</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">fib</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">fib</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>Evaluate <code class="docutils literal notranslate"><span class="pre">fib</span> <span class="pre">3</span></code>.</p>
</section>
<section id="factorial">
<h2>2. Factorial<a class="headerlink" href="#factorial" title="Permalink to this heading"></a></h2>
<p>Consider this definition of the factorial function:</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="nf">fact</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Integer</span>
<span class="nf">fact</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">fact</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<span class="nf">fact</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mi">1</span>
</pre></div>
</div>
<p>Evaluate <code class="docutils literal notranslate"><span class="pre">fact</span> <span class="pre">3</span></code>. What is wrong with this definition?
Fix the definition, and then evaluate the fixed definition too.</p>
<p>Pay special attention to the consequences of lazy evaluation here. Assume that
the <code class="docutils literal notranslate"><span class="pre">*</span></code> operator applied to <code class="docutils literal notranslate"><span class="pre">Integer</span></code>s evaluates its arguments strictly
from left to right.</p>
</section>
<section id="reverse">
<h2>3. <code class="docutils literal notranslate"><span class="pre">reverse</span></code><a class="headerlink" href="#reverse" title="Permalink to this heading"></a></h2>
<p>We talked about the <code class="docutils literal notranslate"><span class="pre">reverse</span></code> function in lecture 3. One definition
was as follows:</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="nf">reverse</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="p">]</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="p">]</span>
<span class="nf">reverse</span><span class="w"> </span><span class="n">xs</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">iter</span><span class="w"> </span><span class="n">xs</span><span class="w"> </span><span class="kt">[]</span>
<span class="w">  </span><span class="kr">where</span>
<span class="w">    </span><span class="n">iter</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="p">]</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="p">]</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="p">]</span>
<span class="w">    </span><span class="n">iter</span><span class="w"> </span><span class="kt">[]</span><span class="w"> </span><span class="n">ys</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">ys</span>
<span class="w">    </span><span class="n">iter</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="kt">:</span><span class="n">xs</span><span class="p">)</span><span class="w"> </span><span class="n">ys</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">iter</span><span class="w"> </span><span class="n">xs</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="kt">:</span><span class="n">ys</span><span class="p">)</span>
</pre></div>
</div>
<p>Evaluate the expression <code class="docutils literal notranslate"><span class="pre">reverse</span> <span class="pre">[1,2,3]</span></code> with this definition. What
is the asymptotic time complexity of this function as a function of the
length of the input list? Write your answer in a comment. Don’t just
give the answer, explain why it’s correct.</p>
</section>
<section id="reverse-again">
<h2>4. <code class="docutils literal notranslate"><span class="pre">reverse</span></code> again<a class="headerlink" href="#reverse-again" title="Permalink to this heading"></a></h2>
<p>Another definition of <code class="docutils literal notranslate"><span class="pre">reverse</span></code> is as follows:</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="nf">reverse</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="p">]</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="p">]</span>
<span class="nf">reverse</span><span class="w"> </span><span class="kt">[]</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">[]</span>
<span class="nf">reverse</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="kt">:</span><span class="n">xs</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">reverse</span><span class="w"> </span><span class="n">xs</span><span class="w"> </span><span class="o">++</span><span class="w"> </span><span class="p">[</span><span class="n">x</span><span class="p">]</span>
</pre></div>
</div>
<p>For reference: The definition of the <code class="docutils literal notranslate"><span class="pre">(++)</span></code> operator is:</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="p">]</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="p">]</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="p">]</span>
<span class="p">(</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="kt">[]</span><span class="w">     </span><span class="n">ys</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">ys</span>
<span class="p">(</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="kt">:</span><span class="n">xs</span><span class="p">)</span><span class="w"> </span><span class="n">ys</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="kt">:</span><span class="w"> </span><span class="p">(</span><span class="n">xs</span><span class="w"> </span><span class="o">++</span><span class="w"> </span><span class="n">ys</span><span class="p">)</span>
</pre></div>
</div>
<p>and the <code class="docutils literal notranslate"><span class="pre">++</span></code> operator is also right-associative.</p>
<p>Ben Bitfiddle claims that this definition of <code class="docutils literal notranslate"><span class="pre">reverse</span></code>
has an asymptotic time complexity which is linear
in the length of the input list,
giving this argument:
“Evaluating <code class="docutils literal notranslate"><span class="pre">reverse</span> <span class="pre">[1,</span> <span class="pre">2,</span> <span class="pre">3]</span></code> eventually results in
<code class="docutils literal notranslate"><span class="pre">[]</span> <span class="pre">++</span> <span class="pre">[3]</span> <span class="pre">++</span> <span class="pre">[2]</span> <span class="pre">++</span> <span class="pre">[1]</span></code> after a linear number of steps,
and since appending a singleton list to another list
is an <code class="docutils literal notranslate"><span class="pre">O(1)</span></code> operation,
constructing the result list from this point is also linear.”
What is wrong with this argument?
Write out a full evaluation of <code class="docutils literal notranslate"><span class="pre">reverse</span> <span class="pre">[1,</span> <span class="pre">2,</span> <span class="pre">3]</span></code>
and explain where Ben made his mistake and what the mistake was.
What is the actual asymptotic time complexity of this version of <code class="docutils literal notranslate"><span class="pre">reverse</span></code>?</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This is tricky! We want a full explanation, not just a couple of
sentences.</p>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">++</span></code> operator is right-associative.</p></li>
<li><p>Parentheses are your friend.</p></li>
</ul>
</div>
</section>
<section id="insertion-sort">
<h2>5. Insertion sort<a class="headerlink" href="#insertion-sort" title="Permalink to this heading"></a></h2>
<p>An “insertion sort” is a particular way to sort lists. The first item in
the list is inserted at the right place in the result of insertion
sorting the rest of the list. For lists of integers, the code might look
like this:</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="nf">isort</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">[</span><span class="kt">Integer</span><span class="p">]</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="kt">Integer</span><span class="p">]</span>
<span class="nf">isort</span><span class="w"> </span><span class="kt">[]</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">[]</span>
<span class="nf">isort</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="kt">:</span><span class="n">ns</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">insert</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="p">(</span><span class="n">isort</span><span class="w"> </span><span class="n">ns</span><span class="p">)</span>
<span class="w">  </span><span class="kr">where</span>
<span class="w">    </span><span class="n">insert</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="kt">Integer</span><span class="p">]</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="kt">Integer</span><span class="p">]</span>
<span class="w">    </span><span class="n">insert</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="kt">[]</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="p">[</span><span class="n">n</span><span class="p">]</span>
<span class="w">    </span><span class="n">insert</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">m</span><span class="o">@</span><span class="p">(</span><span class="n">m1</span><span class="kt">:</span><span class="kr">_</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">m1</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="kt">:</span><span class="w"> </span><span class="n">m</span>
<span class="w">    </span><span class="n">insert</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="p">(</span><span class="n">m1</span><span class="kt">:</span><span class="n">ms</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">m1</span><span class="w"> </span><span class="kt">:</span><span class="w"> </span><span class="n">insert</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">ms</span>
</pre></div>
</div>
<p>For reference, <code class="docutils literal notranslate"><span class="pre">head</span></code> is defined as:</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="nf">head</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="p">]</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="n">a</span>
<span class="nf">head</span><span class="w"> </span><span class="kt">[]</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="ne">error</span><span class="w"> </span><span class="s">&quot;empty list&quot;</span>
<span class="nf">head</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="kt">:</span><span class="kr">_</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">x</span>
</pre></div>
</div>
<p>Evaluate <code class="docutils literal notranslate"><span class="pre">head</span> <span class="pre">(isort</span> <span class="pre">[3,</span> <span class="pre">1,</span> <span class="pre">2,</span> <span class="pre">5,</span> <span class="pre">4])</span></code>.
Don’t evaluate more than you need to!</p>
</section>
<section id="foldr-and-foldl">
<h2>6. <code class="docutils literal notranslate"><span class="pre">foldr</span></code> and <code class="docutils literal notranslate"><span class="pre">foldl</span></code><a class="headerlink" href="#foldr-and-foldl" title="Permalink to this heading"></a></h2>
<p>We discussed the <code class="docutils literal notranslate"><span class="pre">foldr</span></code> (fold right) and <code class="docutils literal notranslate"><span class="pre">foldl</span></code> (fold left)
higher-order functions in class. Assume that their definitions are as
follows:</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="nf">foldr</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="p">]</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="n">b</span>
<span class="nf">foldr</span><span class="w"> </span><span class="kr">_</span><span class="w"> </span><span class="n">init</span><span class="w"> </span><span class="kt">[]</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">init</span>
<span class="nf">foldr</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="n">init</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="kt">:</span><span class="n">xs</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">(</span><span class="n">foldr</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="n">init</span><span class="w"> </span><span class="n">xs</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="nf">foldl</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">b</span><span class="p">]</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="n">a</span>
<span class="nf">foldl</span><span class="w"> </span><span class="kr">_</span><span class="w"> </span><span class="n">init</span><span class="w"> </span><span class="kt">[]</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">init</span>
<span class="nf">foldl</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="n">init</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="kt">:</span><span class="n">xs</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">foldl</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="p">(</span><span class="n">f</span><span class="w"> </span><span class="n">init</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="n">xs</span>
</pre></div>
</div>
<p>(In fact, the actual definitions of these functions in GHC are slightly
different.)</p>
<p>Evaluate the following expressions:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">foldr</span> <span class="pre">max</span> <span class="pre">0</span> <span class="pre">[1,</span> <span class="pre">5,</span> <span class="pre">3,</span> <span class="pre">-2,</span> <span class="pre">4]</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">foldl</span> <span class="pre">max</span> <span class="pre">0</span> <span class="pre">[1,</span> <span class="pre">5,</span> <span class="pre">3,</span> <span class="pre">-2,</span> <span class="pre">4]</span></code></p></li>
</ul>
<p>where <code class="docutils literal notranslate"><span class="pre">max</span></code> gives the maximum of two values (which you can assume to
be <code class="docutils literal notranslate"><span class="pre">Integers</span></code> for this problem). What can you say about the space
complexity of <code class="docutils literal notranslate"><span class="pre">foldr</span></code> compared to <code class="docutils literal notranslate"><span class="pre">foldl</span></code>?
<em>Hint:</em> Don’t forget about lazy evaluation!</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="partB_pitfalls.html" class="btn btn-neutral float-left" title="Part B: Pitfalls" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../../2/index.html" class="btn btn-neutral float-right" title="Assignment 2: Algebraic datatypes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Michael C. Vanier. All rights reserved.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>