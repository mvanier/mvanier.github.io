{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"The CS 131 book: Winter 2024","text":"<p>This book is the official document repository for the Caltech CS 131 course  (Programming Languages) for the Spring 2024 term.</p> <p>The course instructor is Mike Vanier. See the syllabus for administrative information.</p> <p>Please read this page for an overview of the course.</p>"},{"location":"admin/collab/","title":"Collaboration policies","text":""},{"location":"admin/collab/#overview","title":"Overview","text":"<p>The CS 131 collaboration policies determine if, and how much, you are allowed to collaborate with other students while working on your assignments.</p> <p>Please read this document to the very end, because you are responsible for abiding by all the rules set forth here. Failure to abide by these rules may cause you to get sent to the Board of Control (BoC), and that is not pleasant for anyone concerned. Therefore, we want to be extra clear on what constitutes fair collaboration in this course.</p> <p>Note</p> <p>In some places in this document, you will read that some kind of behavior is strictly forbidden. We are not trying to scare you or intimidate you, and we're not trying to be jerks. We just want to make absolutely sure that you know what the rules are, and saying that something is strictly forbidden is pretty unambiguous. (We apologize in advance if you find this annoying.)</p>"},{"location":"admin/collab/#basic-policy","title":"Basic policy","text":"<p>You are welcome to collaborate informally on your assignments with other individuals who are taking the course, but you must write all of your own code and you must not look at other students' code, except to help them as described below. Copying another student's code verbatim or nearly verbatim (from a file, a whiteboard, a screen share or anywhere else) is not acceptable and is an Honor Code violation. Taking another student's file and modifying it to make it look different is definitely not acceptable and is an Honor Code violation. Consulting a printed or electronically displayed version of another student's code and referring to it while you write your own code is not acceptable either, and is also an Honor Code violation. Having someone dictate code while you type isn't acceptable either. Basically, you have to do your own work.</p> <p>Getting advice on algorithms or syntactic details of the language, or suggestions on how to debug a part of your program that isn't working, is fine.</p> <p>All of the above also applies if you are getting tutored for the course, officially or unofficially.</p> <p>All of the above also applies to student work from previous years. We re-use some problems in assignments, and copying answers from an assignment that was submitted in previous years is an Honor Code violation just as much as copying from a student who is currently taking the course.</p>"},{"location":"admin/collab/#helping-others-and-the-50-foot-rule","title":"Helping others and the \"50-foot rule\"","text":"<p>It is common for students to want to help other students to write and debug their assignments. While we prefer that you go to one of the course teaching assistants when you need help on the assignments (it doesn't matter which one), we don't forbid you from seeking help from other students or offering your help to other students. However, we do insist on some guidelines to make the process fair for everyone.</p> <p>When you are helping another student with their homework, you are acting as an unofficial teaching assistant, and thus you must behave like one. A teaching assistant will not tell you the answer or dictate code to you; he/she will help you work through the problem so that you understand what you are doing wrong. If you don't have the time or the inclination to do this, do not assist other students. If you just give them your code, you are violating the Honor Code and both you and the people you are giving the code to may be in for some serious consequences.</p> <p>As a way of clarifying the way in which you can help other students (especially when it comes to debugging their code), we want you to obey the \"50 foot rule\". This rule states that if you help another student with their programming problems (including debugging), you must not consult your own code while doing so. Specifically, we ask that your own code be at least 50 feet away i.e. not visible to you or the person you are helping while you are helping them. (It doesn't have to be exactly 50 feet; the point is that you can't see your code while helping the other person and you shouldn't run back and forth between your computer with your code and the computer of the person you're helping.) The slogan of the 50-foot rule is: \"Help them with your brain, not with your code.\" Please do not try to find a loophole kind of way around this e.g. projecting your code on a building 50 feet away; that is clearly not what we mean. Posting your code on a pastebin-like internet site, emailing your code to other people, sharing your screen with your code on it, printing it out, or even referring to it on your laptop while helping someone else, are all clear violations of the collaboration policy for this course. Also, we don't want you to put your code up on a computer in a room 50 feet away from where you're helping someone and run back and forth, dictating a line at a time. If you can't help them without consulting your code, don't help them. Refer them to a teaching assistant.</p> <p>Note</p> <p>The 50-foot rule only applies when helping another student in person.</p> <p>Helping another student using teleconferencing software like Zoom, Skype, Discord etc. is covered below, but one aspect of it is that screen sharing is not permitted.</p> <p>We realize that it's more convenient to ask someone in your house for help than to walk all the way to the Annenberg building. A possible solution is to get to know a TA and meet with them in their dorm room (if they are willing). Another possibility is to meet with a TA on Zoom or Discord, or in a room that's closer than Annenberg (e.g. in a library).</p>"},{"location":"admin/collab/#use-and-abuse-of-pseudocode","title":"Use and abuse of pseudocode","text":"<p>In the past, some students have been called in to the BoC because of very similar code that was ultimately traced to pseudocode written on a whiteboard which was almost exactly like the final code. Pseudocode is supposed to be an informal, non-executable description of an algorithm. If you write or consult pseudocode which is (say) 80% or more of the way to being actual runnable code as a way to do an end run around the collaboration policies, be advised that we and the BoC are well aware of this problem and you will not get away with it. On the other hand, if you (or a TA) write out or read pseudocode which is a human-readable description of an algorithm without any actual code in it, you are fine. If in doubt, ask the instructor.</p>"},{"location":"admin/collab/#teleconferencing-software-eg-zoom","title":"Teleconferencing software (e.g. Zoom)","text":"<p>If you use teleconferencing software (like Zoom) or software with teleconferencing capabilities (like Discord), you may not share your screen with other students, whether to help them or to get help from them. This also applies to non-students (with the obvious exception of the course instructor or TAs).</p> <p>Also, it is strictly forbidden to dictate code over teleconferencing software. This is consistent with the rules in the other sections of this document.</p>"},{"location":"admin/collab/#discussion-boards-and-chat-programs","title":"Discussion boards and chat programs","text":"<p>You are strictly forbidden from posting code from your assignments to a discussion board (such as Piazza) unless it's a private message to one or more instructors/TAs. If this happens you may lose the ability to use the discussion board for any purpose.</p> <p>This also applies to other programs with chat features that are not used in the course (like Slack, Discord, or Discourse), or even email for that matter.</p>"},{"location":"admin/collab/#use-of-public-websites","title":"Use of public websites","text":"<p>It is strictly forbidden to post any of the problems from the assignments onto websites (for instance, Stack Overflow), and anyone caught doing this will be charged with an Honor Code violation. This includes problems that are similar to assignment problems even if not identical. If you find a discussion of course-related material on internet websites, you may read it as long as the discussion is not about a problem that is identical to or very similar to a problem on one of the course assignments. However, do not transcribe code from the internet into your homework submissions.</p> <p>It is strictly forbidden to look at any solutions to any previous years' work posted on internet code repository sites (including but not limited to GitHub, GitLab, BitBucket, etc.). It is also strictly forbidden to put your own code on such a repository unless (a) it is a private repository, and (b) you do not allow anyone else access to this private repository. You may also not fork any such repositories that you might happen to find; we will consider this evidence of intent to plagiarize.</p>"},{"location":"admin/collab/#use-of-code-hinting-software-github-copilot-or-chatgpt","title":"Use of code hinting software (Github Copilot or ChatGPT)","text":"<p>You are strictly forbidden to use code hinting software such as Github Copilot, ChatGPT, or similar software for any part of this course. (This should be obvious.)</p>"},{"location":"admin/collab/#summary","title":"Summary","text":"<p>These are resources that you may or may not be allowed to consult while working on your assignments and exams.</p> Item Status Course book OK Course textbook OK Official OCaml documentation OK Other OCaml documentation OK Other OCaml books OK Your notes OK Notes of other students Not allowed Your graded assignments OK Other students' graded assignments Not allowed Other students' ungraded assignments Not allowed Other code written by anyone else that answers an assigned problem Not allowed Solutions to assignment/exam problems from a previous year Not allowed Material posted on internet forums that answers specific problems Not allowed Material in non-course code repositories (Github, Bitbucket, Gitlab etc.) Not allowed Code hinting software (e.g. Github Copilot, ChatGPT) Not allowed"},{"location":"admin/collab/#consequences-for-violating-these-policies","title":"Consequences for violating these policies","text":"<p>Be aware that letting another student copy from you is just as bad as copying from another student, and can get you into just as much trouble.</p>"},{"location":"admin/collab/#finally","title":"Finally...","text":"<p>If you have any questions about the course collaboration policies, please contact the instructor. Do not ask the teaching assistants; they may not give you the best answer.</p> <p>We realize that the vast majority of you (hopefully all of you) have no intention of cheating or overcollaboration in any way, and we hope that this collaboration policy won't get in the way of your enjoyment of the course.</p>"},{"location":"admin/syllabus/","title":"Syllabus","text":"<p>This is the course syllabus for CS 131 (Functional Programming) for the Spring 2024 term.</p>"},{"location":"admin/syllabus/#instructor","title":"Instructor","text":"<p>The instructor/lecturer for the course is Mike Vanier (mvanier@cms.caltech.edu). Mike's pronouns are he/him.</p>"},{"location":"admin/syllabus/#lectures","title":"Lectures","text":"<p>Lectures will be held in room 213 of the Annenberg building on Mondays, Wednesdays, and Fridays from 3 PM to 4 PM.</p>"},{"location":"admin/syllabus/#teaching-assistants","title":"Teaching assistants","text":"<p>Teaching assistants are TBA</p>"},{"location":"admin/syllabus/#course-description","title":"Course description","text":"<p>From the Caltech catalog:</p> <p>CS 131 is a course on programming languages and their implementation. It teaches students how to program in a number of simplified languages representing the major programming paradigms in use today (imperative, object-oriented, and functional). It will also teach students how to build and modify the implementations of these languages. Emphasis will not be on syntax or parsing but on the essential differences in these languages and their implementations. Both dynamically-typed and statically-typed languages will be implemented. Relevant theory will be covered as needed. Implementations will mostly be interpreters, but some features of compilers will be covered if time permits. </p>"},{"location":"admin/syllabus/#textbook","title":"Textbook","text":"<p>This course is based around the textbook Programming Languages: Build, Prove, and Compare, by Norman Ramsey. We will often abbreviate this book as PL:BPC.</p>"},{"location":"admin/syllabus/#external-websites","title":"External websites","text":"<p>There will be a Piazza site, which you will be enrolled in if you are registered for this course.</p> <p>For homework submission and grading, we will use CodePost.</p>"},{"location":"admin/syllabus/#office-hours","title":"Office hours","text":"<p>Office hours will either be held in-person or on Zoom, at the discretion of the teaching assistant. Mike will hold his office hours on Zoom. Office hour times will be posted on Piazza.</p>"},{"location":"admin/syllabus/#grading-scheme","title":"Grading scheme","text":"<p>CS 131 is on grades. There are no exams.</p> <p>There will be 5 or 6 assignments, worth 10 marks each. On CodePost, each assignment will be given 100 \"points\". The point grade will be divided by 10 to get the actual grade in marks.</p> <p>Letter grades are determined by taking the maximum grade (60 if there are 6 assignments, 50 if there are 5 assignments) and scaling it to a maximum of 100. Letter grades are assigned to these percentages as follows:</p> Numerical grade (out of 100%) Letter grade 95-100% A+ 90-95% A 85-90% A- 80-85% B+ 75-80% B 70-75% B- 65-70% C+ 62-65% C 60-62% C- 58-60% D+ 55-58% D &lt; 55% F"},{"location":"admin/syllabus/#redoing-assignments","title":"Redoing assignments","text":"<p>After you receive your initial grade on an assignment, you have one week to submit a redo. Redos will be submitted as a separate CodePost assignment called <code>Assignment N (rework)</code> (for assignment <code>N</code>). Late redos (received after the 1-week redo window) will not be graded and your previous grade will stand. You may not submit more than one redo per assignment.</p>"},{"location":"admin/syllabus/#late-policy-for-assignments","title":"Late policy for assignments","text":"<p>If an assignment is late when first submitted, marks are deducted at the rate of 20 points/day. These marks can't be regained through rework. If a rework is late (i.e. is submitted more than one week after the original grade was submitted), it doesn't count, and the previous grade stands.</p> <p>Note</p> <p>If an assignment is submitted on time, but is missing one or more sections, those sections will be graded as a 0. The assignment can be reworked, of course, but assuming the sections that were missing on the initial submission are submitted with the rework, there is no additional rework for these sections. This means (for instance) if you don't submit a section on the initial submission but do submit it in the rework, the grade of that section in the rework is final \u2014 you don't get to rework it just because you hadn't submitted it before. So please don't leave out sections!</p> <p>Students may request extensions for assignments due to unusual circumstances. These extensions have to be approved by the course instructor (Mike).</p>"},{"location":"admin/syllabus/#assignment-due-dates","title":"Assignment due dates","text":"<p>Assignments will be due on Friday at 2 AM unless otherwise indicated. Note that a due time of 2 AM means early that morning, so effectively it means very late the previous evening.</p>"},{"location":"admin/syllabus/#attendance-and-participation","title":"Attendance and participation","text":"<p>Attendance and participation currently do not count towards the final grade. However, we strive to make lectures interactive and do a lot of demos and discussion during lectures.  Missing out on this will deprive you of many of the benefits of the course (as well as a lot of the fun!). All lectures slides will be posted.</p>"},{"location":"admin/syllabus/#academic-integrity","title":"Academic integrity","text":"<p>Caltech's Honor Code states that: \"No member of the Caltech community shall take unfair advantage of any other member of the Caltech community.\"</p> <p>Understanding and avoiding plagiarism: Plagiarism is the appropriation of another person's ideas, processes, results, or words without giving appropriate credit, and it violates the honor code in a fundamental way. You can find more information at this page.</p>"},{"location":"admin/syllabus/#collaboration-policies","title":"Collaboration policies","text":"<p>The course collaboration policies are listed in the Collaboration policies page in this book.</p> <p>Note</p> <p>Please read the collaboration policies! You are responsible for knowing what is an isn't acceptable collaboration, and if you over-collaborate you may be sent to the Board of Control, which is never pleasant.</p>"},{"location":"admin/syllabus/#software","title":"Software","text":"<p>See the software page for information on installing the course software.</p>"},{"location":"admin/syllabus/#diversity-and-inclusion","title":"Diversity and inclusion","text":"<p>You all belong in this class and as such should expect to be treated by your classmates and the course staff with respect. It is our goal, as the course staff, to provide an interesting and challenging environment that is conducive to learning. If any incident occurs that challenges this commitment to a supportive and inclusive environment, please let the instructors know so the issue can be addressed.</p>"},{"location":"admin/syllabus/#accessibility","title":"Accessibility","text":"<p>We consider accessibility to be an extremely important issue. If some aspect of the course is making it more difficult for you to learn the material, we want to hear about it! We want this course to be an enjoyable experience for you, not a burden.</p>"},{"location":"admin/syllabus/#student-wellness","title":"Student Wellness","text":"<p>It is very important to us that you take care of your mental wellness throughout the course. Everyone on the course staff is available to chat, and you can always attend office hours for a non-academic conversation if necessary.</p>"},{"location":"admin/syllabus/#students-with-documented-disabilities","title":"Students with documented disabilities","text":"<p>Students who may need an academic accommodation based on the impact of a disability must initiate the request with Caltech Accessibility Services for Students (CASS). Professional staff will evaluate the request with required documentation, recommend reasonable accommodations, and prepare an Accommodation Letter for faculty dated in the current quarter in which the request is being made. Students should contact CASS as soon as possible, since timely notice is needed to coordinate accommodations. See the CASS website for more information.</p> <p>Undergraduate students should contact Dr. Lesley Nye, interim Dean of Undergraduate Students (administrative contact: Beth Larranaga) and graduate students should contact Darrell Peterson, Associate Dean of Graduate Studies (administrative contact: Georgine Okura).</p>"},{"location":"assignments/1/assignment1/","title":"Assignment 1: Evaluation and recursion","text":""},{"location":"assignments/1/assignment1/#due-date","title":"Due date","text":"<p>This assignment is due on Friday, April 19th at 2 AM.</p>"},{"location":"assignments/1/assignment1/#prerequisites","title":"Prerequisites","text":"<p>We will be assuming henceforth that you have taken and passed CS 1 or CS 1x (or placed out of one of them). We also hope that you have taken and passed CS 4, since knowing the material in CS 4 will make CS 115 much easier. We will also assume that you have a rudimentary knowledge of Linux/Unix terminal commands. If not, please read a Linux tutorial, because we will be using the terminal a lot in this course.</p> <p>Note</p> <p>You are not required to use Linux in this course. The terminal in MacOS works pretty much the same way (both Linux and MacOS are Unix systems), so the commands should work fine assuming that the software is installed correctly. Windows terminal commands are completely different. If you have Windows, you should install Windows Subsystem for Linux (also known as WSL), which gives you a full version of Linux running inside of Windows.  (Use that instead of trying to run Haskell natively on Windows.) Make sure you are installing WSL version 2 or later, since version 1 is known not to work properly with the GHC compiler used in this course.</p>"},{"location":"assignments/1/assignment1/#syllabus","title":"Syllabus","text":"<p>Please make sure you have read the Syllabus page and the Collaboration policies page before submitting any assignments, so you know how the course is organized, what the grading policies are, what is and is not acceptable collaboration etc..</p>"},{"location":"assignments/1/assignment1/#software-installation","title":"Software installation","text":"<p>See the Software page for instructions on how to install the course software.</p>"},{"location":"assignments/1/assignment1/#starting-code-base","title":"Starting code base","text":"<p>All assignments will have a code base, which includes test code and sometimes template code for modules. These are posted on the course Canvas site in the Modules section.</p>"},{"location":"assignments/1/assignment1/#external-websites","title":"External websites","text":"<p>In addition to this book, we will be using the following websites:</p> <ul> <li> <p>The course Canvas page, which is where lectures will be posted,   as well as source code for assignments, papers of interest,   and teaching assistant contact information.</p> </li> <li> <p>The course Piazza page, which is where most course-related announcements   will be posted, as well as serving as a question-and-answer forum.</p> </li> <li> <p>The course CodePost page, which is where assignments will be submitted and graded.</p> </li> </ul> <p>Students will be enrolled in Piazza and CodePost by the course instructor. If you added the course late, you may need to remind the instructor to add you.</p> <p>In addition, some TAs and the instructor may choose to host office hours online on Zoom.</p>"},{"location":"assignments/1/assignment1/#background-reading","title":"Background reading","text":"<p>We recommend that you read the first four chapters of the Gentle Introduction to Haskell. Warning: It isn't that gentle!<sup>1</sup></p>"},{"location":"assignments/1/assignment1/#writing-and-testing-your-code","title":"Writing and testing your code","text":"<p>Here are some general guidelines for writing your code. These apply to all assignments, not just to this one. We won't repeat these in future assignments, but you can reread this later if necessary.</p>"},{"location":"assignments/1/assignment1/#compiler-warnings-and-the-ghci-file","title":"Compiler warnings and the <code>.ghci</code> file","text":"<p>All of your Haskell functions, even internal ones, should have explicit type signatures. This is not a Haskell requirement, but we consider it to be good style as well as good documentation, and it is likely to save you from some problems that might occur if you let <code>ghc</code> infer the types. Also, error messages will be easier to understand.</p> <p>All of your code should be tested using <code>ghci</code> with the <code>-W</code> (warnings enabled) command-line option. Any warnings will be considered errors, so make sure your code does not give any warnings. (NOTE: On rare cases, we may make exceptions to this for specific problems, but if so we will tell you.)</p> <p>You can invoke <code>ghci</code> explicitly with the <code>-W</code> option as follows:</p> <pre><code>$ ghci -W\n</code></pre> <p>However, since you always want the <code>-W</code> option to be enabled, a better solution is to define this once and for all in a <code>.ghci</code> file. The <code>.ghci</code> file is just a regular file that contains stuff to be automatically loaded into <code>ghci</code> when it's launched. Put these lines in the file:</p> <pre><code>:set -W\n:set -Wno-x-partial\n</code></pre> <p>and you are all set. We recommend that this file be placed in your home directory, because <code>ghc</code> will look for it there.</p> <p>Note</p> <p>The <code>:set -Wno-x-partial</code> will allow you to use non-total functions like <code>tail</code> without getting a warning.</p> <p>Warning</p> <p>If your code generates any warnings (and we haven't explicitly said that it's OK for that problem), you will lose half marks for each problem that generates a warning. (If the code for multiple problems generates warnings, you will lose half marks for each of them.) Your TA is also allowed to not grade your assignment until you fix the warnings, but they must inform you of this so you know what you need to do.</p> <p>Also, if you are using an old version of <code>ghc</code>, you may get more or fewer warnings than you get on the latest version. Make sure you have the latest version of <code>ghc</code> installed, or you may get marked down for code that gives no warnings on your <code>ghc</code> but gives warnings on the grader's!</p> <p>If you are getting a warning but don't understand it or don't know how to fix it, post a question to Piazza or come to office hours.</p>"},{"location":"assignments/1/assignment1/#essayevaluation-questions","title":"Essay/evaluation questions","text":"<p>Evaluations and answers to questions should be written as Haskell comments. We recommend that you use the multi-line comment syntax <code>{- ... -}</code>, for example:</p> <pre><code>{-\n\nThe answer to this question is...\n\n-}\n</code></pre>"},{"location":"assignments/1/assignment1/#test-script","title":"Test script","text":"<p>We are supplying you with a short test script called <code>Tests_Lab1.hs</code> which you should download into the directory where your <code>Lab1.hs</code> file is. Before running the test script, make sure that the <code>HUnit</code> and <code>HUnit-approx</code> libraries are installed. In a terminal, type:</p> <pre><code>$ cabal install --lib HUnit\n$ cabal install --lib HUnit-approx\n</code></pre> <p>To run the tests, just load the test script into <code>ghci</code> and type <code>main</code> like this:</p> <pre><code>ghci&gt; :l Tests_Lab1.hs\nghci&gt; main\n</code></pre> <p>We are also supplying you with a <code>Makefile</code> so you can run the test script without using <code>ghci</code>. To do this, make sure that the <code>Makefile</code> is in the same directory as the files <code>Lab1.hs</code> and <code>Tests_Lab1.hs</code>, <code>cd</code> into that directory, and type</p> <pre><code>$ make\n</code></pre> <p>to compile and run the test script, and </p> <pre><code>$ make clean\n</code></pre> <p>to remove all files generated during compilation.</p>"},{"location":"assignments/1/assignment1/#what-to-hand-in","title":"What to hand in","text":"<p>Write all of your code in a single text file called <code>Lab1.hs</code>. This file should start with this line:</p> <pre><code>module Lab1 where\n</code></pre> <p>followed by the rest of the code on subsequent lines. Submit your assignment as the CodePost assignment called <code>Assignment 1</code>.</p> <ol> <li> <p>This document is quite old, but it describes the most basic aspects of Haskell that haven't changed over the years.\u00a0\u21a9</p> </li> </ol>"},{"location":"intro/lectures/","title":"Lectures","text":"<p>Links to lectures slides are posted below.</p> <ul> <li> <p>Lecture 1:   Introduction</p> </li> <li> <p>Lecture 2:   The Imp language</p> </li> <li> <p>Lecture 3:   The Imp language: the code</p> </li> </ul>"},{"location":"intro/software/","title":"Installing the course software","text":"<p>Here are the steps you should go through to install OCaml on your computer. If you have already installed OCaml (e.g. because you took CS 4), you can skip most of these instructions. Please make sure that you are running a current version of OCaml (version 5.1.1 or later). If not, use <code>opam</code> to upgrade your OCaml version as described below.</p>"},{"location":"intro/software/#installing-ocaml-and-opam","title":"Installing OCaml and <code>opam</code>","text":"<p>See the instructions on the OCaml website.</p> <p>Note</p> <p><code>opam</code> is the OCaml package manager. It should be installed along with OCaml.</p> <p>Be aware that the version numbers may have changed since that document was written. Be sure to install the correct version! For this term, we are using OCaml version 5.1.1.</p>"},{"location":"intro/software/#macos","title":"MacOS","text":"<p>The instructions for MacOS refer to the Homebrew package manager, which needs to be installed first.</p> <p>Note</p> <p>Homebrew does not come pre-installed on Macs, but it is easy to install and is incredibly useful. Almost any open-source command-line software you can imagine can be installed using Homebrew with a single command. (This includes most programming languages, including OCaml).</p> <p>Ignore the warnings about using Homebrew on Mac M1 processors, which are obsolete. It works fine now.</p> <p>We strongly recommend that you do not use the MacPorts package manager (incorrectly referred to as \"MacPort\" in the OCaml website). Use Homebrew instead.</p>"},{"location":"intro/software/#linux","title":"Linux","text":"<p>If you are using Linux, you can install OCaml using your system's package manager. If your Linux is an Ubuntu variant (the most common kind), you should install OCaml using the Ubuntu package manager <code>apt</code> (also known as <code>apt-get</code>). Installation instructions for Ubuntu and other Linux distributions are available on this page. For Ubuntu the commands are:</p> <pre><code>$ sudo apt update\n$ sudo apt install opam\n</code></pre> <p>The <code>sudo</code> is so you don't have to install the software as the root user. You may be asked to enter your password, which you should do.</p> <p>Note</p> <p>The instructions on the website also tell you to do this first:</p> <pre><code>$ sudo add-apt-repository ppa:avsm/ppa\n</code></pre> <p>This is unnecessary, since we will show you how to upgrade OCaml below.</p>"},{"location":"intro/software/#windows","title":"Windows","text":"<p>If you are using Windows, your should install a Linux system inside of Windows using the Windows Subsystem for Linux (WSL) Then you can use <code>apt</code> like on any Ubuntu Linux system. Don't try to install OCaml natively on Windows; although this may be possible, you are very likely to run into problems beyond the capability of the instructors to solve. Please use WSL!</p>"},{"location":"intro/software/#initialization","title":"Initialization","text":"<p>Once you have a version of OCaml and <code>opam</code> installed, you need to set it up, and, if necessary, upgrade the versions. Go through the following steps.</p> <ul> <li> <p>Start a terminal. If you are running MacOS, you can use the Terminal program. If you're using Windows/WSL, you can either use Windows Terminal or use Visual Studio Code and start a terminal inside the editor. If you're using Windows, make sure you are running Ubuntu/WSL inside the terminal and not Powershell! Both Windows Terminal and VS Code allow you to select either one, once WSL has been installed.</p> </li> <li> <p>Initialize <code>opam</code> by typing <code>opam init</code> in a terminal and following the instructions.</p> <p>Note</p> <p>There is an issue with initializing <code>opam</code> inside of WSL (Windows Subsystem for Linux). Basically, due to the way WSL works, you have to initialize <code>opam</code> differently by disabling sandboxing. This theoretically can cause some problems if a package does something really stupid, but it probably won't. The fix is to use this command instead of just <code>opam init</code>:</p> <pre><code>$ opam init --disable-sandboxing\n</code></pre> </li> <li> <p>At the end of the <code>opam init</code> command, it will ask you to run <code>eval ${opam env}</code><sup>1</sup> to set up the <code>PATH</code> variable of your shell to point to the <code>opam</code> directories. This is important, because if you don't do this, adding new packages (and new OCaml versions) will not work. Opam will also ask you if it can change your shell initialization file (e.g. <code>~/.bashrc</code> for <code>bash</code> or <code>~/.zshrc</code> for <code>zsh</code>) by adding some commands. You should say yes, because if you don't, every time you start up a new terminal you will have to type <code>eval ${opam env}</code> to get <code>opam</code> to work correctly.</p> </li> <li> <p>In your terminal, type:</p> <pre><code>$ opam update\n$ opam upgrade\n</code></pre> <p>to make sure the package repository is up to date and all OCaml packages have been upgraded to the most recent versions.</p> </li> <li> <p>Check the OCaml version by typing <code>ocaml --version</code>. If it's the desired version (which is 5.1.1 this term), you are done with this part. Otherwise do</p> <pre><code>$ opam switch create 5.1.1\n</code></pre> <p>and wait for the new version to be installed. (This will take a while.)</p> </li> <li> <p>Install some libraries and programs:</p> <pre><code>$ opam install utop dune ocamlformat\n</code></pre> <p>This will install the <code>utop</code>, <code>dune</code>, and <code>ocamlformat</code> programs, as well as a number of OCaml libraries you don't have to worry about.</p> <p><code>utop</code> is the OCaml interactive interpreter. We will be working with this a lot!</p> <p>Note</p> <p>There is a more primitive interactive interpreter just called <code>ocaml</code> that comes with the OCaml distribution. We won't use this, because <code>utop</code> is vastly more featureful and nicer to use.</p> <p><code>dune</code> is the OCaml compilation manager. We will introduce this when we need it.</p> <p><code>ocamlformat</code> is an auto-formatter for OCaml code. You don't actually need this, but it gets handy when you are working with longer files of code and you want to make sure everything is formatted neatly.</p> </li> </ul>"},{"location":"intro/software/#using-ocaml","title":"Using OCaml","text":"<p>There are only a few things you need to know in order to use OCaml effectively.</p>"},{"location":"intro/software/#starting-ocaml","title":"Starting OCaml","text":"<p>Open a terminal and type:</p> <pre><code>$ utop\n</code></pre> <p>at the terminal prompt. (The <code>$</code> is the terminal prompt; don't type that.) This will bring up the OCaml interactive interpreter, which is a good environment for experimenting with the language and for testing code you've written. (This is similar to the Python interactive interpreter.)</p> <p><code>utop</code> makes it possible to easily recall and edit previously-input lines of text by using the up and down arrow keys. To see what it can do, start up <code>utop</code>:</p> <pre><code>$ utop\n</code></pre> <p>and type the following commands (one per line, hitting the return key at the end of each line):</p> <pre><code># Printf.printf \"hello\\n\" ;;\n# Printf.printf \"goodbye\\n\" ;;\n</code></pre> <p>Note that the OCaml interpreter prompt is the hash sign (<code>#</code>); don't type that! These lines should, when evaluated, print the words <code>\"hello\"</code> and <code>\"goodbye\"</code> respectively. Once you've done this, you should be able to recall either line by using the up arrow key. For instance, you can hit the up arrow key once to get the line:</p> <pre><code>Printf.printf \"goodbye\\n\" ;;\n</code></pre> <p>and edit it so that it says:</p> <pre><code>Printf.printf \"hasta la vista\\n\" ;;\n</code></pre> <p>When you hit return, it should print out <code>\"hasta la vista\"</code> on a separate line. This feature makes line editing much easier. You can also use control-a (hold the control key down and type <code>a</code>) to get to the beginning of a line you are editing and control-e to get to the end. control-l (lower-case L) clears the terminal and puts the cursor at the top of the terminal window.</p> <p>Exit the interpreter by typing control-d (this is just like Python). You can also type <code>#quit;;</code> at the prompt:</p> <pre><code># #quit;;\n</code></pre> <p>and that will also work.</p>"},{"location":"intro/software/#configuring-utop","title":"Configuring <code>utop</code>","text":"<p>One annoying thing about <code>utop</code> is that it tends to go overboard on command completion.  You can disable this by typing this inside <code>utop</code>:</p> <pre><code># #utop_prompt_dummy;;\n# UTop.set_show_box false;;\n</code></pre> <p>It's annoying to type this every time you start <code>utop</code>, so what I do is make a <code>utop</code> initialization file called <code>init.ml</code> and put it in the directory <code>~/.config/utop</code> (creating that directory if necessary). Then these commands will be run every time <code>utop</code> starts.</p> <p>Note</p> <p>Unfortunately, this will not work properly if used in a directory that has a <code>.ocamlinit</code> file in it (usually your home directory). There are workarounds, but most of the time it will work properly.</p>"},{"location":"intro/software/#using-visual-studio-code","title":"Using Visual Studio Code","text":"<p>You can use any plain text editor you like to write OCaml code, but we recommend you try Visual Studio Code (also known as VS Code), which has excellent OCaml support. In order to use it, you need to do the following steps:</p> <ul> <li> <p>Install the OCaml Language Server Protocol by typing this into a terminal:</p> <pre><code>$ opam install ocaml-lsp-server\n</code></pre> <p>A language server protocol provides a way for editors to query languages so that things like command completion and type information can be displayed in the editor while you're editing code.</p> </li> <li> <p>Install Visual Studio Code from the VS Code website.</p> </li> <li> <p>When inside VS Code, look at the Extensions pane (select View/Extensions from the menu). Type \"OCaml\" into the search bar at the top, and select and install \"OCaml Platform\".</p> </li> </ul> <p>Now you will get nice syntax highlighting and code completion when you edit OCaml source code. You can also start a terminal while inside VS Code to test your code by running the OCaml interpreter.</p> <ol> <li> <p>Or possibly <code>eval ${opam config env}</code> or something similar. It all does the same thing.\u00a0\u21a9</p> </li> </ol>"},{"location":"intro/welcome/","title":"Welcome to CS 131!","text":"<p>This book serves as the official course notes, so that lectures are less of a brain dump of details and more an opportunity to interactively go through course topics, answer questions, and get you thinking about the material. In addition, we will be posting most of the course-related content in these pages, including:</p> <ul> <li>the course syllabus   (which you should read as soon as possible!)</li> <li>administrative details</li> <li>instructions on how to set up your computer with the course software</li> <li>links to lecture slides</li> <li>assignments</li> <li>coding notes and tips</li> </ul> <p>and anything else we consider useful. Your feedback on these notes will be very helpful to us in improving them, so please let us know if anything is hard to understand or if something that should be here isn't.</p> <p>Course-related material we won't post here includes:</p> <ul> <li>code supplied to students for assignments</li> <li>some administrative information e.g. contact information</li> </ul> <p>These will be posted on the course Canvas page in the Modules section.</p>"},{"location":"intro/welcome/#instructor-and-course-staff","title":"Instructor and course staff","text":"<p>The course instructor is Mike Vanier (mvanier@cms.caltech.edu).</p> <p>The TAs are listed in the syllabus.  Their contact information will be posted on the course Canvas page.</p>"},{"location":"intro/welcome/#what-this-course-is-about","title":"What this course is about","text":"<p>CS 131 is a course on implementing programming languages. We will be implementing interpreters for several programming languages. Some will be imperative, and some will be functional. Some will be untyped, some dynamically typed, and some statically typed. We will learn how programming languages differ \"from the inside\" i.e. how different features of programming languages affect the implementations of these languages.</p> <p>This is an extremely interesting and fun topic, and it's one of my personal favorite subjects. Implementing programming languages can be very addicting, but it is also a lot of work. We will be using the OCaml language exclusively in this course.</p> <p>We hope you enjoy the course!</p>"}]}