
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://mvanier.github.io/cs4/Winter2025/book/assignments/final/partA_binmat/">
      
      
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.49">
    
    
      
        <title>Part A: The Binmat module (40 points) - The CS 4 book (Winter 2025)</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.6f8fc17f.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../css/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#part-a-the-binmat-module-40-points" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="The CS 4 book (Winter 2025)" class="md-header__button md-logo" aria-label="The CS 4 book (Winter 2025)" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            The CS 4 book (Winter 2025)
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Part A: The Binmat module (40 points)
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to medium mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to medium mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="medium" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18V6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-2.69L23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="The CS 4 book (Winter 2025)" class="md-nav__button md-logo" aria-label="The CS 4 book (Winter 2025)" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    The CS 4 book (Winter 2025)
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Introduction
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../intro/welcome/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Welcome to CS 4!
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../intro/motivation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Motivation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../intro/history/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    History
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Administrative
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Administrative
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../admin/syllabus/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Syllabus
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../admin/collab/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Collaboration policies
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Assignments
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Assignments
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../0/assignment0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Assignment 0: Setup
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Assignment 1: Evaluation and recursion
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Assignment 1: Evaluation and recursion
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1/assignment1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1/ocaml_notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OCaml notes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1/partA_exercises/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Part A: Exercises
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1/partB_evaluation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Part B: Evaluation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1/partC_recursion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Part C: Recursion
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Assignment 2: Complexity and HOFs
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            Assignment 2: Complexity and HOFs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2/assignment2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2/ocaml_notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OCaml notes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2/partA_orders_of_growth/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Part A: Orders of growth
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2/partB_evaluation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Part B: Evaluation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2/partC_higher_order_functions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Part C: Higher-order functions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2/partD_additional_problems/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Part D: Additional problems
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Readings
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Readings
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../readings/ocaml_cheat_sheet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OCaml Cheat Sheet
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../readings/subst/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The Substitution Model
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#data-representation" class="md-nav__link">
    <span class="md-ellipsis">
      Data representation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#library-functionsvalues-we-used" class="md-nav__link">
    <span class="md-ellipsis">
      Library functions/values we used
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functions-to-write" class="md-nav__link">
    <span class="md-ellipsis">
      Functions to write
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions to write">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-make" class="md-nav__link">
    <span class="md-ellipsis">
      1. make
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nrows" class="md-nav__link">
    <span class="md-ellipsis">
      nrows
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ncols" class="md-nav__link">
    <span class="md-ellipsis">
      ncols
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-rows" class="md-nav__link">
    <span class="md-ellipsis">
      2. rows
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-cols" class="md-nav__link">
    <span class="md-ellipsis">
      3. cols
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get" class="md-nav__link">
    <span class="md-ellipsis">
      get
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dump" class="md-nav__link">
    <span class="md-ellipsis">
      dump
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-rows_for_col" class="md-nav__link">
    <span class="md-ellipsis">
      4. rows_for_col
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-cols_for_row" class="md-nav__link">
    <span class="md-ellipsis">
      5. cols_for_row
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-delete_row" class="md-nav__link">
    <span class="md-ellipsis">
      6. delete_row
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-delete_col" class="md-nav__link">
    <span class="md-ellipsis">
      7. delete_col
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8-min_col_sum_index" class="md-nav__link">
    <span class="md-ellipsis">
      8. min_col_sum_index
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="part-a-the-binmat-module-40-points">Part A: The <code>Binmat</code> module (40 points)</h1>
<p>The code for this section will be written in the file <code>binmat.ml</code>.
The functions in this section
implement the functionality of a sparse binary matrix.
You have to write eight (8) functions.
None of them require more than 35 lines of code in all
(including helper functions),
while most require substantially less.
Some of the simpler functions are written for you;
these are also described below.</p>
<p>Inside the template code in <code>binmat.ml</code>
you will see the definition of the <code>BinaryMatrix</code> module type:</p>
<div class="language-ocaml highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="k">module</span> <span class="k">type</span> <span class="nc">BinaryMatrix</span> <span class="o">=</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="k">sig</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="k">type</span> <span class="n">t</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="k">val</span> <span class="n">make</span> <span class="o">:</span> <span class="kt">int</span> <span class="o">-&gt;</span> <span class="kt">int</span> <span class="o">-&gt;</span> <span class="o">(</span><span class="kt">int</span> <span class="o">*</span> <span class="kt">int</span><span class="o">)</span> <span class="kt">list</span> <span class="o">-&gt;</span> <span class="n">t</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="k">val</span> <span class="n">nrows</span> <span class="o">:</span> <span class="n">t</span> <span class="o">-&gt;</span> <span class="kt">int</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="k">val</span> <span class="n">ncols</span> <span class="o">:</span> <span class="n">t</span> <span class="o">-&gt;</span> <span class="kt">int</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="k">val</span> <span class="n">rows</span>  <span class="o">:</span> <span class="n">t</span> <span class="o">-&gt;</span> <span class="kt">int</span> <span class="kt">list</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="k">val</span> <span class="n">cols</span>  <span class="o">:</span> <span class="n">t</span> <span class="o">-&gt;</span> <span class="kt">int</span> <span class="kt">list</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="k">val</span> <span class="n">get</span> <span class="o">:</span> <span class="n">t</span> <span class="o">-&gt;</span> <span class="kt">int</span> <span class="o">-&gt;</span> <span class="kt">int</span> <span class="o">-&gt;</span> <span class="kt">bool</span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="k">val</span> <span class="n">dump</span> <span class="o">:</span> <span class="n">t</span> <span class="o">-&gt;</span> <span class="kt">unit</span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="k">val</span> <span class="n">rows_for_col</span> <span class="o">:</span> <span class="n">t</span> <span class="o">-&gt;</span> <span class="kt">int</span> <span class="o">-&gt;</span> <span class="kt">int</span> <span class="kt">list</span>
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a><span class="k">val</span> <span class="n">cols_for_row</span> <span class="o">:</span> <span class="n">t</span> <span class="o">-&gt;</span> <span class="kt">int</span> <span class="o">-&gt;</span> <span class="kt">int</span> <span class="kt">list</span>
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a><span class="k">val</span> <span class="n">delete_row</span> <span class="o">:</span> <span class="n">t</span> <span class="o">-&gt;</span> <span class="kt">int</span> <span class="o">-&gt;</span> <span class="n">t</span>
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a><span class="k">val</span> <span class="n">delete_col</span> <span class="o">:</span> <span class="n">t</span> <span class="o">-&gt;</span> <span class="kt">int</span> <span class="o">-&gt;</span> <span class="n">t</span>
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a>
</span><span id="__span-0-22"><a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a><span class="k">val</span> <span class="n">min_col_sum_index</span> <span class="o">:</span> <span class="n">t</span> <span class="o">-&gt;</span> <span class="kt">int</span>
</span><span id="__span-0-23"><a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a><span class="k">end</span>
</span></code></pre></div>
<p>This module type describes the interface of a binary matrix
without specifying its data representation.
(The code in section B will only depend on this interface,
because it will define a functor
which takes a module implementing this interface as its argument.)
Below this in the template file you will see this definition:</p>
<div class="language-ocaml highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="k">module</span> <span class="nc">ImplBinaryMatrix</span> <span class="o">:</span> <span class="nc">BinaryMatrix</span> <span class="o">=</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="k">struct</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="k">type</span> <span class="n">t</span> <span class="o">=</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="o">{</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="o">_</span><span class="n">nrows</span> <span class="o">:</span> <span class="kt">int</span><span class="o">;</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="o">_</span><span class="n">ncols</span> <span class="o">:</span> <span class="kt">int</span><span class="o">;</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="c">(* Map between row indices and sets of column indices. *)</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="o">_</span><span class="n">rows</span> <span class="o">:</span> <span class="nn">IntSet</span><span class="p">.</span><span class="n">t</span> <span class="nn">IntMap</span><span class="p">.</span><span class="n">t</span><span class="o">;</span>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="c">(* Map between columns indices and sets of row indices. *)</span>
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a><span class="o">_</span><span class="n">cols</span> <span class="o">:</span> <span class="nn">IntSet</span><span class="p">.</span><span class="n">t</span> <span class="nn">IntMap</span><span class="p">.</span><span class="n">t</span><span class="o">;</span>
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a><span class="o">}</span>
</span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a>
</span><span id="__span-1-15"><a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a><span class="c">(* ... functions on the binary matrix datatype ... *)</span>
</span><span id="__span-1-16"><a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a><span class="k">end</span>
</span></code></pre></div>
<p>Your job for this section
is to complete the code in the <code>ImplBinaryMatrix</code> module.
We will discuss the type <code>t</code> below.</p>
<h2 id="data-representation">Data representation</h2>
<p>A binary matrix, abstractly,
is a mapping between (row, column) coordinates and 0/1 values.
There are a number of ways in which you could represent a binary matrix.
You could have an array of int arrays,
where each int array contained only 0s or 1s.
Or each int array could contain boolean values,
where <code>false</code> represents 0 and <code>true</code> represents 1.
Neither of these representations would be functional,
since OCaml arrays are imperative
(they can be updated in place at any location).
Or you could have a list or set of (row, column) coordinates,
representing where the 1s are located in the array.
This representation <em>would</em> be functional
(lists and sets are immutable in OCaml),
but it might be costly to scan through every element
in order to do each operation.
We will use a representation which is different from all of these.</p>
<p>The binary matrices we will be working with
have the property that they are very <em>sparse</em>,
which means that the vast majority of locations in the array
are going to be zeroes.
Therefore, it makes sense to only represent
where the 1s in the array are located.
The representation we will use is as follows:</p>
<div class="language-ocaml highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="c">(* Set of integers. *)</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="k">module</span> <span class="nc">IntSet</span> <span class="o">=</span> <span class="nn">Set</span><span class="p">.</span><span class="nc">Make</span><span class="o">(</span><span class="k">struct</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="k">type</span> <span class="n">t</span> <span class="o">=</span> <span class="kt">int</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="k">let</span> <span class="n">compare</span> <span class="o">=</span> <span class="nn">Stdlib</span><span class="p">.</span><span class="n">compare</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="k">end</span><span class="o">)</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="c">(* Map using ints as keys. *)</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="k">module</span> <span class="nc">IntMap</span> <span class="o">=</span> <span class="nn">Map</span><span class="p">.</span><span class="nc">Make</span><span class="o">(</span><span class="k">struct</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="k">type</span> <span class="n">t</span> <span class="o">=</span> <span class="kt">int</span>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="k">let</span> <span class="n">compare</span> <span class="o">=</span> <span class="nn">Stdlib</span><span class="p">.</span><span class="n">compare</span>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="k">end</span><span class="o">)</span>
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a>
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a><span class="k">module</span> <span class="nc">ImplBinaryMatrix</span> <span class="o">=</span>
</span><span id="__span-2-14"><a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a><span class="k">struct</span>
</span><span id="__span-2-15"><a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a><span class="c">(* The binary matrix type: *)</span>
</span><span id="__span-2-16"><a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a><span class="k">type</span> <span class="n">t</span> <span class="o">=</span>
</span><span id="__span-2-17"><a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a><span class="o">{</span>
</span><span id="__span-2-18"><a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a><span class="o">_</span><span class="n">nrows</span> <span class="o">:</span> <span class="kt">int</span><span class="o">;</span>
</span><span id="__span-2-19"><a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a><span class="o">_</span><span class="n">ncols</span> <span class="o">:</span> <span class="kt">int</span><span class="o">;</span>
</span><span id="__span-2-20"><a id="__codelineno-2-20" name="__codelineno-2-20" href="#__codelineno-2-20"></a>
</span><span id="__span-2-21"><a id="__codelineno-2-21" name="__codelineno-2-21" href="#__codelineno-2-21"></a><span class="c">(* Map between row indices and sets of column indices. *)</span>
</span><span id="__span-2-22"><a id="__codelineno-2-22" name="__codelineno-2-22" href="#__codelineno-2-22"></a><span class="o">_</span><span class="n">rows</span> <span class="o">:</span> <span class="nn">IntSet</span><span class="p">.</span><span class="n">t</span> <span class="nn">IntMap</span><span class="p">.</span><span class="n">t</span><span class="o">;</span>
</span><span id="__span-2-23"><a id="__codelineno-2-23" name="__codelineno-2-23" href="#__codelineno-2-23"></a>
</span><span id="__span-2-24"><a id="__codelineno-2-24" name="__codelineno-2-24" href="#__codelineno-2-24"></a><span class="c">(* Map between columns indices and sets of row indices. *)</span>
</span><span id="__span-2-25"><a id="__codelineno-2-25" name="__codelineno-2-25" href="#__codelineno-2-25"></a><span class="o">_</span><span class="n">cols</span> <span class="o">:</span> <span class="nn">IntSet</span><span class="p">.</span><span class="n">t</span> <span class="nn">IntMap</span><span class="p">.</span><span class="n">t</span><span class="o">;</span>
</span><span id="__span-2-26"><a id="__codelineno-2-26" name="__codelineno-2-26" href="#__codelineno-2-26"></a><span class="o">}</span>
</span><span id="__span-2-27"><a id="__codelineno-2-27" name="__codelineno-2-27" href="#__codelineno-2-27"></a>
</span><span id="__span-2-28"><a id="__codelineno-2-28" name="__codelineno-2-28" href="#__codelineno-2-28"></a><span class="c">(* ... functions on the binary matrix datatype ... *)</span>
</span><span id="__span-2-29"><a id="__codelineno-2-29" name="__codelineno-2-29" href="#__codelineno-2-29"></a><span class="k">end</span>
</span></code></pre></div>
<p>Let's walk through this code.</p>
<p>The <code>IntSet</code> and <code>IntMap</code> modules represent sets of integers (<code>IntSet</code>s)
and maps from integers to other datatypes (<code>IntMap</code>s).
They are defined using the <code>Set.Make</code> and <code>Map.Make</code> functors, respectively.
Each of these functors takes an <code>OrderedType</code> argument representing a type
along with a comparison function that will work on the type.
Here, the <code>OrderedType</code> instance is provided
as a direct (anonymous) module argument to each functor. (You can do this!)
The type of sets of integers is <code>IntSet.t</code>
and the type of maps from integers to arbitrary datatypes is <code>IntMap.t</code>.
<code>IntMap.t</code> is polymorphic
(the keys are always <code>int</code>s, but you can use any value type),
but each particular use of <code>IntMap.t</code>
will have a specific value type stored at each key.
In this case, the value type is <code>IntSet.t</code>
(so rows and columns are both maps from integers to sets of integers),
but we'll get to that in a moment.</p>
<p>The datatype representing the binary matrix
is just the type <code>t</code> inside the <code>ImplBinaryMatrix</code> module;
outside of it it's called <code>ImplBinaryMatrix.t</code>.
This is a record type with four fields:</p>
<ul>
<li>
<p><code>_nrows</code>: the number of rows in the binary matrix</p>
</li>
<li>
<p><code>_ncols</code>: the number of columns in the binary matrix</p>
</li>
<li>
<p><code>_rows</code>:
a map between integers (representing row indices) and sets of integers
(representing all the column indices at that row)</p>
</li>
<li>
<p><code>_cols</code>:
a map between integers (representing column indices) and sets of integers
(representing all the row indices at that column)</p>
</li>
</ul>
<p>The <code>_nrows</code> and <code>_ncols</code> fields are self-explanatory.
The <code>_rows</code> and <code>_cols</code> fields are slightly more complicated.
The <code>_rows</code> field represents the rows of the matrix
by putting a key into the <code>_rows</code> map for each <em>nonempty</em> row in the matrix.
Each key is associated with a set of
all the column indices of that row which have 1s.
Similarly, the <code>_cols</code> field represents the columns of the matrix
by putting a key in the <code>_cols</code> map for each <em>nonempty</em> column
which is associated with a set of
all the row indices of that column which have 1s.</p>
<p>Note that this representation is redundant;
when you set a particular (row, column) location to 1,
you have to adjust both the <code>_rows</code> and the <code>_cols</code> maps.
Similarly, to flip a 1 to a 0 at a particular (row, column) location,
you have to delete values from both the the <code>_rows</code> and the <code>_cols</code> maps.
Note that since all of our maps are functional (immutable),
you won't be adding/deleting in-place;
you will have to create a new binary matrix for each change.</p>
<p>The reason for using this representation
instead of <em>e.g.</em> a set of (row, column) locations
is that it's much more efficient
given the operations we will need to do on our binary matrices.</p>
<p><strong>Do not change this representation!</strong>
Even if you think this representation is bad or is too confusing,
you are required to use it.
If you change it in any way, you will get no credit for this section.</p>
<h2 id="library-functionsvalues-we-used">Library functions/values we used</h2>
<p>For this section, we used the following library functions.
You aren't restricted to just using these;
you can use any functions in the <code>List</code> module,
as well as any <code>IntSet</code> or <code>IntMap</code> functions.
Conversely, you are not <em>required</em> to use any of these functions,
but you are well-advised to consider using them,
as they can drastically shorten the amount of code you need to write.</p>
<p>To see what these functions do,
see the library documentation for the
<a href="https://caml.inria.fr/pub/docs/manual-ocaml/libref/List.html">List</a>,
the
<a href="https://caml.inria.fr/pub/docs/manual-ocaml/libref/Set.S.html">Set.S</a>,
and the
<a href="https://caml.inria.fr/pub/docs/manual-ocaml/libref/Map.Make.html">Map.Make</a>
modules.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The documentation for the <code>Set.S</code> and <code>Map.Make</code> "modules"
is just the documentation for all set and map modules
constructed using the set and map functors.
It includes all the functions you can use on sets and maps.</p>
</div>
<ul>
<li><code>List.fold_left</code></li>
<li>
<p><code>List.map</code></p>
</li>
<li>
<p><code>IntSet.add</code></p>
</li>
<li><code>IntSet.cardinal</code></li>
<li><code>IntSet.elements</code></li>
<li><code>IntSet.iter</code></li>
<li><code>IntSet.mem</code></li>
<li><code>IntSet.remove</code></li>
<li>
<p><code>IntSet.singleton</code></p>
</li>
<li>
<p><code>IntMap.add</code></p>
</li>
<li><code>IntMap.bindings</code></li>
<li><code>IntMap.empty</code></li>
<li><code>IntMap.find</code></li>
<li><code>IntMap.find_opt</code></li>
<li><code>IntMap.iter</code></li>
<li><code>IntMap.remove</code></li>
</ul>
<p>We <em>very strongly</em> recommend that you use these functions
instead of writing <em>e.g.</em> helper functions
that implement the same functionality.</p>
<h2 id="functions-to-write">Functions to write</h2>
<p>Here are the functions in the <code>ImplBinaryMatrix</code> module.
Each function you need to write has its mark value listed in boldface.
Some functions have been supplied for you;
we describe them below,
but obviously there are no marks associated with them.</p>
<p>Before we get into the details of the functions, here's a testing tip.
If you want to play around with these functions in the OCaml interpreter,
do this:</p>
<div class="language-ocaml highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="o">#</span> <span class="o">#</span><span class="n">use</span> <span class="s2">&quot;binmat.ml&quot;</span><span class="o">;;</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="o">#</span> <span class="k">open</span> <span class="nc">ImplBinaryMatrix</span><span class="o">;;</span>
</span></code></pre></div>
<p>Now all the functions in the <code>ImplBinaryMatrix</code> module
are accessible directly, <em>e.g.</em>:</p>
<div class="language-ocaml highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="o">#</span> <span class="n">make</span><span class="o">;;</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="o">-&gt;</span> <span class="kt">int</span> <span class="o">-&gt;</span> <span class="o">(</span><span class="kt">int</span> <span class="o">*</span> <span class="kt">int</span><span class="o">)</span> <span class="kt">list</span> <span class="o">-&gt;</span> <span class="nn">ImplBinaryMatrix</span><span class="p">.</span><span class="n">t</span> <span class="o">=</span> <span class="o">&lt;</span><span class="k">fun</span><span class="o">&gt;</span>
</span></code></pre></div>
<h3 id="1-make">1. <code>make</code></h3>
<p>[<strong>10 points</strong>]</p>
<p>This function takes three arguments:</p>
<ul>
<li>
<p><code>nrows</code>, the number of rows (a positive integer)</p>
</li>
<li>
<p><code>ncols</code>, the number of columns (a positive integer)</p>
</li>
<li>
<p><code>lst</code>, a list of pairs of integers (row, column coordinates),
representing all the locations in the binary matrix which have 1s
(the rest are assumed to all be zeros)</p>
</li>
</ul>
<p>It constructs and returns a new binary matrix
using the data representation given above.
It signals errors
(using the <code>invalid_arg</code> function to raise an <code>Invalid_argument</code> exception)
if the numbers of rows or columns are negative or zero,
or if any of the (row, column) coordinates have values that are out of range
(negative or <code>&gt;=</code> to <code>_nrows</code> or <code>_ncols</code>, respectively).</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Error checking is <em>not</em> optional!
You will lose marks if you don't implement it as directed.</p>
</div>
<p><strong>The binary matrix returned by this function
should only have <em>non-empty</em> sets as values
in the <code>_rows</code> or <code>_cols</code> fields of the matrix.</strong>
So please do not <em>e.g.</em>
put in empty sets for each possible row or column index;
doing so will result in lost marks,
plus your code won't run correctly.
Later, we will see that some matrix operations
can result in empty set values,
and this is necessary for the solution algorithm to work properly.</p>
<p>In the examples below,
we use the <code>nrows</code>, <code>ncols</code>, <code>get</code> and <code>dump</code> functions,
all of which are given to you in the template code and described below.</p>
<div class="admonition examples">
<p class="admonition-title">Examples</p>
<div class="language-ocaml highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="o">#</span> <span class="n">make</span> <span class="mi">2</span> <span class="mi">3</span> <span class="o">[(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span> <span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span> <span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">)];;</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="o">-</span> <span class="o">:</span> <span class="nn">ImplBinaryMatrix</span><span class="p">.</span><span class="n">t</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">abstr</span><span class="o">&gt;</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="c">(* This corresponds to the binary matrix:</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="c">0 1 0</span>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="c">1 0 1</span>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="c">i.e. two rows and three columns, with 1s at (0, 1), (1, 0), and (1, 2)</span>
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="c">((row = 0, column = 1), (row = 1, column = 0), (row = 1, column = 2)).</span>
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a>
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a><span class="c">When we display binary matrices, row coordinates go from top to bottom,</span>
</span><span id="__span-5-13"><a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a><span class="c">with 0 on top. Column coordinates go from left to right, with 0 on the left.</span>
</span><span id="__span-5-14"><a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a><span class="c">*)</span>
</span><span id="__span-5-15"><a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a>
</span><span id="__span-5-16"><a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a><span class="o">#</span> <span class="n">make</span> <span class="o">(-</span><span class="mi">2</span><span class="o">)</span> <span class="mi">3</span> <span class="o">[(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span> <span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span> <span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">)];;</span>
</span><span id="__span-5-17"><a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a><span class="nc">Exception</span><span class="o">:</span> <span class="nc">Invalid_argument</span> <span class="s2">&quot;make: nrows must be at least 1&quot;</span><span class="o">.</span>
</span><span id="__span-5-18"><a id="__codelineno-5-18" name="__codelineno-5-18" href="#__codelineno-5-18"></a>
</span><span id="__span-5-19"><a id="__codelineno-5-19" name="__codelineno-5-19" href="#__codelineno-5-19"></a><span class="o">#</span> <span class="n">make</span> <span class="mi">2</span> <span class="mi">0</span> <span class="o">[(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span> <span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span> <span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">)];;</span>
</span><span id="__span-5-20"><a id="__codelineno-5-20" name="__codelineno-5-20" href="#__codelineno-5-20"></a><span class="nc">Exception</span><span class="o">:</span> <span class="nc">Invalid_argument</span> <span class="s2">&quot;make: ncols must be at least 1&quot;</span><span class="o">.</span>
</span><span id="__span-5-21"><a id="__codelineno-5-21" name="__codelineno-5-21" href="#__codelineno-5-21"></a>
</span><span id="__span-5-22"><a id="__codelineno-5-22" name="__codelineno-5-22" href="#__codelineno-5-22"></a><span class="o">#</span> <span class="n">make</span> <span class="mi">2</span> <span class="mi">3</span> <span class="o">[(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span> <span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span> <span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">2</span><span class="o">)];;</span>
</span><span id="__span-5-23"><a id="__codelineno-5-23" name="__codelineno-5-23" href="#__codelineno-5-23"></a><span class="nc">Exception</span><span class="o">:</span> <span class="nc">Invalid_argument</span> <span class="s2">&quot;make: invalid row/column coordinates: (2, 2)&quot;</span><span class="o">.</span>
</span><span id="__span-5-24"><a id="__codelineno-5-24" name="__codelineno-5-24" href="#__codelineno-5-24"></a><span class="c">(* (row = 2, column = 2) are invalid coordinates for a board</span>
</span><span id="__span-5-25"><a id="__codelineno-5-25" name="__codelineno-5-25" href="#__codelineno-5-25"></a><span class="c">   of dimensions 2x3, since there is no row with index 2. *)</span>
</span><span id="__span-5-26"><a id="__codelineno-5-26" name="__codelineno-5-26" href="#__codelineno-5-26"></a>
</span><span id="__span-5-27"><a id="__codelineno-5-27" name="__codelineno-5-27" href="#__codelineno-5-27"></a><span class="o">#</span> <span class="n">make</span> <span class="mi">2</span> <span class="mi">3</span> <span class="o">[(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span> <span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="o">-</span><span class="mi">1</span><span class="o">);</span> <span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">)];;</span>
</span><span id="__span-5-28"><a id="__codelineno-5-28" name="__codelineno-5-28" href="#__codelineno-5-28"></a><span class="nc">Exception</span><span class="o">:</span> <span class="nc">Invalid_argument</span> <span class="s2">&quot;make: invalid row/column coordinates: (1, -1)&quot;</span><span class="o">.</span>
</span><span id="__span-5-29"><a id="__codelineno-5-29" name="__codelineno-5-29" href="#__codelineno-5-29"></a>
</span><span id="__span-5-30"><a id="__codelineno-5-30" name="__codelineno-5-30" href="#__codelineno-5-30"></a><span class="o">#</span> <span class="k">let</span> <span class="n">m</span> <span class="o">=</span> <span class="n">make</span> <span class="mi">2</span> <span class="mi">3</span> <span class="o">[(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span> <span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span> <span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">)];;</span>
</span><span id="__span-5-31"><a id="__codelineno-5-31" name="__codelineno-5-31" href="#__codelineno-5-31"></a><span class="k">val</span> <span class="n">m</span> <span class="o">:</span> <span class="nn">ImplBinaryMatrix</span><span class="p">.</span><span class="n">t</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">abstr</span><span class="o">&gt;</span>
</span><span id="__span-5-32"><a id="__codelineno-5-32" name="__codelineno-5-32" href="#__codelineno-5-32"></a>
</span><span id="__span-5-33"><a id="__codelineno-5-33" name="__codelineno-5-33" href="#__codelineno-5-33"></a><span class="o">#</span> <span class="n">nrows</span> <span class="n">m</span><span class="o">;;</span>
</span><span id="__span-5-34"><a id="__codelineno-5-34" name="__codelineno-5-34" href="#__codelineno-5-34"></a><span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="o">=</span> <span class="mi">2</span>
</span><span id="__span-5-35"><a id="__codelineno-5-35" name="__codelineno-5-35" href="#__codelineno-5-35"></a>
</span><span id="__span-5-36"><a id="__codelineno-5-36" name="__codelineno-5-36" href="#__codelineno-5-36"></a><span class="o">#</span> <span class="n">ncols</span> <span class="n">m</span><span class="o">;;</span>
</span><span id="__span-5-37"><a id="__codelineno-5-37" name="__codelineno-5-37" href="#__codelineno-5-37"></a><span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="o">=</span> <span class="mi">3</span>
</span><span id="__span-5-38"><a id="__codelineno-5-38" name="__codelineno-5-38" href="#__codelineno-5-38"></a>
</span><span id="__span-5-39"><a id="__codelineno-5-39" name="__codelineno-5-39" href="#__codelineno-5-39"></a><span class="o">#</span> <span class="n">get</span> <span class="n">m</span> <span class="mi">0</span> <span class="mi">0</span><span class="o">;;</span>
</span><span id="__span-5-40"><a id="__codelineno-5-40" name="__codelineno-5-40" href="#__codelineno-5-40"></a><span class="o">-</span> <span class="o">:</span> <span class="kt">bool</span> <span class="o">=</span> <span class="bp">false</span>
</span><span id="__span-5-41"><a id="__codelineno-5-41" name="__codelineno-5-41" href="#__codelineno-5-41"></a><span class="c">(* `get` returns a boolean value, not a 0 or 1 *)</span>
</span><span id="__span-5-42"><a id="__codelineno-5-42" name="__codelineno-5-42" href="#__codelineno-5-42"></a>
</span><span id="__span-5-43"><a id="__codelineno-5-43" name="__codelineno-5-43" href="#__codelineno-5-43"></a><span class="o">#</span> <span class="n">get</span> <span class="n">m</span> <span class="mi">0</span> <span class="mi">1</span><span class="o">;;</span>
</span><span id="__span-5-44"><a id="__codelineno-5-44" name="__codelineno-5-44" href="#__codelineno-5-44"></a><span class="o">-</span> <span class="o">:</span> <span class="kt">bool</span> <span class="o">=</span> <span class="bp">true</span>
</span><span id="__span-5-45"><a id="__codelineno-5-45" name="__codelineno-5-45" href="#__codelineno-5-45"></a>
</span><span id="__span-5-46"><a id="__codelineno-5-46" name="__codelineno-5-46" href="#__codelineno-5-46"></a><span class="o">#</span> <span class="n">get</span> <span class="n">m</span> <span class="mi">0</span> <span class="mi">2</span><span class="o">;;</span>
</span><span id="__span-5-47"><a id="__codelineno-5-47" name="__codelineno-5-47" href="#__codelineno-5-47"></a><span class="o">-</span> <span class="o">:</span> <span class="kt">bool</span> <span class="o">=</span> <span class="bp">false</span>
</span><span id="__span-5-48"><a id="__codelineno-5-48" name="__codelineno-5-48" href="#__codelineno-5-48"></a>
</span><span id="__span-5-49"><a id="__codelineno-5-49" name="__codelineno-5-49" href="#__codelineno-5-49"></a><span class="o">#</span> <span class="n">get</span> <span class="n">m</span> <span class="mi">1</span> <span class="mi">0</span><span class="o">;;</span>
</span><span id="__span-5-50"><a id="__codelineno-5-50" name="__codelineno-5-50" href="#__codelineno-5-50"></a><span class="o">-</span> <span class="o">:</span> <span class="kt">bool</span> <span class="o">=</span> <span class="bp">true</span>
</span><span id="__span-5-51"><a id="__codelineno-5-51" name="__codelineno-5-51" href="#__codelineno-5-51"></a>
</span><span id="__span-5-52"><a id="__codelineno-5-52" name="__codelineno-5-52" href="#__codelineno-5-52"></a><span class="o">#</span> <span class="n">get</span> <span class="n">m</span> <span class="mi">1</span> <span class="mi">1</span><span class="o">;;</span>
</span><span id="__span-5-53"><a id="__codelineno-5-53" name="__codelineno-5-53" href="#__codelineno-5-53"></a><span class="o">-</span> <span class="o">:</span> <span class="kt">bool</span> <span class="o">=</span> <span class="bp">false</span>
</span><span id="__span-5-54"><a id="__codelineno-5-54" name="__codelineno-5-54" href="#__codelineno-5-54"></a>
</span><span id="__span-5-55"><a id="__codelineno-5-55" name="__codelineno-5-55" href="#__codelineno-5-55"></a><span class="o">#</span> <span class="n">get</span> <span class="n">m</span> <span class="mi">1</span> <span class="mi">2</span><span class="o">;;</span>
</span><span id="__span-5-56"><a id="__codelineno-5-56" name="__codelineno-5-56" href="#__codelineno-5-56"></a><span class="o">-</span> <span class="o">:</span> <span class="kt">bool</span> <span class="o">=</span> <span class="bp">true</span>
</span><span id="__span-5-57"><a id="__codelineno-5-57" name="__codelineno-5-57" href="#__codelineno-5-57"></a>
</span><span id="__span-5-58"><a id="__codelineno-5-58" name="__codelineno-5-58" href="#__codelineno-5-58"></a><span class="o">#</span> <span class="n">dump</span> <span class="n">m</span><span class="o">;;</span>
</span><span id="__span-5-59"><a id="__codelineno-5-59" name="__codelineno-5-59" href="#__codelineno-5-59"></a><span class="c">(* `dump` prints out a description of the binary matrix to the terminal *)</span>
</span><span id="__span-5-60"><a id="__codelineno-5-60" name="__codelineno-5-60" href="#__codelineno-5-60"></a>
</span><span id="__span-5-61"><a id="__codelineno-5-61" name="__codelineno-5-61" href="#__codelineno-5-61"></a><span class="o">-----</span>
</span><span id="__span-5-62"><a id="__codelineno-5-62" name="__codelineno-5-62" href="#__codelineno-5-62"></a><span class="nc">IMPL_BINARY_MATRIX</span><span class="o">:</span> <span class="n">nrows</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span> <span class="n">ncols</span> <span class="o">=</span> <span class="mi">3</span>
</span><span id="__span-5-63"><a id="__codelineno-5-63" name="__codelineno-5-63" href="#__codelineno-5-63"></a>
</span><span id="__span-5-64"><a id="__codelineno-5-64" name="__codelineno-5-64" href="#__codelineno-5-64"></a><span class="nc">ROW</span> <span class="o">-&gt;</span> <span class="nc">COLUMN</span> <span class="nc">SET</span> <span class="nc">MAP</span><span class="o">:</span>
</span><span id="__span-5-65"><a id="__codelineno-5-65" name="__codelineno-5-65" href="#__codelineno-5-65"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">0</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">1</span>
</span><span id="__span-5-66"><a id="__codelineno-5-66" name="__codelineno-5-66" href="#__codelineno-5-66"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">1</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">2</span>
</span><span id="__span-5-67"><a id="__codelineno-5-67" name="__codelineno-5-67" href="#__codelineno-5-67"></a>
</span><span id="__span-5-68"><a id="__codelineno-5-68" name="__codelineno-5-68" href="#__codelineno-5-68"></a><span class="nc">COLUMN</span> <span class="o">-&gt;</span> <span class="nc">ROW</span> <span class="nc">SET</span> <span class="nc">MAP</span><span class="o">:</span>
</span><span id="__span-5-69"><a id="__codelineno-5-69" name="__codelineno-5-69" href="#__codelineno-5-69"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">0</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">1</span>
</span><span id="__span-5-70"><a id="__codelineno-5-70" name="__codelineno-5-70" href="#__codelineno-5-70"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">1</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">0</span>
</span><span id="__span-5-71"><a id="__codelineno-5-71" name="__codelineno-5-71" href="#__codelineno-5-71"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">2</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">1</span>
</span><span id="__span-5-72"><a id="__codelineno-5-72" name="__codelineno-5-72" href="#__codelineno-5-72"></a><span class="o">-----</span>
</span><span id="__span-5-73"><a id="__codelineno-5-73" name="__codelineno-5-73" href="#__codelineno-5-73"></a>
</span><span id="__span-5-74"><a id="__codelineno-5-74" name="__codelineno-5-74" href="#__codelineno-5-74"></a><span class="o">-</span> <span class="o">:</span> <span class="kt">unit</span> <span class="o">=</span> <span class="bp">()</span>
</span></code></pre></div>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Create an empty binary matrix,
then write a helper function
that adds a single (row, column) coordinate to the matrix,
returning a new matrix.
Apply that function successively to each coordinate in the list.
(The <code>List.fold_left</code> function is helpful for problems like this.)
Don't forget to update the <code>_rows</code> and <code>_cols</code> sets
when adding coordinates.</p>
</div>
<h3 id="nrows"><code>nrows</code></h3>
<p>Given a binary matrix as argument,
this function returns the number of rows in the binary matrix.
The code is supplied for you.</p>
<h3 id="ncols"><code>ncols</code></h3>
<p>Given a binary matrix as argument,
this function returns the number of columns in the binary matrix.
The code is supplied for you.</p>
<h3 id="2-rows">2. <code>rows</code></h3>
<p>[<strong>2 points</strong>]</p>
<p>Given a binary matrix as argument,
this function returns a list of all the row indices
stored in the <code>_rows</code> map.
(These are the keys of the map.).
The indices do not have to be in any particular order.</p>
<div class="admonition examples">
<p class="admonition-title">Examples</p>
<div class="language-ocaml highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="o">#</span> <span class="k">let</span> <span class="n">m</span> <span class="o">=</span> <span class="n">make</span> <span class="mi">2</span> <span class="mi">3</span> <span class="o">[(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span> <span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span> <span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">)];;</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="k">val</span> <span class="n">m</span> <span class="o">:</span> <span class="nn">ImplBinaryMatrix</span><span class="p">.</span><span class="n">t</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">abstr</span><span class="o">&gt;</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="o">#</span> <span class="n">rows</span> <span class="n">m</span><span class="o">;;</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="kt">list</span> <span class="o">=</span> <span class="o">[</span><span class="mi">0</span><span class="o">;</span> <span class="mi">1</span><span class="o">]</span>
</span></code></pre></div>
</div>
<h3 id="3-cols">3. <code>cols</code></h3>
<p>[<strong>2 points</strong>]</p>
<p>Given a binary matrix as argument,
this function returns a list of all the column indices
stored in the <code>_cols</code> map.
(These are the keys of the map.).
The indices do not have to be in any particular order.</p>
<div class="admonition examples">
<p class="admonition-title">Examples</p>
<div class="language-ocaml highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="o">#</span> <span class="k">let</span> <span class="n">m</span> <span class="o">=</span> <span class="n">make</span> <span class="mi">2</span> <span class="mi">3</span> <span class="o">[(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span> <span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span> <span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">)];;</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="k">val</span> <span class="n">m</span> <span class="o">:</span> <span class="nn">ImplBinaryMatrix</span><span class="p">.</span><span class="n">t</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">abstr</span><span class="o">&gt;</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="o">#</span> <span class="n">cols</span> <span class="n">m</span><span class="o">;;</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="kt">list</span> <span class="o">=</span> <span class="o">[</span><span class="mi">0</span><span class="o">;</span> <span class="mi">1</span><span class="o">;</span> <span class="mi">2</span><span class="o">]</span>
</span></code></pre></div>
</div>
<h3 id="get"><code>get</code></h3>
<p>This function is supplied for you.
It takes three arguments: a binary matrix,
a row index, and a column index.
It returns the value at that (row, column) location in the binary matrix
as a <code>true</code> or <code>false</code> value.
If the (row, column) locations are outside the bounds of the binary matrix,
it just returns <code>false</code>.
Put differently, given a row and column index,
it returns <code>true</code> if there is a <code>1</code>
at that row, column location in the binary matrix
and <code>false</code> otherwise.</p>
<h3 id="dump"><code>dump</code></h3>
<p>This function is supplied for you.
It takes one argument (a binary matrix)
and prints out a text description of the contents of the matrix.
This is very useful for debugging.</p>
<div class="admonition examples">
<p class="admonition-title">Examples</p>
<div class="language-ocaml highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="o">#</span> <span class="k">let</span> <span class="n">m</span> <span class="o">=</span> <span class="n">make</span> <span class="mi">2</span> <span class="mi">3</span> <span class="o">[(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span> <span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span> <span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">)];;</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="k">val</span> <span class="n">m</span> <span class="o">:</span> <span class="nn">ImplBinaryMatrix</span><span class="p">.</span><span class="n">t</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">abstr</span><span class="o">&gt;</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="o">#</span> <span class="n">dump</span> <span class="n">m</span><span class="o">;;</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="o">-----</span>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="nc">IMPL_BINARY_MATRIX</span><span class="o">:</span> <span class="n">nrows</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span> <span class="n">ncols</span> <span class="o">=</span> <span class="mi">3</span>
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a>
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="nc">ROW</span> <span class="o">-&gt;</span> <span class="nc">COLUMN</span> <span class="nc">SET</span> <span class="nc">MAP</span><span class="o">:</span>
</span><span id="__span-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">0</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">1</span>
</span><span id="__span-8-11"><a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">1</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">2</span>
</span><span id="__span-8-12"><a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a>
</span><span id="__span-8-13"><a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a><span class="nc">COLUMN</span> <span class="o">-&gt;</span> <span class="nc">ROW</span> <span class="nc">SET</span> <span class="nc">MAP</span><span class="o">:</span>
</span><span id="__span-8-14"><a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">0</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">1</span>
</span><span id="__span-8-15"><a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">1</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">0</span>
</span><span id="__span-8-16"><a id="__codelineno-8-16" name="__codelineno-8-16" href="#__codelineno-8-16"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">2</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">1</span>
</span><span id="__span-8-17"><a id="__codelineno-8-17" name="__codelineno-8-17" href="#__codelineno-8-17"></a><span class="o">-----</span>
</span><span id="__span-8-18"><a id="__codelineno-8-18" name="__codelineno-8-18" href="#__codelineno-8-18"></a>
</span><span id="__span-8-19"><a id="__codelineno-8-19" name="__codelineno-8-19" href="#__codelineno-8-19"></a><span class="o">-</span> <span class="o">:</span> <span class="kt">unit</span> <span class="o">=</span> <span class="bp">()</span>
</span></code></pre></div>
</div>
<h3 id="4-rows_for_col">4. <code>rows_for_col</code></h3>
<p>[<strong>5 points</strong>]</p>
<p>This function takes two arguments: a binary matrix and a column index.
It looks up the column index in the <code>_cols</code> field of the matrix
and returns a list of all the row indices for that column
(which are the locations of all the 1s in that column).
If the column index isn't in the <code>_cols</code> map,
it raises a <code>Failure</code> exception with an error message
(the <code>failwith</code> function is convenient here);
it does <em>not</em> return an empty list.
(On the other hand, if the column index maps to an empty set,
it does return an empty list.)
The row indices in the returned list
don't have to be in any particular order.</p>
<div class="admonition examples">
<p class="admonition-title">Examples</p>
<div class="language-ocaml highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="o">#</span> <span class="k">let</span> <span class="n">m</span> <span class="o">=</span> <span class="n">make</span> <span class="mi">4</span> <span class="mi">5</span> <span class="o">[(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span> <span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">4</span><span class="o">);</span> <span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span> <span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">);</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>                    <span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span> <span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">2</span><span class="o">);</span> <span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">);</span> <span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="mi">2</span><span class="o">);</span> <span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="mi">4</span><span class="o">)];;</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="k">val</span> <span class="n">m</span> <span class="o">:</span> <span class="nn">ImplBinaryMatrix</span><span class="p">.</span><span class="n">t</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">abstr</span><span class="o">&gt;</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="c">(* This corresponds to the binary matrix:</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="c">1 0 0 0 1</span>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="c">0 1 1 0 0</span>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="c">1 0 1 1 0</span>
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="c">0 0 1 0 1</span>
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="c">*)</span>
</span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a>
</span><span id="__span-9-12"><a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a><span class="o">#</span> <span class="n">dump</span> <span class="n">m</span><span class="o">;;</span>
</span><span id="__span-9-13"><a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a>
</span><span id="__span-9-14"><a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a><span class="o">-----</span>
</span><span id="__span-9-15"><a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a><span class="nc">IMPL_BINARY_MATRIX</span><span class="o">:</span> <span class="n">nrows</span> <span class="o">=</span> <span class="mi">4</span><span class="o">;</span> <span class="n">ncols</span> <span class="o">=</span> <span class="mi">5</span>
</span><span id="__span-9-16"><a id="__codelineno-9-16" name="__codelineno-9-16" href="#__codelineno-9-16"></a>
</span><span id="__span-9-17"><a id="__codelineno-9-17" name="__codelineno-9-17" href="#__codelineno-9-17"></a><span class="nc">ROW</span> <span class="o">-&gt;</span> <span class="nc">COLUMN</span> <span class="nc">SET</span> <span class="nc">MAP</span><span class="o">:</span>
</span><span id="__span-9-18"><a id="__codelineno-9-18" name="__codelineno-9-18" href="#__codelineno-9-18"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">0</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">4</span>
</span><span id="__span-9-19"><a id="__codelineno-9-19" name="__codelineno-9-19" href="#__codelineno-9-19"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">1</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">1</span> <span class="mi">2</span>
</span><span id="__span-9-20"><a id="__codelineno-9-20" name="__codelineno-9-20" href="#__codelineno-9-20"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">2</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">2</span> <span class="mi">3</span>
</span><span id="__span-9-21"><a id="__codelineno-9-21" name="__codelineno-9-21" href="#__codelineno-9-21"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">3</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">2</span> <span class="mi">4</span>
</span><span id="__span-9-22"><a id="__codelineno-9-22" name="__codelineno-9-22" href="#__codelineno-9-22"></a>
</span><span id="__span-9-23"><a id="__codelineno-9-23" name="__codelineno-9-23" href="#__codelineno-9-23"></a><span class="nc">COLUMN</span> <span class="o">-&gt;</span> <span class="nc">ROW</span> <span class="nc">SET</span> <span class="nc">MAP</span><span class="o">:</span>
</span><span id="__span-9-24"><a id="__codelineno-9-24" name="__codelineno-9-24" href="#__codelineno-9-24"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">0</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">2</span>
</span><span id="__span-9-25"><a id="__codelineno-9-25" name="__codelineno-9-25" href="#__codelineno-9-25"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">1</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">1</span>
</span><span id="__span-9-26"><a id="__codelineno-9-26" name="__codelineno-9-26" href="#__codelineno-9-26"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">2</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span>
</span><span id="__span-9-27"><a id="__codelineno-9-27" name="__codelineno-9-27" href="#__codelineno-9-27"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">3</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">2</span>
</span><span id="__span-9-28"><a id="__codelineno-9-28" name="__codelineno-9-28" href="#__codelineno-9-28"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">4</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">3</span>
</span><span id="__span-9-29"><a id="__codelineno-9-29" name="__codelineno-9-29" href="#__codelineno-9-29"></a><span class="o">-----</span>
</span><span id="__span-9-30"><a id="__codelineno-9-30" name="__codelineno-9-30" href="#__codelineno-9-30"></a>
</span><span id="__span-9-31"><a id="__codelineno-9-31" name="__codelineno-9-31" href="#__codelineno-9-31"></a><span class="o">-</span> <span class="o">:</span> <span class="kt">unit</span> <span class="o">=</span> <span class="bp">()</span>
</span><span id="__span-9-32"><a id="__codelineno-9-32" name="__codelineno-9-32" href="#__codelineno-9-32"></a>
</span><span id="__span-9-33"><a id="__codelineno-9-33" name="__codelineno-9-33" href="#__codelineno-9-33"></a><span class="o">#</span> <span class="n">rows_for_col</span> <span class="n">m</span> <span class="o">(-</span><span class="mi">1</span><span class="o">);;</span>
</span><span id="__span-9-34"><a id="__codelineno-9-34" name="__codelineno-9-34" href="#__codelineno-9-34"></a><span class="nc">Exception</span><span class="o">:</span> <span class="nc">Failure</span> <span class="s2">&quot;rows_for_col: missing column index: -1&quot;</span><span class="o">.</span>
</span><span id="__span-9-35"><a id="__codelineno-9-35" name="__codelineno-9-35" href="#__codelineno-9-35"></a>
</span><span id="__span-9-36"><a id="__codelineno-9-36" name="__codelineno-9-36" href="#__codelineno-9-36"></a><span class="o">#</span> <span class="n">rows_for_col</span> <span class="n">m</span> <span class="mi">0</span><span class="o">;;</span>
</span><span id="__span-9-37"><a id="__codelineno-9-37" name="__codelineno-9-37" href="#__codelineno-9-37"></a><span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="kt">list</span> <span class="o">=</span> <span class="o">[</span><span class="mi">0</span><span class="o">;</span> <span class="mi">2</span><span class="o">]</span>
</span><span id="__span-9-38"><a id="__codelineno-9-38" name="__codelineno-9-38" href="#__codelineno-9-38"></a>
</span><span id="__span-9-39"><a id="__codelineno-9-39" name="__codelineno-9-39" href="#__codelineno-9-39"></a><span class="o">#</span> <span class="n">rows_for_col</span> <span class="n">m</span> <span class="mi">1</span><span class="o">;;</span>
</span><span id="__span-9-40"><a id="__codelineno-9-40" name="__codelineno-9-40" href="#__codelineno-9-40"></a><span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="kt">list</span> <span class="o">=</span> <span class="o">[</span><span class="mi">1</span><span class="o">]</span>
</span><span id="__span-9-41"><a id="__codelineno-9-41" name="__codelineno-9-41" href="#__codelineno-9-41"></a>
</span><span id="__span-9-42"><a id="__codelineno-9-42" name="__codelineno-9-42" href="#__codelineno-9-42"></a><span class="o">#</span> <span class="n">rows_for_col</span> <span class="n">m</span> <span class="mi">2</span><span class="o">;;</span>
</span><span id="__span-9-43"><a id="__codelineno-9-43" name="__codelineno-9-43" href="#__codelineno-9-43"></a><span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="kt">list</span> <span class="o">=</span> <span class="o">[</span><span class="mi">1</span><span class="o">;</span> <span class="mi">2</span><span class="o">;</span> <span class="mi">3</span><span class="o">]</span>
</span><span id="__span-9-44"><a id="__codelineno-9-44" name="__codelineno-9-44" href="#__codelineno-9-44"></a>
</span><span id="__span-9-45"><a id="__codelineno-9-45" name="__codelineno-9-45" href="#__codelineno-9-45"></a><span class="o">#</span> <span class="n">rows_for_col</span> <span class="n">m</span> <span class="mi">3</span><span class="o">;;</span>
</span><span id="__span-9-46"><a id="__codelineno-9-46" name="__codelineno-9-46" href="#__codelineno-9-46"></a><span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="kt">list</span> <span class="o">=</span> <span class="o">[</span><span class="mi">2</span><span class="o">]</span>
</span><span id="__span-9-47"><a id="__codelineno-9-47" name="__codelineno-9-47" href="#__codelineno-9-47"></a>
</span><span id="__span-9-48"><a id="__codelineno-9-48" name="__codelineno-9-48" href="#__codelineno-9-48"></a><span class="o">#</span> <span class="n">rows_for_col</span> <span class="n">m</span> <span class="mi">4</span><span class="o">;;</span>
</span><span id="__span-9-49"><a id="__codelineno-9-49" name="__codelineno-9-49" href="#__codelineno-9-49"></a><span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="kt">list</span> <span class="o">=</span> <span class="o">[</span><span class="mi">0</span><span class="o">;</span> <span class="mi">3</span><span class="o">]</span>
</span><span id="__span-9-50"><a id="__codelineno-9-50" name="__codelineno-9-50" href="#__codelineno-9-50"></a>
</span><span id="__span-9-51"><a id="__codelineno-9-51" name="__codelineno-9-51" href="#__codelineno-9-51"></a><span class="o">#</span> <span class="n">rows_for_col</span> <span class="n">m</span> <span class="mi">5</span><span class="o">;;</span>
</span><span id="__span-9-52"><a id="__codelineno-9-52" name="__codelineno-9-52" href="#__codelineno-9-52"></a><span class="nc">Exception</span><span class="o">:</span> <span class="nc">Failure</span> <span class="s2">&quot;rows_for_col: missing column index: 5&quot;</span><span class="o">.</span>
</span></code></pre></div>
</div>
<h3 id="5-cols_for_row">5. <code>cols_for_row</code></h3>
<p>[<strong>5 points</strong>]</p>
<p>This function takes two arguments: a binary matrix and a row index.
It looks up the row index in the <code>_rows</code> field of the matrix
and returns a list of all the column indices for that row
(which are the locations of all the 1s in that row).
If the row index isn't in the <code>_rows</code> map,
it raises a <code>Failure</code> exception with an error message;
it does <em>not</em> return an empty list.
(On the other hand, if the row index maps to an empty set,
it does return an empty list.)
The column indices in the returned list
don't have to be in any particular order.</p>
<div class="admonition examples">
<p class="admonition-title">Examples</p>
<div class="language-ocaml highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="o">#</span> <span class="k">let</span> <span class="n">m</span> <span class="o">=</span> <span class="n">make</span> <span class="mi">4</span> <span class="mi">5</span> <span class="o">[(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span> <span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">4</span><span class="o">);</span> <span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span> <span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">);</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>                    <span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span> <span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">2</span><span class="o">);</span> <span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">);</span> <span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="mi">2</span><span class="o">);</span> <span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="mi">4</span><span class="o">)];;</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="k">val</span> <span class="n">m</span> <span class="o">:</span> <span class="nn">ImplBinaryMatrix</span><span class="p">.</span><span class="n">t</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">abstr</span><span class="o">&gt;</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="o">#</span> <span class="n">dump</span> <span class="n">m</span><span class="o">;;</span>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="o">-----</span>
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="nc">IMPL_BINARY_MATRIX</span><span class="o">:</span> <span class="n">nrows</span> <span class="o">=</span> <span class="mi">4</span><span class="o">;</span> <span class="n">ncols</span> <span class="o">=</span> <span class="mi">5</span>
</span><span id="__span-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a>
</span><span id="__span-10-10"><a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a><span class="nc">ROW</span> <span class="o">-&gt;</span> <span class="nc">COLUMN</span> <span class="nc">SET</span> <span class="nc">MAP</span><span class="o">:</span>
</span><span id="__span-10-11"><a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">0</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">4</span>
</span><span id="__span-10-12"><a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">1</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">1</span> <span class="mi">2</span>
</span><span id="__span-10-13"><a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">2</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">2</span> <span class="mi">3</span>
</span><span id="__span-10-14"><a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">3</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">2</span> <span class="mi">4</span>
</span><span id="__span-10-15"><a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a>
</span><span id="__span-10-16"><a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a><span class="nc">COLUMN</span> <span class="o">-&gt;</span> <span class="nc">ROW</span> <span class="nc">SET</span> <span class="nc">MAP</span><span class="o">:</span>
</span><span id="__span-10-17"><a id="__codelineno-10-17" name="__codelineno-10-17" href="#__codelineno-10-17"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">0</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">2</span>
</span><span id="__span-10-18"><a id="__codelineno-10-18" name="__codelineno-10-18" href="#__codelineno-10-18"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">1</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">1</span>
</span><span id="__span-10-19"><a id="__codelineno-10-19" name="__codelineno-10-19" href="#__codelineno-10-19"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">2</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span>
</span><span id="__span-10-20"><a id="__codelineno-10-20" name="__codelineno-10-20" href="#__codelineno-10-20"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">3</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">2</span>
</span><span id="__span-10-21"><a id="__codelineno-10-21" name="__codelineno-10-21" href="#__codelineno-10-21"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">4</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">3</span>
</span><span id="__span-10-22"><a id="__codelineno-10-22" name="__codelineno-10-22" href="#__codelineno-10-22"></a><span class="o">-----</span>
</span><span id="__span-10-23"><a id="__codelineno-10-23" name="__codelineno-10-23" href="#__codelineno-10-23"></a>
</span><span id="__span-10-24"><a id="__codelineno-10-24" name="__codelineno-10-24" href="#__codelineno-10-24"></a><span class="o">-</span> <span class="o">:</span> <span class="kt">unit</span> <span class="o">=</span> <span class="bp">()</span>
</span><span id="__span-10-25"><a id="__codelineno-10-25" name="__codelineno-10-25" href="#__codelineno-10-25"></a>
</span><span id="__span-10-26"><a id="__codelineno-10-26" name="__codelineno-10-26" href="#__codelineno-10-26"></a><span class="o">#</span> <span class="n">cols_for_row</span> <span class="n">m</span> <span class="o">(-</span><span class="mi">1</span><span class="o">);;</span>
</span><span id="__span-10-27"><a id="__codelineno-10-27" name="__codelineno-10-27" href="#__codelineno-10-27"></a><span class="nc">Exception</span><span class="o">:</span> <span class="nc">Failure</span> <span class="s2">&quot;cols_for_row: missing row index: -1&quot;</span><span class="o">.</span>
</span><span id="__span-10-28"><a id="__codelineno-10-28" name="__codelineno-10-28" href="#__codelineno-10-28"></a>
</span><span id="__span-10-29"><a id="__codelineno-10-29" name="__codelineno-10-29" href="#__codelineno-10-29"></a><span class="o">#</span> <span class="n">cols_for_row</span> <span class="n">m</span> <span class="mi">0</span><span class="o">;;</span>
</span><span id="__span-10-30"><a id="__codelineno-10-30" name="__codelineno-10-30" href="#__codelineno-10-30"></a><span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="kt">list</span> <span class="o">=</span> <span class="o">[</span><span class="mi">0</span><span class="o">;</span> <span class="mi">4</span><span class="o">]</span>
</span><span id="__span-10-31"><a id="__codelineno-10-31" name="__codelineno-10-31" href="#__codelineno-10-31"></a>
</span><span id="__span-10-32"><a id="__codelineno-10-32" name="__codelineno-10-32" href="#__codelineno-10-32"></a><span class="o">#</span> <span class="n">cols_for_row</span> <span class="n">m</span> <span class="mi">1</span><span class="o">;;</span>
</span><span id="__span-10-33"><a id="__codelineno-10-33" name="__codelineno-10-33" href="#__codelineno-10-33"></a><span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="kt">list</span> <span class="o">=</span> <span class="o">[</span><span class="mi">1</span><span class="o">;</span> <span class="mi">2</span><span class="o">]</span>
</span><span id="__span-10-34"><a id="__codelineno-10-34" name="__codelineno-10-34" href="#__codelineno-10-34"></a>
</span><span id="__span-10-35"><a id="__codelineno-10-35" name="__codelineno-10-35" href="#__codelineno-10-35"></a><span class="o">#</span> <span class="n">cols_for_row</span> <span class="n">m</span> <span class="mi">2</span><span class="o">;;</span>
</span><span id="__span-10-36"><a id="__codelineno-10-36" name="__codelineno-10-36" href="#__codelineno-10-36"></a><span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="kt">list</span> <span class="o">=</span> <span class="o">[</span><span class="mi">0</span><span class="o">;</span> <span class="mi">2</span><span class="o">;</span> <span class="mi">3</span><span class="o">]</span>
</span><span id="__span-10-37"><a id="__codelineno-10-37" name="__codelineno-10-37" href="#__codelineno-10-37"></a>
</span><span id="__span-10-38"><a id="__codelineno-10-38" name="__codelineno-10-38" href="#__codelineno-10-38"></a><span class="o">#</span> <span class="n">cols_for_row</span> <span class="n">m</span> <span class="mi">3</span><span class="o">;;</span>
</span><span id="__span-10-39"><a id="__codelineno-10-39" name="__codelineno-10-39" href="#__codelineno-10-39"></a><span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="kt">list</span> <span class="o">=</span> <span class="o">[</span><span class="mi">2</span><span class="o">;</span> <span class="mi">4</span><span class="o">]</span>
</span><span id="__span-10-40"><a id="__codelineno-10-40" name="__codelineno-10-40" href="#__codelineno-10-40"></a>
</span><span id="__span-10-41"><a id="__codelineno-10-41" name="__codelineno-10-41" href="#__codelineno-10-41"></a><span class="o">#</span> <span class="n">cols_for_row</span> <span class="n">m</span> <span class="mi">4</span><span class="o">;;</span>
</span><span id="__span-10-42"><a id="__codelineno-10-42" name="__codelineno-10-42" href="#__codelineno-10-42"></a><span class="nc">Exception</span><span class="o">:</span> <span class="nc">Failure</span> <span class="s2">&quot;cols_for_row: missing row index: 4&quot;</span><span class="o">.</span>
</span></code></pre></div>
</div>
<h3 id="6-delete_row">6. <code>delete_row</code></h3>
<p>[<strong>5 points</strong>]</p>
<p>This function takes two arguments:
a binary matrix and the index of a row to delete.
It returns a new binary matrix without that row.
(The input binary matrix is unaltered.)
If the row is invalid
(either it is out of range
or there is no such row in the <code>_rows</code> field of the matrix),
raise a <code>Failure</code> exception with an error message.
Otherwise, delete the row from the <code>_rows</code> map.
Also go through each column in the <code>_cols</code> map
and remove the row index from all the row sets that have it.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We need to be clear about the terminology here.
When we say "delete" a row,
we <em>don't</em> mean that you have to change all the row indices
of all the rows after the row being deleted.
The (row, column) indices of the remaining rows should stay the same.
What we mean by "deleting a row"
is that all of the entries in that row that used to be 1s are now 0s.
Since only (row, column) locations
that represent 1s in the matrix are stored,
this is equivalent to deleting those locations.
Conceptually, though, those locations are still in the matrix,
but their values are 0s
(and thus, they aren't stored in this representation of the matrix).
We also have to make sure that the <code>_rows</code> and <code>_cols</code> maps
no longer contain any of the locations
that have been removed from the matrix.</p>
<p>The same considerations apply when deleting columns.</p>
</div>
<p>This is not a long function,
but there are a couple of subtleties you should be aware of.
Deleting a row index from a row set in the <code>_cols</code> field
may result in an empty row set; that is <em>not</em> a mistake.
Empty sets are not allowed in the <code>_rows</code> or <code>_cols</code> field
when the binary matrix is first created using the <code>make</code> function,
but it's OK if deleting a row or column
causes a previously nonempty set to become empty.
<strong>If a set in the <code>_cols</code> map becomes empty,
do not delete it from <code>_cols</code></strong>.
This is important for the functioning of the algorithm
we'll describe in the next section.</p>
<p>Also, if you try to delete a row whose index is not a key in the <code>_rows</code> map,
it's an error and a <code>Failure</code> exception must be raised
(though it doesn't have to originate in this function).</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>The <code>cols_for_row</code> function you defined previously
will be very helpful to you here.
We also found the <code>List.fold_left</code> function to be useful.</p>
</div>
<div class="admonition examples">
<p class="admonition-title">Examples</p>
<div class="language-ocaml highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="o">#</span> <span class="k">let</span> <span class="n">m</span> <span class="o">=</span> <span class="n">make</span> <span class="mi">4</span> <span class="mi">5</span> <span class="o">[(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span> <span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">4</span><span class="o">);</span> <span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span> <span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">);</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>                    <span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span> <span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">2</span><span class="o">);</span> <span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">);</span> <span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="mi">2</span><span class="o">);</span> <span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="mi">4</span><span class="o">)];;</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="k">val</span> <span class="n">m</span> <span class="o">:</span> <span class="nn">ImplBinaryMatrix</span><span class="p">.</span><span class="n">t</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">abstr</span><span class="o">&gt;</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="o">#</span> <span class="n">dump</span> <span class="n">m</span><span class="o">;;</span>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="o">-----</span>
</span><span id="__span-11-8"><a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="nc">IMPL_BINARY_MATRIX</span><span class="o">:</span> <span class="n">nrows</span> <span class="o">=</span> <span class="mi">4</span><span class="o">;</span> <span class="n">ncols</span> <span class="o">=</span> <span class="mi">5</span>
</span><span id="__span-11-9"><a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a>
</span><span id="__span-11-10"><a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a><span class="nc">ROW</span> <span class="o">-&gt;</span> <span class="nc">COLUMN</span> <span class="nc">SET</span> <span class="nc">MAP</span><span class="o">:</span>
</span><span id="__span-11-11"><a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">0</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">4</span>
</span><span id="__span-11-12"><a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">1</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">1</span> <span class="mi">2</span>
</span><span id="__span-11-13"><a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">2</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">2</span> <span class="mi">3</span>
</span><span id="__span-11-14"><a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">3</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">2</span> <span class="mi">4</span>
</span><span id="__span-11-15"><a id="__codelineno-11-15" name="__codelineno-11-15" href="#__codelineno-11-15"></a>
</span><span id="__span-11-16"><a id="__codelineno-11-16" name="__codelineno-11-16" href="#__codelineno-11-16"></a><span class="nc">COLUMN</span> <span class="o">-&gt;</span> <span class="nc">ROW</span> <span class="nc">SET</span> <span class="nc">MAP</span><span class="o">:</span>
</span><span id="__span-11-17"><a id="__codelineno-11-17" name="__codelineno-11-17" href="#__codelineno-11-17"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">0</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">2</span>
</span><span id="__span-11-18"><a id="__codelineno-11-18" name="__codelineno-11-18" href="#__codelineno-11-18"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">1</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">1</span>
</span><span id="__span-11-19"><a id="__codelineno-11-19" name="__codelineno-11-19" href="#__codelineno-11-19"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">2</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span>
</span><span id="__span-11-20"><a id="__codelineno-11-20" name="__codelineno-11-20" href="#__codelineno-11-20"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">3</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">2</span>
</span><span id="__span-11-21"><a id="__codelineno-11-21" name="__codelineno-11-21" href="#__codelineno-11-21"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">4</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">3</span>
</span><span id="__span-11-22"><a id="__codelineno-11-22" name="__codelineno-11-22" href="#__codelineno-11-22"></a><span class="o">-----</span>
</span><span id="__span-11-23"><a id="__codelineno-11-23" name="__codelineno-11-23" href="#__codelineno-11-23"></a>
</span><span id="__span-11-24"><a id="__codelineno-11-24" name="__codelineno-11-24" href="#__codelineno-11-24"></a><span class="o">-</span> <span class="o">:</span> <span class="kt">unit</span> <span class="o">=</span> <span class="bp">()</span>
</span><span id="__span-11-25"><a id="__codelineno-11-25" name="__codelineno-11-25" href="#__codelineno-11-25"></a>
</span><span id="__span-11-26"><a id="__codelineno-11-26" name="__codelineno-11-26" href="#__codelineno-11-26"></a><span class="o">#</span> <span class="n">delete_row</span> <span class="n">m</span> <span class="o">(-</span><span class="mi">1</span><span class="o">);;</span>
</span><span id="__span-11-27"><a id="__codelineno-11-27" name="__codelineno-11-27" href="#__codelineno-11-27"></a><span class="nc">Exception</span><span class="o">:</span> <span class="nc">Failure</span> <span class="s2">&quot;cols_for_row: missing row index: -1&quot;</span><span class="o">.</span>
</span><span id="__span-11-28"><a id="__codelineno-11-28" name="__codelineno-11-28" href="#__codelineno-11-28"></a>
</span><span id="__span-11-29"><a id="__codelineno-11-29" name="__codelineno-11-29" href="#__codelineno-11-29"></a><span class="o">#</span> <span class="n">delete_row</span> <span class="n">m</span> <span class="mi">4</span><span class="o">;;</span>
</span><span id="__span-11-30"><a id="__codelineno-11-30" name="__codelineno-11-30" href="#__codelineno-11-30"></a><span class="nc">Exception</span><span class="o">:</span> <span class="nc">Failure</span> <span class="s2">&quot;cols_for_row: missing row index: 4&quot;</span><span class="o">.</span>
</span><span id="__span-11-31"><a id="__codelineno-11-31" name="__codelineno-11-31" href="#__codelineno-11-31"></a>
</span><span id="__span-11-32"><a id="__codelineno-11-32" name="__codelineno-11-32" href="#__codelineno-11-32"></a><span class="o">#</span> <span class="n">dump</span> <span class="o">(</span><span class="n">delete_row</span> <span class="n">m</span> <span class="mi">0</span><span class="o">);;</span>
</span><span id="__span-11-33"><a id="__codelineno-11-33" name="__codelineno-11-33" href="#__codelineno-11-33"></a>
</span><span id="__span-11-34"><a id="__codelineno-11-34" name="__codelineno-11-34" href="#__codelineno-11-34"></a><span class="o">-----</span>
</span><span id="__span-11-35"><a id="__codelineno-11-35" name="__codelineno-11-35" href="#__codelineno-11-35"></a><span class="nc">IMPL_BINARY_MATRIX</span><span class="o">:</span> <span class="n">nrows</span> <span class="o">=</span> <span class="mi">4</span><span class="o">;</span> <span class="n">ncols</span> <span class="o">=</span> <span class="mi">5</span>
</span><span id="__span-11-36"><a id="__codelineno-11-36" name="__codelineno-11-36" href="#__codelineno-11-36"></a>
</span><span id="__span-11-37"><a id="__codelineno-11-37" name="__codelineno-11-37" href="#__codelineno-11-37"></a><span class="nc">ROW</span> <span class="o">-&gt;</span> <span class="nc">COLUMN</span> <span class="nc">SET</span> <span class="nc">MAP</span><span class="o">:</span>
</span><span id="__span-11-38"><a id="__codelineno-11-38" name="__codelineno-11-38" href="#__codelineno-11-38"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">1</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">1</span> <span class="mi">2</span>
</span><span id="__span-11-39"><a id="__codelineno-11-39" name="__codelineno-11-39" href="#__codelineno-11-39"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">2</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">2</span> <span class="mi">3</span>
</span><span id="__span-11-40"><a id="__codelineno-11-40" name="__codelineno-11-40" href="#__codelineno-11-40"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">3</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">2</span> <span class="mi">4</span>
</span><span id="__span-11-41"><a id="__codelineno-11-41" name="__codelineno-11-41" href="#__codelineno-11-41"></a>
</span><span id="__span-11-42"><a id="__codelineno-11-42" name="__codelineno-11-42" href="#__codelineno-11-42"></a><span class="nc">COLUMN</span> <span class="o">-&gt;</span> <span class="nc">ROW</span> <span class="nc">SET</span> <span class="nc">MAP</span><span class="o">:</span>
</span><span id="__span-11-43"><a id="__codelineno-11-43" name="__codelineno-11-43" href="#__codelineno-11-43"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">0</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">2</span>
</span><span id="__span-11-44"><a id="__codelineno-11-44" name="__codelineno-11-44" href="#__codelineno-11-44"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">1</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">1</span>
</span><span id="__span-11-45"><a id="__codelineno-11-45" name="__codelineno-11-45" href="#__codelineno-11-45"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">2</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span>
</span><span id="__span-11-46"><a id="__codelineno-11-46" name="__codelineno-11-46" href="#__codelineno-11-46"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">3</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">2</span>
</span><span id="__span-11-47"><a id="__codelineno-11-47" name="__codelineno-11-47" href="#__codelineno-11-47"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">4</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">3</span>
</span><span id="__span-11-48"><a id="__codelineno-11-48" name="__codelineno-11-48" href="#__codelineno-11-48"></a><span class="o">-----</span>
</span><span id="__span-11-49"><a id="__codelineno-11-49" name="__codelineno-11-49" href="#__codelineno-11-49"></a>
</span><span id="__span-11-50"><a id="__codelineno-11-50" name="__codelineno-11-50" href="#__codelineno-11-50"></a><span class="o">-</span> <span class="o">:</span> <span class="kt">unit</span> <span class="o">=</span> <span class="bp">()</span>
</span><span id="__span-11-51"><a id="__codelineno-11-51" name="__codelineno-11-51" href="#__codelineno-11-51"></a>
</span><span id="__span-11-52"><a id="__codelineno-11-52" name="__codelineno-11-52" href="#__codelineno-11-52"></a><span class="o">#</span> <span class="k">let</span> <span class="n">m&#39;</span> <span class="o">=</span> <span class="n">delete_row</span> <span class="n">m</span> <span class="mi">0</span><span class="o">;;</span>
</span><span id="__span-11-53"><a id="__codelineno-11-53" name="__codelineno-11-53" href="#__codelineno-11-53"></a><span class="o">#</span> <span class="n">delete_row</span> <span class="n">m&#39;</span> <span class="mi">0</span><span class="o">;;</span>  <span class="c">(* deleting a nonexistent row fails *)</span>
</span><span id="__span-11-54"><a id="__codelineno-11-54" name="__codelineno-11-54" href="#__codelineno-11-54"></a><span class="nc">Exception</span><span class="o">:</span> <span class="nc">Failure</span> <span class="s2">&quot;cols_for_row: missing row index: 0&quot;</span><span class="o">.</span>
</span><span id="__span-11-55"><a id="__codelineno-11-55" name="__codelineno-11-55" href="#__codelineno-11-55"></a>
</span><span id="__span-11-56"><a id="__codelineno-11-56" name="__codelineno-11-56" href="#__codelineno-11-56"></a><span class="o">#</span> <span class="n">dump</span> <span class="o">(</span><span class="n">delete_row</span> <span class="n">m</span> <span class="mi">1</span><span class="o">);</span>  <span class="c">(* delete row 1 from original matrix *)</span>
</span><span id="__span-11-57"><a id="__codelineno-11-57" name="__codelineno-11-57" href="#__codelineno-11-57"></a>
</span><span id="__span-11-58"><a id="__codelineno-11-58" name="__codelineno-11-58" href="#__codelineno-11-58"></a><span class="o">-----</span>
</span><span id="__span-11-59"><a id="__codelineno-11-59" name="__codelineno-11-59" href="#__codelineno-11-59"></a><span class="nc">IMPL_BINARY_MATRIX</span><span class="o">:</span> <span class="n">nrows</span> <span class="o">=</span> <span class="mi">4</span><span class="o">;</span> <span class="n">ncols</span> <span class="o">=</span> <span class="mi">5</span>
</span><span id="__span-11-60"><a id="__codelineno-11-60" name="__codelineno-11-60" href="#__codelineno-11-60"></a>
</span><span id="__span-11-61"><a id="__codelineno-11-61" name="__codelineno-11-61" href="#__codelineno-11-61"></a><span class="nc">ROW</span> <span class="o">-&gt;</span> <span class="nc">COLUMN</span> <span class="nc">SET</span> <span class="nc">MAP</span><span class="o">:</span>
</span><span id="__span-11-62"><a id="__codelineno-11-62" name="__codelineno-11-62" href="#__codelineno-11-62"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">0</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">4</span>
</span><span id="__span-11-63"><a id="__codelineno-11-63" name="__codelineno-11-63" href="#__codelineno-11-63"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">2</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">2</span> <span class="mi">3</span>
</span><span id="__span-11-64"><a id="__codelineno-11-64" name="__codelineno-11-64" href="#__codelineno-11-64"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">3</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">2</span> <span class="mi">4</span>
</span><span id="__span-11-65"><a id="__codelineno-11-65" name="__codelineno-11-65" href="#__codelineno-11-65"></a>
</span><span id="__span-11-66"><a id="__codelineno-11-66" name="__codelineno-11-66" href="#__codelineno-11-66"></a><span class="nc">COLUMN</span> <span class="o">-&gt;</span> <span class="nc">ROW</span> <span class="nc">SET</span> <span class="nc">MAP</span><span class="o">:</span>
</span><span id="__span-11-67"><a id="__codelineno-11-67" name="__codelineno-11-67" href="#__codelineno-11-67"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">0</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">2</span>
</span><span id="__span-11-68"><a id="__codelineno-11-68" name="__codelineno-11-68" href="#__codelineno-11-68"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">1</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span>            <span class="c">(* empty row set! *)</span>
</span><span id="__span-11-69"><a id="__codelineno-11-69" name="__codelineno-11-69" href="#__codelineno-11-69"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">2</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">2</span> <span class="mi">3</span>
</span><span id="__span-11-70"><a id="__codelineno-11-70" name="__codelineno-11-70" href="#__codelineno-11-70"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">3</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">2</span>
</span><span id="__span-11-71"><a id="__codelineno-11-71" name="__codelineno-11-71" href="#__codelineno-11-71"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">4</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">3</span>
</span><span id="__span-11-72"><a id="__codelineno-11-72" name="__codelineno-11-72" href="#__codelineno-11-72"></a><span class="o">-----</span>
</span><span id="__span-11-73"><a id="__codelineno-11-73" name="__codelineno-11-73" href="#__codelineno-11-73"></a>
</span><span id="__span-11-74"><a id="__codelineno-11-74" name="__codelineno-11-74" href="#__codelineno-11-74"></a><span class="o">-</span> <span class="o">:</span> <span class="kt">unit</span> <span class="o">=</span> <span class="bp">()</span>
</span><span id="__span-11-75"><a id="__codelineno-11-75" name="__codelineno-11-75" href="#__codelineno-11-75"></a>
</span><span id="__span-11-76"><a id="__codelineno-11-76" name="__codelineno-11-76" href="#__codelineno-11-76"></a><span class="o">#</span> <span class="n">dump</span> <span class="o">(</span><span class="n">delete_row</span> <span class="n">m</span> <span class="mi">2</span><span class="o">);;</span>
</span><span id="__span-11-77"><a id="__codelineno-11-77" name="__codelineno-11-77" href="#__codelineno-11-77"></a>
</span><span id="__span-11-78"><a id="__codelineno-11-78" name="__codelineno-11-78" href="#__codelineno-11-78"></a><span class="o">-----</span>
</span><span id="__span-11-79"><a id="__codelineno-11-79" name="__codelineno-11-79" href="#__codelineno-11-79"></a><span class="nc">IMPL_BINARY_MATRIX</span><span class="o">:</span> <span class="n">nrows</span> <span class="o">=</span> <span class="mi">4</span><span class="o">;</span> <span class="n">ncols</span> <span class="o">=</span> <span class="mi">5</span>
</span><span id="__span-11-80"><a id="__codelineno-11-80" name="__codelineno-11-80" href="#__codelineno-11-80"></a>
</span><span id="__span-11-81"><a id="__codelineno-11-81" name="__codelineno-11-81" href="#__codelineno-11-81"></a><span class="nc">ROW</span> <span class="o">-&gt;</span> <span class="nc">COLUMN</span> <span class="nc">SET</span> <span class="nc">MAP</span><span class="o">:</span>
</span><span id="__span-11-82"><a id="__codelineno-11-82" name="__codelineno-11-82" href="#__codelineno-11-82"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">0</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">4</span>
</span><span id="__span-11-83"><a id="__codelineno-11-83" name="__codelineno-11-83" href="#__codelineno-11-83"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">1</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">1</span> <span class="mi">2</span>
</span><span id="__span-11-84"><a id="__codelineno-11-84" name="__codelineno-11-84" href="#__codelineno-11-84"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">3</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">2</span> <span class="mi">4</span>
</span><span id="__span-11-85"><a id="__codelineno-11-85" name="__codelineno-11-85" href="#__codelineno-11-85"></a>
</span><span id="__span-11-86"><a id="__codelineno-11-86" name="__codelineno-11-86" href="#__codelineno-11-86"></a><span class="nc">COLUMN</span> <span class="o">-&gt;</span> <span class="nc">ROW</span> <span class="nc">SET</span> <span class="nc">MAP</span><span class="o">:</span>
</span><span id="__span-11-87"><a id="__codelineno-11-87" name="__codelineno-11-87" href="#__codelineno-11-87"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">0</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">0</span>
</span><span id="__span-11-88"><a id="__codelineno-11-88" name="__codelineno-11-88" href="#__codelineno-11-88"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">1</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">1</span>
</span><span id="__span-11-89"><a id="__codelineno-11-89" name="__codelineno-11-89" href="#__codelineno-11-89"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">2</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">1</span> <span class="mi">3</span>
</span><span id="__span-11-90"><a id="__codelineno-11-90" name="__codelineno-11-90" href="#__codelineno-11-90"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">3</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span>            <span class="c">(* empty row set! *)</span>
</span><span id="__span-11-91"><a id="__codelineno-11-91" name="__codelineno-11-91" href="#__codelineno-11-91"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">4</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">3</span>
</span><span id="__span-11-92"><a id="__codelineno-11-92" name="__codelineno-11-92" href="#__codelineno-11-92"></a><span class="o">-----</span>
</span><span id="__span-11-93"><a id="__codelineno-11-93" name="__codelineno-11-93" href="#__codelineno-11-93"></a>
</span><span id="__span-11-94"><a id="__codelineno-11-94" name="__codelineno-11-94" href="#__codelineno-11-94"></a><span class="o">-</span> <span class="o">:</span> <span class="kt">unit</span> <span class="o">=</span> <span class="bp">()</span>
</span><span id="__span-11-95"><a id="__codelineno-11-95" name="__codelineno-11-95" href="#__codelineno-11-95"></a>
</span><span id="__span-11-96"><a id="__codelineno-11-96" name="__codelineno-11-96" href="#__codelineno-11-96"></a><span class="o">#</span> <span class="n">dump</span> <span class="o">(</span><span class="n">delete_row</span> <span class="n">m</span> <span class="mi">3</span><span class="o">);;</span>
</span><span id="__span-11-97"><a id="__codelineno-11-97" name="__codelineno-11-97" href="#__codelineno-11-97"></a>
</span><span id="__span-11-98"><a id="__codelineno-11-98" name="__codelineno-11-98" href="#__codelineno-11-98"></a><span class="o">-----</span>
</span><span id="__span-11-99"><a id="__codelineno-11-99" name="__codelineno-11-99" href="#__codelineno-11-99"></a><span class="nc">IMPL_BINARY_MATRIX</span><span class="o">:</span> <span class="n">nrows</span> <span class="o">=</span> <span class="mi">4</span><span class="o">;</span> <span class="n">ncols</span> <span class="o">=</span> <span class="mi">5</span>
</span><span id="__span-11-100"><a id="__codelineno-11-100" name="__codelineno-11-100" href="#__codelineno-11-100"></a>
</span><span id="__span-11-101"><a id="__codelineno-11-101" name="__codelineno-11-101" href="#__codelineno-11-101"></a><span class="nc">ROW</span> <span class="o">-&gt;</span> <span class="nc">COLUMN</span> <span class="nc">SET</span> <span class="nc">MAP</span><span class="o">:</span>
</span><span id="__span-11-102"><a id="__codelineno-11-102" name="__codelineno-11-102" href="#__codelineno-11-102"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">0</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">4</span>
</span><span id="__span-11-103"><a id="__codelineno-11-103" name="__codelineno-11-103" href="#__codelineno-11-103"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">1</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">1</span> <span class="mi">2</span>
</span><span id="__span-11-104"><a id="__codelineno-11-104" name="__codelineno-11-104" href="#__codelineno-11-104"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">2</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">2</span> <span class="mi">3</span>
</span><span id="__span-11-105"><a id="__codelineno-11-105" name="__codelineno-11-105" href="#__codelineno-11-105"></a>
</span><span id="__span-11-106"><a id="__codelineno-11-106" name="__codelineno-11-106" href="#__codelineno-11-106"></a><span class="nc">COLUMN</span> <span class="o">-&gt;</span> <span class="nc">ROW</span> <span class="nc">SET</span> <span class="nc">MAP</span><span class="o">:</span>
</span><span id="__span-11-107"><a id="__codelineno-11-107" name="__codelineno-11-107" href="#__codelineno-11-107"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">0</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">2</span>
</span><span id="__span-11-108"><a id="__codelineno-11-108" name="__codelineno-11-108" href="#__codelineno-11-108"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">1</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">1</span>
</span><span id="__span-11-109"><a id="__codelineno-11-109" name="__codelineno-11-109" href="#__codelineno-11-109"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">2</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">1</span> <span class="mi">2</span>
</span><span id="__span-11-110"><a id="__codelineno-11-110" name="__codelineno-11-110" href="#__codelineno-11-110"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">3</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">2</span>
</span><span id="__span-11-111"><a id="__codelineno-11-111" name="__codelineno-11-111" href="#__codelineno-11-111"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">4</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">0</span>
</span><span id="__span-11-112"><a id="__codelineno-11-112" name="__codelineno-11-112" href="#__codelineno-11-112"></a><span class="o">-----</span>
</span><span id="__span-11-113"><a id="__codelineno-11-113" name="__codelineno-11-113" href="#__codelineno-11-113"></a>
</span><span id="__span-11-114"><a id="__codelineno-11-114" name="__codelineno-11-114" href="#__codelineno-11-114"></a><span class="o">-</span> <span class="o">:</span> <span class="kt">unit</span> <span class="o">=</span> <span class="bp">()</span>
</span></code></pre></div>
</div>
<p>As mentioned above,
deleting a row can make some of the row sets
in the <code>_cols</code> field of a binary matrix empty.
(You can see that here.)
In other words, the <code>_cols</code> map may have some column indices 
mapping to empty sets after deleting a row.</p>
<h3 id="7-delete_col">7. <code>delete_col</code></h3>
<p>[<strong>5 points</strong>]</p>
<p>This function is just like <code>delete_row</code>,
except that here you are deleting columns instead of rows.</p>
<div class="admonition examples">
<p class="admonition-title">Examples</p>
<div class="language-ocaml highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="o">#</span> <span class="k">let</span> <span class="n">m</span> <span class="o">=</span> <span class="n">make</span> <span class="mi">4</span> <span class="mi">5</span> <span class="o">[(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span> <span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">4</span><span class="o">);</span> <span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span> <span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">);</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>                    <span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span> <span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">2</span><span class="o">);</span> <span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">);</span> <span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="mi">2</span><span class="o">);</span> <span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="mi">4</span><span class="o">)];;</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="k">val</span> <span class="n">m</span> <span class="o">:</span> <span class="nn">ImplBinaryMatrix</span><span class="p">.</span><span class="n">t</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">abstr</span><span class="o">&gt;</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="o">#</span> <span class="n">dump</span> <span class="n">m</span><span class="o">;;</span>
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="o">-----</span>
</span><span id="__span-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a><span class="nc">IMPL_BINARY_MATRIX</span><span class="o">:</span> <span class="n">nrows</span> <span class="o">=</span> <span class="mi">4</span><span class="o">;</span> <span class="n">ncols</span> <span class="o">=</span> <span class="mi">5</span>
</span><span id="__span-12-9"><a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a>
</span><span id="__span-12-10"><a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a><span class="nc">ROW</span> <span class="o">-&gt;</span> <span class="nc">COLUMN</span> <span class="nc">SET</span> <span class="nc">MAP</span><span class="o">:</span>
</span><span id="__span-12-11"><a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">0</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">4</span>
</span><span id="__span-12-12"><a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">1</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">1</span> <span class="mi">2</span>
</span><span id="__span-12-13"><a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">2</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">2</span> <span class="mi">3</span>
</span><span id="__span-12-14"><a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">3</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">2</span> <span class="mi">4</span>
</span><span id="__span-12-15"><a id="__codelineno-12-15" name="__codelineno-12-15" href="#__codelineno-12-15"></a>
</span><span id="__span-12-16"><a id="__codelineno-12-16" name="__codelineno-12-16" href="#__codelineno-12-16"></a><span class="nc">COLUMN</span> <span class="o">-&gt;</span> <span class="nc">ROW</span> <span class="nc">SET</span> <span class="nc">MAP</span><span class="o">:</span>
</span><span id="__span-12-17"><a id="__codelineno-12-17" name="__codelineno-12-17" href="#__codelineno-12-17"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">0</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">2</span>
</span><span id="__span-12-18"><a id="__codelineno-12-18" name="__codelineno-12-18" href="#__codelineno-12-18"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">1</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">1</span>
</span><span id="__span-12-19"><a id="__codelineno-12-19" name="__codelineno-12-19" href="#__codelineno-12-19"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">2</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span>
</span><span id="__span-12-20"><a id="__codelineno-12-20" name="__codelineno-12-20" href="#__codelineno-12-20"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">3</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">2</span>
</span><span id="__span-12-21"><a id="__codelineno-12-21" name="__codelineno-12-21" href="#__codelineno-12-21"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">4</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">3</span>
</span><span id="__span-12-22"><a id="__codelineno-12-22" name="__codelineno-12-22" href="#__codelineno-12-22"></a><span class="o">-----</span>
</span><span id="__span-12-23"><a id="__codelineno-12-23" name="__codelineno-12-23" href="#__codelineno-12-23"></a>
</span><span id="__span-12-24"><a id="__codelineno-12-24" name="__codelineno-12-24" href="#__codelineno-12-24"></a><span class="o">-</span> <span class="o">:</span> <span class="kt">unit</span> <span class="o">=</span> <span class="bp">()</span>
</span><span id="__span-12-25"><a id="__codelineno-12-25" name="__codelineno-12-25" href="#__codelineno-12-25"></a>
</span><span id="__span-12-26"><a id="__codelineno-12-26" name="__codelineno-12-26" href="#__codelineno-12-26"></a><span class="o">#</span> <span class="n">delete_col</span> <span class="n">m</span> <span class="o">(-</span><span class="mi">1</span><span class="o">);;</span>
</span><span id="__span-12-27"><a id="__codelineno-12-27" name="__codelineno-12-27" href="#__codelineno-12-27"></a><span class="nc">Exception</span><span class="o">:</span> <span class="nc">Failure</span> <span class="s2">&quot;rows_for_col: missing column index: -1&quot;</span><span class="o">.</span>
</span><span id="__span-12-28"><a id="__codelineno-12-28" name="__codelineno-12-28" href="#__codelineno-12-28"></a>
</span><span id="__span-12-29"><a id="__codelineno-12-29" name="__codelineno-12-29" href="#__codelineno-12-29"></a><span class="o">#</span> <span class="n">delete_col</span> <span class="n">m</span> <span class="mi">5</span><span class="o">;;</span>
</span><span id="__span-12-30"><a id="__codelineno-12-30" name="__codelineno-12-30" href="#__codelineno-12-30"></a><span class="nc">Exception</span><span class="o">:</span> <span class="nc">Failure</span> <span class="s2">&quot;rows_for_col: missing column index: 5&quot;</span><span class="o">.</span>
</span><span id="__span-12-31"><a id="__codelineno-12-31" name="__codelineno-12-31" href="#__codelineno-12-31"></a>
</span><span id="__span-12-32"><a id="__codelineno-12-32" name="__codelineno-12-32" href="#__codelineno-12-32"></a><span class="o">#</span> <span class="n">dump</span> <span class="o">(</span><span class="n">delete_col</span> <span class="n">m</span> <span class="mi">0</span><span class="o">);;</span>
</span><span id="__span-12-33"><a id="__codelineno-12-33" name="__codelineno-12-33" href="#__codelineno-12-33"></a>
</span><span id="__span-12-34"><a id="__codelineno-12-34" name="__codelineno-12-34" href="#__codelineno-12-34"></a><span class="o">-----</span>
</span><span id="__span-12-35"><a id="__codelineno-12-35" name="__codelineno-12-35" href="#__codelineno-12-35"></a><span class="nc">IMPL_BINARY_MATRIX</span><span class="o">:</span> <span class="n">nrows</span> <span class="o">=</span> <span class="mi">4</span><span class="o">;</span> <span class="n">ncols</span> <span class="o">=</span> <span class="mi">5</span>
</span><span id="__span-12-36"><a id="__codelineno-12-36" name="__codelineno-12-36" href="#__codelineno-12-36"></a>
</span><span id="__span-12-37"><a id="__codelineno-12-37" name="__codelineno-12-37" href="#__codelineno-12-37"></a><span class="nc">ROW</span> <span class="o">-&gt;</span> <span class="nc">COLUMN</span> <span class="nc">SET</span> <span class="nc">MAP</span><span class="o">:</span>
</span><span id="__span-12-38"><a id="__codelineno-12-38" name="__codelineno-12-38" href="#__codelineno-12-38"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">0</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">4</span>
</span><span id="__span-12-39"><a id="__codelineno-12-39" name="__codelineno-12-39" href="#__codelineno-12-39"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">1</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">1</span> <span class="mi">2</span>
</span><span id="__span-12-40"><a id="__codelineno-12-40" name="__codelineno-12-40" href="#__codelineno-12-40"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">2</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">2</span> <span class="mi">3</span>
</span><span id="__span-12-41"><a id="__codelineno-12-41" name="__codelineno-12-41" href="#__codelineno-12-41"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">3</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">2</span> <span class="mi">4</span>
</span><span id="__span-12-42"><a id="__codelineno-12-42" name="__codelineno-12-42" href="#__codelineno-12-42"></a>
</span><span id="__span-12-43"><a id="__codelineno-12-43" name="__codelineno-12-43" href="#__codelineno-12-43"></a><span class="nc">COLUMN</span> <span class="o">-&gt;</span> <span class="nc">ROW</span> <span class="nc">SET</span> <span class="nc">MAP</span><span class="o">:</span>
</span><span id="__span-12-44"><a id="__codelineno-12-44" name="__codelineno-12-44" href="#__codelineno-12-44"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">1</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">1</span>
</span><span id="__span-12-45"><a id="__codelineno-12-45" name="__codelineno-12-45" href="#__codelineno-12-45"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">2</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span>
</span><span id="__span-12-46"><a id="__codelineno-12-46" name="__codelineno-12-46" href="#__codelineno-12-46"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">3</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">2</span>
</span><span id="__span-12-47"><a id="__codelineno-12-47" name="__codelineno-12-47" href="#__codelineno-12-47"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">4</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">3</span>
</span><span id="__span-12-48"><a id="__codelineno-12-48" name="__codelineno-12-48" href="#__codelineno-12-48"></a><span class="o">-----</span>
</span><span id="__span-12-49"><a id="__codelineno-12-49" name="__codelineno-12-49" href="#__codelineno-12-49"></a>
</span><span id="__span-12-50"><a id="__codelineno-12-50" name="__codelineno-12-50" href="#__codelineno-12-50"></a><span class="o">-</span> <span class="o">:</span> <span class="kt">unit</span> <span class="o">=</span> <span class="bp">()</span>
</span><span id="__span-12-51"><a id="__codelineno-12-51" name="__codelineno-12-51" href="#__codelineno-12-51"></a>
</span><span id="__span-12-52"><a id="__codelineno-12-52" name="__codelineno-12-52" href="#__codelineno-12-52"></a><span class="o">#</span> <span class="n">dump</span> <span class="o">(</span><span class="n">delete_col</span> <span class="n">m</span> <span class="mi">1</span><span class="o">);;</span>
</span><span id="__span-12-53"><a id="__codelineno-12-53" name="__codelineno-12-53" href="#__codelineno-12-53"></a>
</span><span id="__span-12-54"><a id="__codelineno-12-54" name="__codelineno-12-54" href="#__codelineno-12-54"></a><span class="o">-----</span>
</span><span id="__span-12-55"><a id="__codelineno-12-55" name="__codelineno-12-55" href="#__codelineno-12-55"></a><span class="nc">IMPL_BINARY_MATRIX</span><span class="o">:</span> <span class="n">nrows</span> <span class="o">=</span> <span class="mi">4</span><span class="o">;</span> <span class="n">ncols</span> <span class="o">=</span> <span class="mi">5</span>
</span><span id="__span-12-56"><a id="__codelineno-12-56" name="__codelineno-12-56" href="#__codelineno-12-56"></a>
</span><span id="__span-12-57"><a id="__codelineno-12-57" name="__codelineno-12-57" href="#__codelineno-12-57"></a><span class="nc">ROW</span> <span class="o">-&gt;</span> <span class="nc">COLUMN</span> <span class="nc">SET</span> <span class="nc">MAP</span><span class="o">:</span>
</span><span id="__span-12-58"><a id="__codelineno-12-58" name="__codelineno-12-58" href="#__codelineno-12-58"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">0</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">4</span>
</span><span id="__span-12-59"><a id="__codelineno-12-59" name="__codelineno-12-59" href="#__codelineno-12-59"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">1</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">2</span>
</span><span id="__span-12-60"><a id="__codelineno-12-60" name="__codelineno-12-60" href="#__codelineno-12-60"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">2</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">2</span> <span class="mi">3</span>
</span><span id="__span-12-61"><a id="__codelineno-12-61" name="__codelineno-12-61" href="#__codelineno-12-61"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">3</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">2</span> <span class="mi">4</span>
</span><span id="__span-12-62"><a id="__codelineno-12-62" name="__codelineno-12-62" href="#__codelineno-12-62"></a>
</span><span id="__span-12-63"><a id="__codelineno-12-63" name="__codelineno-12-63" href="#__codelineno-12-63"></a><span class="nc">COLUMN</span> <span class="o">-&gt;</span> <span class="nc">ROW</span> <span class="nc">SET</span> <span class="nc">MAP</span><span class="o">:</span>
</span><span id="__span-12-64"><a id="__codelineno-12-64" name="__codelineno-12-64" href="#__codelineno-12-64"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">0</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">2</span>
</span><span id="__span-12-65"><a id="__codelineno-12-65" name="__codelineno-12-65" href="#__codelineno-12-65"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">2</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span>
</span><span id="__span-12-66"><a id="__codelineno-12-66" name="__codelineno-12-66" href="#__codelineno-12-66"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">3</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">2</span>
</span><span id="__span-12-67"><a id="__codelineno-12-67" name="__codelineno-12-67" href="#__codelineno-12-67"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">4</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">3</span>
</span><span id="__span-12-68"><a id="__codelineno-12-68" name="__codelineno-12-68" href="#__codelineno-12-68"></a><span class="o">-----</span>
</span><span id="__span-12-69"><a id="__codelineno-12-69" name="__codelineno-12-69" href="#__codelineno-12-69"></a>
</span><span id="__span-12-70"><a id="__codelineno-12-70" name="__codelineno-12-70" href="#__codelineno-12-70"></a><span class="o">-</span> <span class="o">:</span> <span class="kt">unit</span> <span class="o">=</span> <span class="bp">()</span>
</span><span id="__span-12-71"><a id="__codelineno-12-71" name="__codelineno-12-71" href="#__codelineno-12-71"></a>
</span><span id="__span-12-72"><a id="__codelineno-12-72" name="__codelineno-12-72" href="#__codelineno-12-72"></a><span class="o">#</span> <span class="n">dump</span> <span class="o">(</span><span class="n">delete_col</span> <span class="n">m</span> <span class="mi">2</span><span class="o">);;</span>
</span><span id="__span-12-73"><a id="__codelineno-12-73" name="__codelineno-12-73" href="#__codelineno-12-73"></a>
</span><span id="__span-12-74"><a id="__codelineno-12-74" name="__codelineno-12-74" href="#__codelineno-12-74"></a><span class="o">-----</span>
</span><span id="__span-12-75"><a id="__codelineno-12-75" name="__codelineno-12-75" href="#__codelineno-12-75"></a><span class="nc">IMPL_BINARY_MATRIX</span><span class="o">:</span> <span class="n">nrows</span> <span class="o">=</span> <span class="mi">4</span><span class="o">;</span> <span class="n">ncols</span> <span class="o">=</span> <span class="mi">5</span>
</span><span id="__span-12-76"><a id="__codelineno-12-76" name="__codelineno-12-76" href="#__codelineno-12-76"></a>
</span><span id="__span-12-77"><a id="__codelineno-12-77" name="__codelineno-12-77" href="#__codelineno-12-77"></a><span class="nc">ROW</span> <span class="o">-&gt;</span> <span class="nc">COLUMN</span> <span class="nc">SET</span> <span class="nc">MAP</span><span class="o">:</span>
</span><span id="__span-12-78"><a id="__codelineno-12-78" name="__codelineno-12-78" href="#__codelineno-12-78"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">0</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">4</span>
</span><span id="__span-12-79"><a id="__codelineno-12-79" name="__codelineno-12-79" href="#__codelineno-12-79"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">1</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">1</span>
</span><span id="__span-12-80"><a id="__codelineno-12-80" name="__codelineno-12-80" href="#__codelineno-12-80"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">2</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">3</span>
</span><span id="__span-12-81"><a id="__codelineno-12-81" name="__codelineno-12-81" href="#__codelineno-12-81"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">3</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">4</span>
</span><span id="__span-12-82"><a id="__codelineno-12-82" name="__codelineno-12-82" href="#__codelineno-12-82"></a>
</span><span id="__span-12-83"><a id="__codelineno-12-83" name="__codelineno-12-83" href="#__codelineno-12-83"></a><span class="nc">COLUMN</span> <span class="o">-&gt;</span> <span class="nc">ROW</span> <span class="nc">SET</span> <span class="nc">MAP</span><span class="o">:</span>
</span><span id="__span-12-84"><a id="__codelineno-12-84" name="__codelineno-12-84" href="#__codelineno-12-84"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">0</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">2</span>
</span><span id="__span-12-85"><a id="__codelineno-12-85" name="__codelineno-12-85" href="#__codelineno-12-85"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">1</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">1</span>
</span><span id="__span-12-86"><a id="__codelineno-12-86" name="__codelineno-12-86" href="#__codelineno-12-86"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">3</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">2</span>
</span><span id="__span-12-87"><a id="__codelineno-12-87" name="__codelineno-12-87" href="#__codelineno-12-87"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">4</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">3</span>
</span><span id="__span-12-88"><a id="__codelineno-12-88" name="__codelineno-12-88" href="#__codelineno-12-88"></a><span class="o">-----</span>
</span><span id="__span-12-89"><a id="__codelineno-12-89" name="__codelineno-12-89" href="#__codelineno-12-89"></a>
</span><span id="__span-12-90"><a id="__codelineno-12-90" name="__codelineno-12-90" href="#__codelineno-12-90"></a><span class="o">-</span> <span class="o">:</span> <span class="kt">unit</span> <span class="o">=</span> <span class="bp">()</span>
</span></code></pre></div>
</div>
<h3 id="8-min_col_sum_index">8. <code>min_col_sum_index</code></h3>
<p>[<strong>6 points</strong>]</p>
<p>This function takes one argument, which is a binary matrix.
It returns the index of the column which has the smallest column sum
<em>i.e.</em> the column with the fewest number of 1s of all the columns.
<em>Note:</em> you should only consider the column indices
which are keys in the <code>_cols</code> map.
(This is necessary for the algorithm in the next section to work properly.)
If more than one column has the minimum number of 1s,
return the index of the first such column.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The algorithm will work correctly
if you return the index of any column
with the minimum number of 1s.
We ask that you return the first such column
in order to make the tests deterministic.</p>
</div>
<p>If the matrix has no columns at all,
you can return whatever you like (or raise a <code>Failure</code> exception).
(The algorithm will check that the matrix has columns
before calling this method.)</p>
<p>We found the functions <code>IntMap.bindings</code> and <code>IntSet.cardinal</code>
to be useful in our solution.</p>
<div class="admonition examples">
<p class="admonition-title">Examples</p>
<div class="language-ocaml highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="o">#</span> <span class="k">let</span> <span class="n">m</span> <span class="o">=</span> <span class="n">make</span> <span class="mi">4</span> <span class="mi">5</span> <span class="o">[(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span> <span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">4</span><span class="o">);</span> <span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span> <span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">);</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>                    <span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span> <span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">2</span><span class="o">);</span> <span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">);</span> <span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="mi">2</span><span class="o">);</span> <span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="mi">4</span><span class="o">)];;</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="k">val</span> <span class="n">m</span> <span class="o">:</span> <span class="nn">ImplBinaryMatrix</span><span class="p">.</span><span class="n">t</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">abstr</span><span class="o">&gt;</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="o">#</span> <span class="n">dump</span> <span class="n">m</span><span class="o">;;</span>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="o">-----</span>
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="nc">IMPL_BINARY_MATRIX</span><span class="o">:</span> <span class="n">nrows</span> <span class="o">=</span> <span class="mi">4</span><span class="o">;</span> <span class="n">ncols</span> <span class="o">=</span> <span class="mi">5</span>
</span><span id="__span-13-9"><a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a>
</span><span id="__span-13-10"><a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a><span class="nc">ROW</span> <span class="o">-&gt;</span> <span class="nc">COLUMN</span> <span class="nc">SET</span> <span class="nc">MAP</span><span class="o">:</span>
</span><span id="__span-13-11"><a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">0</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">4</span>
</span><span id="__span-13-12"><a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">1</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">1</span> <span class="mi">2</span>
</span><span id="__span-13-13"><a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">2</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">2</span> <span class="mi">3</span>
</span><span id="__span-13-14"><a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">3</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">2</span> <span class="mi">4</span>
</span><span id="__span-13-15"><a id="__codelineno-13-15" name="__codelineno-13-15" href="#__codelineno-13-15"></a>
</span><span id="__span-13-16"><a id="__codelineno-13-16" name="__codelineno-13-16" href="#__codelineno-13-16"></a><span class="nc">COLUMN</span> <span class="o">-&gt;</span> <span class="nc">ROW</span> <span class="nc">SET</span> <span class="nc">MAP</span><span class="o">:</span>
</span><span id="__span-13-17"><a id="__codelineno-13-17" name="__codelineno-13-17" href="#__codelineno-13-17"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">0</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">2</span>
</span><span id="__span-13-18"><a id="__codelineno-13-18" name="__codelineno-13-18" href="#__codelineno-13-18"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">1</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">1</span>
</span><span id="__span-13-19"><a id="__codelineno-13-19" name="__codelineno-13-19" href="#__codelineno-13-19"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">2</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span>
</span><span id="__span-13-20"><a id="__codelineno-13-20" name="__codelineno-13-20" href="#__codelineno-13-20"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">3</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">2</span>
</span><span id="__span-13-21"><a id="__codelineno-13-21" name="__codelineno-13-21" href="#__codelineno-13-21"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">4</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">3</span>
</span><span id="__span-13-22"><a id="__codelineno-13-22" name="__codelineno-13-22" href="#__codelineno-13-22"></a><span class="o">-----</span>
</span><span id="__span-13-23"><a id="__codelineno-13-23" name="__codelineno-13-23" href="#__codelineno-13-23"></a>
</span><span id="__span-13-24"><a id="__codelineno-13-24" name="__codelineno-13-24" href="#__codelineno-13-24"></a><span class="o">-</span> <span class="o">:</span> <span class="kt">unit</span> <span class="o">=</span> <span class="bp">()</span>
</span><span id="__span-13-25"><a id="__codelineno-13-25" name="__codelineno-13-25" href="#__codelineno-13-25"></a>
</span><span id="__span-13-26"><a id="__codelineno-13-26" name="__codelineno-13-26" href="#__codelineno-13-26"></a><span class="o">#</span> <span class="n">min_col_sum_index</span> <span class="n">m</span><span class="o">;;</span>
</span><span id="__span-13-27"><a id="__codelineno-13-27" name="__codelineno-13-27" href="#__codelineno-13-27"></a><span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="__span-13-28"><a id="__codelineno-13-28" name="__codelineno-13-28" href="#__codelineno-13-28"></a><span class="c">(* Columns 1 and 3 have exactly 1 &quot;1&quot;.  Either is an acceptable answer. *)</span>
</span><span id="__span-13-29"><a id="__codelineno-13-29" name="__codelineno-13-29" href="#__codelineno-13-29"></a>
</span><span id="__span-13-30"><a id="__codelineno-13-30" name="__codelineno-13-30" href="#__codelineno-13-30"></a><span class="o">#</span> <span class="k">let</span> <span class="n">m&#39;</span> <span class="o">=</span> <span class="n">delete_row</span> <span class="n">m</span> <span class="mi">2</span><span class="o">;;</span>
</span><span id="__span-13-31"><a id="__codelineno-13-31" name="__codelineno-13-31" href="#__codelineno-13-31"></a><span class="k">val</span> <span class="n">m&#39;</span> <span class="o">:</span> <span class="nn">ImplBinaryMatrix</span><span class="p">.</span><span class="n">t</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">abstr</span><span class="o">&gt;</span>
</span><span id="__span-13-32"><a id="__codelineno-13-32" name="__codelineno-13-32" href="#__codelineno-13-32"></a>
</span><span id="__span-13-33"><a id="__codelineno-13-33" name="__codelineno-13-33" href="#__codelineno-13-33"></a><span class="o">#</span> <span class="n">dump</span> <span class="n">m&#39;</span><span class="o">;;</span>
</span><span id="__span-13-34"><a id="__codelineno-13-34" name="__codelineno-13-34" href="#__codelineno-13-34"></a>
</span><span id="__span-13-35"><a id="__codelineno-13-35" name="__codelineno-13-35" href="#__codelineno-13-35"></a><span class="o">-----</span>
</span><span id="__span-13-36"><a id="__codelineno-13-36" name="__codelineno-13-36" href="#__codelineno-13-36"></a><span class="nc">IMPL_BINARY_MATRIX</span><span class="o">:</span> <span class="n">nrows</span> <span class="o">=</span> <span class="mi">4</span><span class="o">;</span> <span class="n">ncols</span> <span class="o">=</span> <span class="mi">5</span>
</span><span id="__span-13-37"><a id="__codelineno-13-37" name="__codelineno-13-37" href="#__codelineno-13-37"></a>
</span><span id="__span-13-38"><a id="__codelineno-13-38" name="__codelineno-13-38" href="#__codelineno-13-38"></a><span class="nc">ROW</span> <span class="o">-&gt;</span> <span class="nc">COLUMN</span> <span class="nc">SET</span> <span class="nc">MAP</span><span class="o">:</span>
</span><span id="__span-13-39"><a id="__codelineno-13-39" name="__codelineno-13-39" href="#__codelineno-13-39"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">0</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">4</span>
</span><span id="__span-13-40"><a id="__codelineno-13-40" name="__codelineno-13-40" href="#__codelineno-13-40"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">1</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">1</span> <span class="mi">2</span>
</span><span id="__span-13-41"><a id="__codelineno-13-41" name="__codelineno-13-41" href="#__codelineno-13-41"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">3</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">2</span> <span class="mi">4</span>
</span><span id="__span-13-42"><a id="__codelineno-13-42" name="__codelineno-13-42" href="#__codelineno-13-42"></a>
</span><span id="__span-13-43"><a id="__codelineno-13-43" name="__codelineno-13-43" href="#__codelineno-13-43"></a><span class="nc">COLUMN</span> <span class="o">-&gt;</span> <span class="nc">ROW</span> <span class="nc">SET</span> <span class="nc">MAP</span><span class="o">:</span>
</span><span id="__span-13-44"><a id="__codelineno-13-44" name="__codelineno-13-44" href="#__codelineno-13-44"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">0</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">0</span>
</span><span id="__span-13-45"><a id="__codelineno-13-45" name="__codelineno-13-45" href="#__codelineno-13-45"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">1</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">1</span>
</span><span id="__span-13-46"><a id="__codelineno-13-46" name="__codelineno-13-46" href="#__codelineno-13-46"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">2</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">1</span> <span class="mi">3</span>
</span><span id="__span-13-47"><a id="__codelineno-13-47" name="__codelineno-13-47" href="#__codelineno-13-47"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">3</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span>
</span><span id="__span-13-48"><a id="__codelineno-13-48" name="__codelineno-13-48" href="#__codelineno-13-48"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">4</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">3</span>
</span><span id="__span-13-49"><a id="__codelineno-13-49" name="__codelineno-13-49" href="#__codelineno-13-49"></a><span class="o">-----</span>
</span><span id="__span-13-50"><a id="__codelineno-13-50" name="__codelineno-13-50" href="#__codelineno-13-50"></a>
</span><span id="__span-13-51"><a id="__codelineno-13-51" name="__codelineno-13-51" href="#__codelineno-13-51"></a><span class="o">-</span> <span class="o">:</span> <span class="kt">unit</span> <span class="o">=</span> <span class="bp">()</span>
</span><span id="__span-13-52"><a id="__codelineno-13-52" name="__codelineno-13-52" href="#__codelineno-13-52"></a>
</span><span id="__span-13-53"><a id="__codelineno-13-53" name="__codelineno-13-53" href="#__codelineno-13-53"></a><span class="o">#</span> <span class="n">min_col_sum_index</span> <span class="n">m&#39;</span><span class="o">;;</span>
</span><span id="__span-13-54"><a id="__codelineno-13-54" name="__codelineno-13-54" href="#__codelineno-13-54"></a><span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="o">=</span> <span class="mi">3</span>   <span class="c">(* Column 3 is the only column with no &quot;1&quot;s. *)</span>
</span><span id="__span-13-55"><a id="__codelineno-13-55" name="__codelineno-13-55" href="#__codelineno-13-55"></a>
</span><span id="__span-13-56"><a id="__codelineno-13-56" name="__codelineno-13-56" href="#__codelineno-13-56"></a><span class="o">#</span> <span class="k">let</span> <span class="n">m&#39;&#39;</span> <span class="o">=</span> <span class="n">delete_col</span> <span class="n">m</span> <span class="mi">1</span><span class="o">;;</span>
</span><span id="__span-13-57"><a id="__codelineno-13-57" name="__codelineno-13-57" href="#__codelineno-13-57"></a><span class="k">val</span> <span class="n">m&#39;&#39;</span> <span class="o">:</span> <span class="nn">ImplBinaryMatrix</span><span class="p">.</span><span class="n">t</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">abstr</span><span class="o">&gt;</span>
</span><span id="__span-13-58"><a id="__codelineno-13-58" name="__codelineno-13-58" href="#__codelineno-13-58"></a>
</span><span id="__span-13-59"><a id="__codelineno-13-59" name="__codelineno-13-59" href="#__codelineno-13-59"></a><span class="o">#</span> <span class="n">dump</span> <span class="n">m&#39;&#39;</span><span class="o">;;</span>
</span><span id="__span-13-60"><a id="__codelineno-13-60" name="__codelineno-13-60" href="#__codelineno-13-60"></a>
</span><span id="__span-13-61"><a id="__codelineno-13-61" name="__codelineno-13-61" href="#__codelineno-13-61"></a><span class="o">-----</span>
</span><span id="__span-13-62"><a id="__codelineno-13-62" name="__codelineno-13-62" href="#__codelineno-13-62"></a><span class="nc">IMPL_BINARY_MATRIX</span><span class="o">:</span> <span class="n">nrows</span> <span class="o">=</span> <span class="mi">4</span><span class="o">;</span> <span class="n">ncols</span> <span class="o">=</span> <span class="mi">5</span>
</span><span id="__span-13-63"><a id="__codelineno-13-63" name="__codelineno-13-63" href="#__codelineno-13-63"></a>
</span><span id="__span-13-64"><a id="__codelineno-13-64" name="__codelineno-13-64" href="#__codelineno-13-64"></a><span class="nc">ROW</span> <span class="o">-&gt;</span> <span class="nc">COLUMN</span> <span class="nc">SET</span> <span class="nc">MAP</span><span class="o">:</span>
</span><span id="__span-13-65"><a id="__codelineno-13-65" name="__codelineno-13-65" href="#__codelineno-13-65"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">0</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">4</span>
</span><span id="__span-13-66"><a id="__codelineno-13-66" name="__codelineno-13-66" href="#__codelineno-13-66"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">1</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">2</span>
</span><span id="__span-13-67"><a id="__codelineno-13-67" name="__codelineno-13-67" href="#__codelineno-13-67"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">2</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">2</span> <span class="mi">3</span>
</span><span id="__span-13-68"><a id="__codelineno-13-68" name="__codelineno-13-68" href="#__codelineno-13-68"></a><span class="n">row</span><span class="o">:</span>    <span class="mi">3</span><span class="o">;</span> <span class="n">columns</span><span class="o">:</span> <span class="mi">2</span> <span class="mi">4</span>
</span><span id="__span-13-69"><a id="__codelineno-13-69" name="__codelineno-13-69" href="#__codelineno-13-69"></a>
</span><span id="__span-13-70"><a id="__codelineno-13-70" name="__codelineno-13-70" href="#__codelineno-13-70"></a><span class="nc">COLUMN</span> <span class="o">-&gt;</span> <span class="nc">ROW</span> <span class="nc">SET</span> <span class="nc">MAP</span><span class="o">:</span>
</span><span id="__span-13-71"><a id="__codelineno-13-71" name="__codelineno-13-71" href="#__codelineno-13-71"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">0</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">2</span>
</span><span id="__span-13-72"><a id="__codelineno-13-72" name="__codelineno-13-72" href="#__codelineno-13-72"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">2</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span>
</span><span id="__span-13-73"><a id="__codelineno-13-73" name="__codelineno-13-73" href="#__codelineno-13-73"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">3</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">2</span>
</span><span id="__span-13-74"><a id="__codelineno-13-74" name="__codelineno-13-74" href="#__codelineno-13-74"></a><span class="n">column</span><span class="o">:</span>    <span class="mi">4</span><span class="o">;</span> <span class="n">rows</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">3</span>
</span><span id="__span-13-75"><a id="__codelineno-13-75" name="__codelineno-13-75" href="#__codelineno-13-75"></a><span class="o">-----</span>
</span><span id="__span-13-76"><a id="__codelineno-13-76" name="__codelineno-13-76" href="#__codelineno-13-76"></a>
</span><span id="__span-13-77"><a id="__codelineno-13-77" name="__codelineno-13-77" href="#__codelineno-13-77"></a><span class="o">-</span> <span class="o">:</span> <span class="kt">unit</span> <span class="o">=</span> <span class="bp">()</span>
</span><span id="__span-13-78"><a id="__codelineno-13-78" name="__codelineno-13-78" href="#__codelineno-13-78"></a>
</span><span id="__span-13-79"><a id="__codelineno-13-79" name="__codelineno-13-79" href="#__codelineno-13-79"></a><span class="o">#</span> <span class="n">min_col_sum_index</span> <span class="n">m&#39;&#39;</span><span class="o">;;</span>
</span><span id="__span-13-80"><a id="__codelineno-13-80" name="__codelineno-13-80" href="#__codelineno-13-80"></a><span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="o">=</span> <span class="mi">3</span>
</span><span id="__span-13-81"><a id="__codelineno-13-81" name="__codelineno-13-81" href="#__codelineno-13-81"></a>
</span><span id="__span-13-82"><a id="__codelineno-13-82" name="__codelineno-13-82" href="#__codelineno-13-82"></a><span class="c">(*</span>
</span><span id="__span-13-83"><a id="__codelineno-13-83" name="__codelineno-13-83" href="#__codelineno-13-83"></a><span class="c">* Column 3 has only 1 &quot;1&quot;.  Column 1 has no &quot;1&quot;s at all, but it doesn&#39;t count</span>
</span><span id="__span-13-84"><a id="__codelineno-13-84" name="__codelineno-13-84" href="#__codelineno-13-84"></a><span class="c">* because it&#39;s been deleted and isn&#39;t in the _cols map.</span>
</span><span id="__span-13-85"><a id="__codelineno-13-85" name="__codelineno-13-85" href="#__codelineno-13-85"></a><span class="c">*)</span>
</span></code></pre></div>
</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.copy", "navigation.footer", "navigation.top"], "search": "../../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.88dd0f4e.min.js"></script>
      
        <script src="../../../js/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>