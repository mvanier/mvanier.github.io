
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://mvanier.github.io/cs4/Winter2025/book/assignments/5/partC_objects/">
      
      
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.49">
    
    
      
        <title>Part C: Objects (50 points) - The CS 4 book (Winter 2025)</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.6f8fc17f.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../css/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#part-c-objects-50-points" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="The CS 4 book (Winter 2025)" class="md-header__button md-logo" aria-label="The CS 4 book (Winter 2025)" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            The CS 4 book (Winter 2025)
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Part C: Objects (50 points)
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to medium mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to medium mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="medium" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18V6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-2.69L23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="The CS 4 book (Winter 2025)" class="md-nav__button md-logo" aria-label="The CS 4 book (Winter 2025)" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    The CS 4 book (Winter 2025)
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Introduction
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../intro/welcome/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Welcome to CS 4!
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../intro/motivation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Motivation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../intro/history/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    History
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Administrative
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Administrative
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../admin/syllabus/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Syllabus
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../admin/collab/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Collaboration policies
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Assignments
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Assignments
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../0/assignment0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Assignment 0: Setup
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Readings
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Readings
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../readings/ocaml_cheat_sheet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OCaml Cheat Sheet
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../readings/subst/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The Substitution Model
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-object-oriented-grams" class="md-nav__link">
    <span class="md-ellipsis">
      1. Object-oriented grams
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-object-oriented-differentiator" class="md-nav__link">
    <span class="md-ellipsis">
      2. Object-oriented differentiator
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Object-oriented differentiator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-make_product" class="md-nav__link">
    <span class="md-ellipsis">
      a. make_product
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#b-testing-the-differentiator" class="md-nav__link">
    <span class="md-ellipsis">
      b. Testing the differentiator
    </span>
  </a>
  
    <nav class="md-nav" aria-label="b. Testing the differentiator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#i" class="md-nav__link">
    <span class="md-ellipsis">
      i.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ii" class="md-nav__link">
    <span class="md-ellipsis">
      ii.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iii" class="md-nav__link">
    <span class="md-ellipsis">
      iii.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iv" class="md-nav__link">
    <span class="md-ellipsis">
      iv.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#v" class="md-nav__link">
    <span class="md-ellipsis">
      v.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vi" class="md-nav__link">
    <span class="md-ellipsis">
      vi.
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="part-c-objects-50-points">Part C: Objects (50 points)</h1>
<!--
  MAYBE TO ADD: A convert-from-base message to complete the lecture 11 code.

  The idea is that, when adding two units, do this:

  1) Convert both units to a canonical representation (e.g. meters).
  2) Add them.
  3) Convert the result back to the representation of the current object
     using a convert-from-base message.

  This way, adding feet + meters gives feet, but adding meters + feet gives
  meters.  And it scales well.
-->

<h2 id="1-object-oriented-grams">1. Object-oriented grams</h2>
<p>[<strong>20 points</strong>]</p>
<p>Give an object-oriented implementation of a gram unit
which supports the following methods:</p>
<ul>
<li>
<p><code>get_grams</code>:
Returns a number (OCaml float) representing the mass in grams.</p>
</li>
<li>
<p><code>get_slugs</code>:
Returns a number (OCaml float) representing the mass in slugs.
Note that a slug is roughly equal to 14593.903203 grams.</p>
</li>
<li>
<p><code>unit_type</code>: Returns <code>`Gram</code>.</p>
</li>
<li>
<p><code>compatible</code>:
Returns <code>true</code> when given anything
which the <code>add</code> method of the gram object supports
(<em>i.e.</em> a gram or a slug);
here is an example:</p>
<div class="language-ocaml highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="c">(* NOTE: You do not have to define make_slug or make_foot.</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="c">   This is an example to show how it should work. *)</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="k">let</span> <span class="n">agram</span> <span class="o">=</span> <span class="n">make_gram</span> <span class="mi">1</span><span class="o">.</span><span class="mi">0</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="k">let</span> <span class="n">bslug</span> <span class="o">=</span> <span class="n">make_slug</span> <span class="mi">1</span><span class="o">.</span><span class="mi">0</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="k">let</span> <span class="n">cfoot</span> <span class="o">=</span> <span class="n">make_foot</span> <span class="mi">1</span><span class="o">.</span><span class="mi">0</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="n">agram</span><span class="o">#</span><span class="n">compatible</span> <span class="n">agram</span>  <span class="c">(* true *)</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="n">agram</span><span class="o">#</span><span class="n">compatible</span> <span class="n">bslug</span>  <span class="c">(* true *)</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="n">agram</span><span class="o">#</span><span class="n">compatible</span> <span class="n">cfoot</span>  <span class="c">(* false *)</span>
</span></code></pre></div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>You can assume that both <code>make_slug</code> and <code>make_foot</code>
return objects that have the <code>unit_type</code> method.</p>
</div>
</li>
<li>
<p><code>add</code>:
Adds a compatible mass, returning another mass object.
Here's an example:</p>
<div class="language-ocaml highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="k">let</span> <span class="n">agram</span> <span class="o">=</span> <span class="n">make_gram</span> <span class="mi">1</span><span class="o">.</span><span class="mi">0</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="k">let</span> <span class="n">bslug</span> <span class="o">=</span> <span class="n">make_slug</span> <span class="mi">1</span><span class="o">.</span><span class="mi">0</span>  <span class="c">(* similarly, you do not have to define make_slug *)</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="k">let</span> <span class="n">cgram</span> <span class="o">=</span> <span class="n">agram</span><span class="o">#</span><span class="n">add</span> <span class="n">bslug</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="n">cgram</span><span class="o">#</span><span class="n">get_grams</span>  <span class="c">(* 14594.9 (grams) *)</span>
</span></code></pre></div>
<p>An incompatible object passed in as an argument
should cause an error to be signalled using the <code>failwith</code> function.</p>
</li>
</ul>
<p>Here is a template for your code:</p>
<div class="language-ocaml highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="k">let</span> <span class="k">rec</span> <span class="n">make_gram</span> <span class="n">g</span> <span class="o">=</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>  <span class="k">let</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>    <span class="o">...</span> <span class="c">(* internal definitions *)</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>  <span class="k">in</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>    <span class="k">object</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>      <span class="k">method</span> <span class="n">get_grams</span> <span class="o">=</span> <span class="o">...</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>      <span class="k">method</span> <span class="n">get_slugs</span> <span class="o">=</span> <span class="o">...</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>      <span class="k">method</span> <span class="n">unit_type</span> <span class="o">=</span> <span class="o">...</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>      <span class="k">method</span> <span class="n">compatible</span> <span class="n">other</span> <span class="o">=</span> <span class="o">...</span>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>      <span class="k">method</span> <span class="n">add</span> <span class="n">other</span> <span class="o">=</span> <span class="o">...</span>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a>    <span class="k">end</span>
</span></code></pre></div>
<p>Fill in the parts marked <code>...</code>.
This requires less than 20 lines of code.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Don't use a <code>self</code> reference <em>i.e.</em></p>
<div class="language-ocaml highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="k">object</span> <span class="o">(</span><span class="n">self</span><span class="o">)</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>  <span class="o">...</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="k">end</span>
</span></code></pre></div>
<p>This isn't necessary and (unfortunately) changes the type signature
to something that isn't compatible with the type signature
in the <code>.mli</code> file.</p>
</div>
<p>You can do this without repeating code, and you should.
Put the repeated parts into the "internal definitions" section.</p>
<h2 id="2-object-oriented-differentiator">2. Object-oriented differentiator</h2>
<p>[<strong>30 points</strong>]</p>
<p>In this problem,
we will consider an object-oriented implementation
of the differentiator from assignment 4.
In addition to taking the derivative,
it will be possible to convert an expression to a string
and evaluate an expression.
For evaluation, we will provide a value for a variable
and compute the expression (or number)
that results from substituting in the number for the value
(much like evaluation in the substitution model,
except that we will only be giving a value to one variable at a time,
so we must be able to handle symbolic expressions
involving the variables which have not been given values).</p>
<p>Each expression will be an OCaml object
which responds to the following methods:</p>
<ul>
<li>
<p><code>value</code>:
Return the value of an expression as an OCaml <code>int</code>
(only valid for expressions which represent numbers;
anything else should signal an error).</p>
</li>
<li>
<p><code>show</code>:
Return a representation of the expression as a string.
Operator expressions should be wrapped in parentheses
so we don't have to worry about precedence.</p>
</li>
<li>
<p><code>is_zero</code>:
Return <code>true</code> if the expression is an object that represents the number 0.</p>
</li>
<li>
<p><code>is_number</code>:
Return <code>true</code> if the expression is an object that represents a number.</p>
</li>
<li>
<p><code>derive</code>:
Return the derivative of the expression
with respect to the given variable.
This derivative will be an OCaml object,
just like the original expression was.</p>
</li>
<li>
<p><code>evaluate</code>:
Evaluate the expression for a given variable and value.
Note that this will not necessarily be
the most simplified version of that expression,
but it must be correct.</p>
</li>
</ul>
<div class="admonition examples">
<p class="admonition-title">Examples</p>
<div class="language-ocaml highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="c">(* g represents 5*x + x*y + 7*y *)</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="o">#</span> <span class="k">let</span> <span class="n">g</span> <span class="o">=</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>  <span class="n">make_sum</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>    <span class="o">(</span><span class="n">make_product</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>      <span class="o">(</span><span class="n">make_number</span> <span class="mi">5</span><span class="o">)</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>      <span class="o">(</span><span class="n">make_variable</span> <span class="s2">&quot;x&quot;</span><span class="o">))</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>    <span class="o">(</span><span class="n">make_sum</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>      <span class="o">(</span><span class="n">make_product</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>        <span class="o">(</span><span class="n">make_variable</span> <span class="s2">&quot;x&quot;</span><span class="o">)</span>
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>        <span class="o">(</span><span class="n">make_variable</span> <span class="s2">&quot;y&quot;</span><span class="o">))</span>
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a>      <span class="o">(</span><span class="n">make_product</span>
</span><span id="__span-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a>        <span class="o">(</span><span class="n">make_number</span> <span class="mi">7</span><span class="o">)</span>
</span><span id="__span-4-13"><a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a>        <span class="o">(</span><span class="n">make_variable</span> <span class="s2">&quot;y&quot;</span><span class="o">)))</span> <span class="o">;;</span>
</span><span id="__span-4-14"><a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a><span class="k">val</span> <span class="n">g</span> <span class="o">:</span>
</span><span id="__span-4-15"><a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a>  <span class="o">&lt;</span> <span class="n">derive</span> <span class="o">:</span> <span class="kt">string</span> <span class="o">-&gt;</span> <span class="k">&#39;</span><span class="n">a</span><span class="o">;</span> <span class="n">evaluate</span> <span class="o">:</span> <span class="kt">string</span> <span class="o">-&gt;</span> <span class="kt">int</span> <span class="o">-&gt;</span> <span class="k">&#39;</span><span class="n">a</span><span class="o">;</span> <span class="n">is_number</span> <span class="o">:</span>
</span><span id="__span-4-16"><a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a>    <span class="kt">bool</span><span class="o">;</span> <span class="n">is_zero</span> <span class="o">:</span> <span class="kt">bool</span><span class="o">;</span> <span class="n">show</span> <span class="o">:</span> <span class="kt">string</span><span class="o">;</span> <span class="n">value</span> <span class="o">:</span> <span class="kt">int</span> <span class="o">&gt;</span>
</span><span id="__span-4-17"><a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a>  <span class="k">as</span> <span class="k">&#39;</span><span class="n">a</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">obj</span><span class="o">&gt;</span>
</span><span id="__span-4-18"><a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a>
</span><span id="__span-4-19"><a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a><span class="o">#</span> <span class="n">g</span><span class="o">#</span><span class="n">show</span> <span class="o">;;</span>
</span><span id="__span-4-20"><a id="__codelineno-4-20" name="__codelineno-4-20" href="#__codelineno-4-20"></a><span class="o">-</span> <span class="o">:</span> <span class="kt">string</span> <span class="o">=</span> <span class="s2">&quot;((5 * x) + ((x * y) + (7 * y)))&quot;</span>
</span><span id="__span-4-21"><a id="__codelineno-4-21" name="__codelineno-4-21" href="#__codelineno-4-21"></a><span class="c">(* Note that these results are not maximally simplified. *)</span>
</span><span id="__span-4-22"><a id="__codelineno-4-22" name="__codelineno-4-22" href="#__codelineno-4-22"></a>
</span><span id="__span-4-23"><a id="__codelineno-4-23" name="__codelineno-4-23" href="#__codelineno-4-23"></a><span class="o">#</span> <span class="o">(</span><span class="n">g</span><span class="o">#</span><span class="n">evaluate</span> <span class="s2">&quot;x&quot;</span> <span class="mi">2</span><span class="o">)#</span><span class="n">show</span> <span class="o">;;</span>
</span><span id="__span-4-24"><a id="__codelineno-4-24" name="__codelineno-4-24" href="#__codelineno-4-24"></a><span class="o">-</span> <span class="o">:</span> <span class="kt">string</span> <span class="o">=</span> <span class="s2">&quot;(10 + ((2 * y) + (7 * y)))&quot;</span>
</span><span id="__span-4-25"><a id="__codelineno-4-25" name="__codelineno-4-25" href="#__codelineno-4-25"></a>
</span><span id="__span-4-26"><a id="__codelineno-4-26" name="__codelineno-4-26" href="#__codelineno-4-26"></a><span class="o">#</span> <span class="o">(</span><span class="n">g</span><span class="o">#</span><span class="n">evaluate</span> <span class="s2">&quot;y&quot;</span> <span class="mi">3</span><span class="o">)#</span><span class="n">show</span> <span class="o">;;</span>
</span><span id="__span-4-27"><a id="__codelineno-4-27" name="__codelineno-4-27" href="#__codelineno-4-27"></a><span class="o">-</span> <span class="o">:</span> <span class="kt">string</span> <span class="o">=</span> <span class="s2">&quot;((5 * x) + ((x * 3) + 21))&quot;</span>
</span><span id="__span-4-28"><a id="__codelineno-4-28" name="__codelineno-4-28" href="#__codelineno-4-28"></a>
</span><span id="__span-4-29"><a id="__codelineno-4-29" name="__codelineno-4-29" href="#__codelineno-4-29"></a><span class="o">#</span> <span class="o">((</span><span class="n">g</span><span class="o">#</span><span class="n">evaluate</span> <span class="s2">&quot;x&quot;</span> <span class="mi">2</span><span class="o">)#</span><span class="n">evaluate</span> <span class="s2">&quot;y&quot;</span> <span class="mi">3</span><span class="o">)#</span><span class="n">show</span> <span class="o">;;</span>
</span><span id="__span-4-30"><a id="__codelineno-4-30" name="__codelineno-4-30" href="#__codelineno-4-30"></a><span class="o">-</span> <span class="o">:</span> <span class="kt">string</span> <span class="o">=</span> <span class="s2">&quot;37&quot;</span>
</span><span id="__span-4-31"><a id="__codelineno-4-31" name="__codelineno-4-31" href="#__codelineno-4-31"></a>
</span><span id="__span-4-32"><a id="__codelineno-4-32" name="__codelineno-4-32" href="#__codelineno-4-32"></a><span class="o">#</span> <span class="o">(</span><span class="n">g</span><span class="o">#</span><span class="n">derive</span> <span class="s2">&quot;x&quot;</span><span class="o">)#</span><span class="n">show</span> <span class="o">;;</span>
</span><span id="__span-4-33"><a id="__codelineno-4-33" name="__codelineno-4-33" href="#__codelineno-4-33"></a><span class="o">-</span> <span class="o">:</span> <span class="kt">string</span> <span class="o">=</span> <span class="s2">&quot;(5 + y)&quot;</span>
</span><span id="__span-4-34"><a id="__codelineno-4-34" name="__codelineno-4-34" href="#__codelineno-4-34"></a>
</span><span id="__span-4-35"><a id="__codelineno-4-35" name="__codelineno-4-35" href="#__codelineno-4-35"></a><span class="o">#</span> <span class="o">(</span><span class="n">g</span><span class="o">#</span><span class="n">derive</span> <span class="s2">&quot;y&quot;</span><span class="o">)#</span><span class="n">show</span> <span class="o">;;</span>
</span><span id="__span-4-36"><a id="__codelineno-4-36" name="__codelineno-4-36" href="#__codelineno-4-36"></a><span class="o">-</span> <span class="o">:</span> <span class="kt">string</span> <span class="o">=</span> <span class="s2">&quot;(x + 7)&quot;</span>
</span><span id="__span-4-37"><a id="__codelineno-4-37" name="__codelineno-4-37" href="#__codelineno-4-37"></a>
</span><span id="__span-4-38"><a id="__codelineno-4-38" name="__codelineno-4-38" href="#__codelineno-4-38"></a><span class="o">#</span> <span class="o">(</span><span class="n">g</span><span class="o">#</span><span class="n">derive</span> <span class="s2">&quot;z&quot;</span><span class="o">)#</span><span class="n">show</span> <span class="o">;;</span>
</span><span id="__span-4-39"><a id="__codelineno-4-39" name="__codelineno-4-39" href="#__codelineno-4-39"></a><span class="o">-</span> <span class="o">:</span> <span class="kt">string</span> <span class="o">=</span> <span class="s2">&quot;0&quot;</span>
</span><span id="__span-4-40"><a id="__codelineno-4-40" name="__codelineno-4-40" href="#__codelineno-4-40"></a>
</span><span id="__span-4-41"><a id="__codelineno-4-41" name="__codelineno-4-41" href="#__codelineno-4-41"></a><span class="o">#</span> <span class="o">(((</span><span class="n">g</span><span class="o">#</span><span class="n">derive</span> <span class="s2">&quot;x&quot;</span><span class="o">)#</span><span class="n">evaluate</span> <span class="s2">&quot;x&quot;</span> <span class="mi">2</span><span class="o">)#</span><span class="n">evaluate</span> <span class="s2">&quot;y&quot;</span> <span class="mi">3</span><span class="o">)#</span><span class="n">show</span> <span class="o">;;</span>
</span><span id="__span-4-42"><a id="__codelineno-4-42" name="__codelineno-4-42" href="#__codelineno-4-42"></a><span class="o">-</span> <span class="o">:</span> <span class="kt">string</span> <span class="o">=</span> <span class="s2">&quot;8&quot;</span>
</span></code></pre></div>
</div>
<p>Here is the starting code base for the problem:</p>
<div class="language-ocaml highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="c">(* Define a number as a message-passing object. *)</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="c">(* &quot;i&quot; is an int. *)</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="k">let</span> <span class="k">rec</span> <span class="n">make_number</span> <span class="n">i</span> <span class="o">=</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>  <span class="k">object</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>    <span class="k">method</span> <span class="n">value</span> <span class="o">=</span> <span class="n">i</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>    <span class="k">method</span> <span class="n">show</span> <span class="o">=</span> <span class="n">string_of_int</span> <span class="n">i</span>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>    <span class="k">method</span> <span class="n">is_zero</span> <span class="o">=</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>    <span class="k">method</span> <span class="n">is_number</span> <span class="o">=</span> <span class="bp">true</span>
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>    <span class="k">method</span> <span class="n">evaluate</span> <span class="o">_</span> <span class="o">_</span> <span class="o">=</span> <span class="n">make_number</span> <span class="n">i</span>  <span class="c">(* must evaluate to an object *)</span>
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>    <span class="k">method</span> <span class="n">derive</span> <span class="o">_</span> <span class="o">=</span> <span class="n">make_number</span> <span class="mi">0</span>  <span class="c">(* derivative of a number is 0 *)</span>
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a>  <span class="k">end</span>
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a>
</span><span id="__span-5-13"><a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a><span class="c">(* Define a variable as a message-passing object. *)</span>
</span><span id="__span-5-14"><a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a><span class="c">(* &quot;v&quot; is a string. *)</span>
</span><span id="__span-5-15"><a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a><span class="k">let</span> <span class="k">rec</span> <span class="n">make_variable</span> <span class="n">v</span> <span class="o">=</span>
</span><span id="__span-5-16"><a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a>  <span class="k">object</span>
</span><span id="__span-5-17"><a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a>    <span class="k">method</span> <span class="n">value</span> <span class="o">=</span> <span class="n">failwith</span> <span class="s2">&quot;variable has no numerical value&quot;</span>
</span><span id="__span-5-18"><a id="__codelineno-5-18" name="__codelineno-5-18" href="#__codelineno-5-18"></a>    <span class="k">method</span> <span class="n">show</span>  <span class="o">=</span> <span class="n">v</span>
</span><span id="__span-5-19"><a id="__codelineno-5-19" name="__codelineno-5-19" href="#__codelineno-5-19"></a>    <span class="k">method</span> <span class="n">is_zero</span> <span class="o">=</span> <span class="bp">false</span>
</span><span id="__span-5-20"><a id="__codelineno-5-20" name="__codelineno-5-20" href="#__codelineno-5-20"></a>    <span class="k">method</span> <span class="n">is_number</span> <span class="o">=</span> <span class="bp">false</span>
</span><span id="__span-5-21"><a id="__codelineno-5-21" name="__codelineno-5-21" href="#__codelineno-5-21"></a>    <span class="k">method</span> <span class="n">evaluate</span> <span class="n">v&#39;</span> <span class="n">n</span> <span class="o">=</span>
</span><span id="__span-5-22"><a id="__codelineno-5-22" name="__codelineno-5-22" href="#__codelineno-5-22"></a>      <span class="k">if</span> <span class="n">v</span> <span class="o">=</span> <span class="n">v&#39;</span>
</span><span id="__span-5-23"><a id="__codelineno-5-23" name="__codelineno-5-23" href="#__codelineno-5-23"></a>        <span class="k">then</span> <span class="n">make_number</span> <span class="n">n</span>
</span><span id="__span-5-24"><a id="__codelineno-5-24" name="__codelineno-5-24" href="#__codelineno-5-24"></a>        <span class="k">else</span> <span class="n">make_variable</span> <span class="n">v</span>
</span><span id="__span-5-25"><a id="__codelineno-5-25" name="__codelineno-5-25" href="#__codelineno-5-25"></a>    <span class="k">method</span> <span class="n">derive</span> <span class="n">v&#39;</span> <span class="o">=</span>
</span><span id="__span-5-26"><a id="__codelineno-5-26" name="__codelineno-5-26" href="#__codelineno-5-26"></a>      <span class="k">if</span> <span class="n">v</span> <span class="o">=</span> <span class="n">v&#39;</span>
</span><span id="__span-5-27"><a id="__codelineno-5-27" name="__codelineno-5-27" href="#__codelineno-5-27"></a>        <span class="k">then</span> <span class="n">make_number</span> <span class="mi">1</span>  <span class="c">(* d/dx(x) = 1 *)</span>
</span><span id="__span-5-28"><a id="__codelineno-5-28" name="__codelineno-5-28" href="#__codelineno-5-28"></a>        <span class="k">else</span> <span class="n">make_number</span> <span class="mi">0</span>  <span class="c">(* d/dx(y) = 0 *)</span>
</span><span id="__span-5-29"><a id="__codelineno-5-29" name="__codelineno-5-29" href="#__codelineno-5-29"></a>  <span class="k">end</span>
</span><span id="__span-5-30"><a id="__codelineno-5-30" name="__codelineno-5-30" href="#__codelineno-5-30"></a>
</span><span id="__span-5-31"><a id="__codelineno-5-31" name="__codelineno-5-31" href="#__codelineno-5-31"></a><span class="c">(* Define a sum as a message-passing object. *)</span>
</span><span id="__span-5-32"><a id="__codelineno-5-32" name="__codelineno-5-32" href="#__codelineno-5-32"></a><span class="k">let</span> <span class="k">rec</span> <span class="n">make_sum</span> <span class="n">expr1</span> <span class="n">expr2</span> <span class="o">=</span>
</span><span id="__span-5-33"><a id="__codelineno-5-33" name="__codelineno-5-33" href="#__codelineno-5-33"></a>  <span class="k">match</span> <span class="bp">()</span> <span class="k">with</span>
</span><span id="__span-5-34"><a id="__codelineno-5-34" name="__codelineno-5-34" href="#__codelineno-5-34"></a>    <span class="o">|</span> <span class="o">_</span> <span class="k">when</span> <span class="n">expr1</span><span class="o">#</span><span class="n">is_zero</span> <span class="o">-&gt;</span> <span class="n">expr2</span>  <span class="c">(* 0 + expr = expr *)</span>
</span><span id="__span-5-35"><a id="__codelineno-5-35" name="__codelineno-5-35" href="#__codelineno-5-35"></a>    <span class="o">|</span> <span class="o">_</span> <span class="k">when</span> <span class="n">expr2</span><span class="o">#</span><span class="n">is_zero</span> <span class="o">-&gt;</span> <span class="n">expr1</span>  <span class="c">(* expr + 0 = expr *)</span>
</span><span id="__span-5-36"><a id="__codelineno-5-36" name="__codelineno-5-36" href="#__codelineno-5-36"></a>    <span class="o">|</span> <span class="o">_</span> <span class="k">when</span> <span class="n">expr1</span><span class="o">#</span><span class="n">is_number</span> <span class="o">&amp;&amp;</span> <span class="n">expr2</span><span class="o">#</span><span class="n">is_number</span> <span class="o">-&gt;</span>  <span class="c">(* add numbers *)</span>
</span><span id="__span-5-37"><a id="__codelineno-5-37" name="__codelineno-5-37" href="#__codelineno-5-37"></a>          <span class="n">make_number</span> <span class="o">(</span><span class="n">expr1</span><span class="o">#</span><span class="n">value</span> <span class="o">+</span> <span class="n">expr2</span><span class="o">#</span><span class="n">value</span><span class="o">)</span>
</span><span id="__span-5-38"><a id="__codelineno-5-38" name="__codelineno-5-38" href="#__codelineno-5-38"></a>    <span class="o">|</span> <span class="o">_</span> <span class="o">-&gt;</span>  <span class="c">(* create a new object representing the sum *)</span>
</span><span id="__span-5-39"><a id="__codelineno-5-39" name="__codelineno-5-39" href="#__codelineno-5-39"></a>          <span class="k">object</span>
</span><span id="__span-5-40"><a id="__codelineno-5-40" name="__codelineno-5-40" href="#__codelineno-5-40"></a>            <span class="k">method</span> <span class="n">value</span> <span class="o">=</span> <span class="n">failwith</span> <span class="s2">&quot;sum expression has no numerical value&quot;</span>
</span><span id="__span-5-41"><a id="__codelineno-5-41" name="__codelineno-5-41" href="#__codelineno-5-41"></a>            <span class="k">method</span> <span class="n">show</span> <span class="o">=</span> <span class="s2">&quot;(&quot;</span> <span class="o">^</span> <span class="n">expr1</span><span class="o">#</span><span class="n">show</span> <span class="o">^</span> <span class="s2">&quot; + &quot;</span> <span class="o">^</span> <span class="n">expr2</span><span class="o">#</span><span class="n">show</span> <span class="o">^</span> <span class="s2">&quot;)&quot;</span>
</span><span id="__span-5-42"><a id="__codelineno-5-42" name="__codelineno-5-42" href="#__codelineno-5-42"></a>            <span class="k">method</span> <span class="n">is_zero</span> <span class="o">=</span> <span class="bp">false</span>
</span><span id="__span-5-43"><a id="__codelineno-5-43" name="__codelineno-5-43" href="#__codelineno-5-43"></a>            <span class="k">method</span> <span class="n">is_number</span> <span class="o">=</span> <span class="bp">false</span>
</span><span id="__span-5-44"><a id="__codelineno-5-44" name="__codelineno-5-44" href="#__codelineno-5-44"></a>            <span class="k">method</span> <span class="n">evaluate</span> <span class="n">v</span> <span class="n">n</span> <span class="o">=</span>
</span><span id="__span-5-45"><a id="__codelineno-5-45" name="__codelineno-5-45" href="#__codelineno-5-45"></a>              <span class="n">make_sum</span> <span class="o">(</span><span class="n">expr1</span><span class="o">#</span><span class="n">evaluate</span> <span class="n">v</span> <span class="n">n</span><span class="o">)</span> <span class="o">(</span><span class="n">expr2</span><span class="o">#</span><span class="n">evaluate</span> <span class="n">v</span> <span class="n">n</span><span class="o">)</span>
</span><span id="__span-5-46"><a id="__codelineno-5-46" name="__codelineno-5-46" href="#__codelineno-5-46"></a>            <span class="k">method</span> <span class="n">derive</span> <span class="n">v</span> <span class="o">=</span>
</span><span id="__span-5-47"><a id="__codelineno-5-47" name="__codelineno-5-47" href="#__codelineno-5-47"></a>              <span class="n">make_sum</span> <span class="o">(</span><span class="n">expr1</span><span class="o">#</span><span class="n">derive</span> <span class="n">v</span><span class="o">)</span> <span class="o">(</span><span class="n">expr2</span><span class="o">#</span><span class="n">derive</span> <span class="n">v</span><span class="o">)</span>
</span><span id="__span-5-48"><a id="__codelineno-5-48" name="__codelineno-5-48" href="#__codelineno-5-48"></a>          <span class="k">end</span>
</span><span id="__span-5-49"><a id="__codelineno-5-49" name="__codelineno-5-49" href="#__codelineno-5-49"></a>
</span><span id="__span-5-50"><a id="__codelineno-5-50" name="__codelineno-5-50" href="#__codelineno-5-50"></a><span class="c">(* Evaluate a message-passing expression with a number</span>
</span><span id="__span-5-51"><a id="__codelineno-5-51" name="__codelineno-5-51" href="#__codelineno-5-51"></a><span class="c">   substituted for a variable. *)</span>
</span><span id="__span-5-52"><a id="__codelineno-5-52" name="__codelineno-5-52" href="#__codelineno-5-52"></a><span class="k">let</span> <span class="n">evaluate</span> <span class="n">expr</span> <span class="n">v</span> <span class="n">n</span> <span class="o">=</span> <span class="n">expr</span><span class="o">#</span><span class="n">evaluate</span> <span class="n">v</span> <span class="n">n</span>
</span><span id="__span-5-53"><a id="__codelineno-5-53" name="__codelineno-5-53" href="#__codelineno-5-53"></a>
</span><span id="__span-5-54"><a id="__codelineno-5-54" name="__codelineno-5-54" href="#__codelineno-5-54"></a><span class="c">(* Return the string representation of an expression. *)</span>
</span><span id="__span-5-55"><a id="__codelineno-5-55" name="__codelineno-5-55" href="#__codelineno-5-55"></a><span class="k">let</span> <span class="n">show</span> <span class="n">expr</span> <span class="o">=</span> <span class="n">expr</span><span class="o">#</span><span class="n">show</span>
</span><span id="__span-5-56"><a id="__codelineno-5-56" name="__codelineno-5-56" href="#__codelineno-5-56"></a>
</span><span id="__span-5-57"><a id="__codelineno-5-57" name="__codelineno-5-57" href="#__codelineno-5-57"></a><span class="c">(* Return the derivative of an expression. *)</span>
</span><span id="__span-5-58"><a id="__codelineno-5-58" name="__codelineno-5-58" href="#__codelineno-5-58"></a><span class="k">let</span> <span class="n">differentiate</span> <span class="n">expr</span> <span class="n">v</span> <span class="o">=</span> <span class="n">expr</span><span class="o">#</span><span class="n">derive</span> <span class="n">v</span>
</span></code></pre></div>
<p>You will be extending this in various ways.</p>
<h3 id="a-make_product">a. <code>make_product</code></h3>
<p>Write a function called <code>make_product</code>
to create objects representing product expressions
(one expression multiplied by another)
in a manner analogous to <code>make_sum</code>.
It should return an object representing a number when possible
(<em>i.e.</em> when all the argument expressions given are numbers).
Multiplication by the number zero should be reduced to the number zero,
and multiplication of a term by 1 should return the term.
You can use the <code>make_sum</code> function above
as a skeleton to build your solution around,
but be careful to notice the differences between sums and products
(for one thing, there are more base cases with products).
Note that the derivative of a product of two expressions
can be computed with the following rule:</p>
<div class="arithmatex">\[
\frac{d}{dx} (f(x) \times g(x)) =
\frac{df(x)}{dx} \times g(x) + f(x) \times \frac{dg(x)}{dx}
\]</div>
<p>where the derivatives are all with respect to <span class="arithmatex">\(x\)</span>.</p>
<p>This function can be written in less than 30 lines.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Make sure that the return value of <code>make_product</code>
is always a message-passing object,
even if it's just a wrapper around a number.
If not, you may get extremely confusing type errors.</p>
</div>
<h3 id="b-testing-the-differentiator">b. Testing the differentiator</h3>
<p>Demonstrate that your operations work
by evaluating the following expressions
in the interactive OCaml interpreter
and writing down your results in OCaml comments.</p>
<h4 id="i">i.</h4>
<div class="language-ocaml highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c">(* f = x^3*y + 3*x^2*y^2 + y^2 + 2 *)</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="o">#</span> <span class="k">let</span> <span class="n">f</span> <span class="o">=</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>    <span class="n">make_sum</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>     <span class="o">(</span><span class="n">make_product</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>      <span class="o">(</span><span class="n">make_variable</span> <span class="s2">&quot;x&quot;</span><span class="o">)</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>      <span class="o">(</span><span class="n">make_product</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>       <span class="o">(</span><span class="n">make_variable</span> <span class="s2">&quot;x&quot;</span><span class="o">)</span>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>       <span class="o">(</span><span class="n">make_product</span>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>        <span class="o">(</span><span class="n">make_variable</span> <span class="s2">&quot;x&quot;</span><span class="o">)</span>
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a>        <span class="o">(</span><span class="n">make_variable</span> <span class="s2">&quot;y&quot;</span><span class="o">))))</span>
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a>     <span class="o">(</span><span class="n">make_sum</span>
</span><span id="__span-6-12"><a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a>      <span class="o">(</span><span class="n">make_product</span>
</span><span id="__span-6-13"><a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a>       <span class="o">(</span><span class="n">make_number</span> <span class="mi">3</span><span class="o">)</span>
</span><span id="__span-6-14"><a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a>       <span class="o">(</span><span class="n">make_product</span>
</span><span id="__span-6-15"><a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a>        <span class="o">(</span><span class="n">make_variable</span> <span class="s2">&quot;x&quot;</span><span class="o">)</span>
</span><span id="__span-6-16"><a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a>        <span class="o">(</span><span class="n">make_product</span>
</span><span id="__span-6-17"><a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a>         <span class="o">(</span><span class="n">make_variable</span> <span class="s2">&quot;x&quot;</span><span class="o">)</span>
</span><span id="__span-6-18"><a id="__codelineno-6-18" name="__codelineno-6-18" href="#__codelineno-6-18"></a>         <span class="o">(</span><span class="n">make_product</span>
</span><span id="__span-6-19"><a id="__codelineno-6-19" name="__codelineno-6-19" href="#__codelineno-6-19"></a>          <span class="o">(</span><span class="n">make_variable</span> <span class="s2">&quot;y&quot;</span><span class="o">)</span>
</span><span id="__span-6-20"><a id="__codelineno-6-20" name="__codelineno-6-20" href="#__codelineno-6-20"></a>          <span class="o">(</span><span class="n">make_variable</span> <span class="s2">&quot;y&quot;</span><span class="o">)))))</span>
</span><span id="__span-6-21"><a id="__codelineno-6-21" name="__codelineno-6-21" href="#__codelineno-6-21"></a>      <span class="o">(</span><span class="n">make_sum</span>
</span><span id="__span-6-22"><a id="__codelineno-6-22" name="__codelineno-6-22" href="#__codelineno-6-22"></a>       <span class="o">(</span><span class="n">make_product</span>
</span><span id="__span-6-23"><a id="__codelineno-6-23" name="__codelineno-6-23" href="#__codelineno-6-23"></a>        <span class="o">(</span><span class="n">make_variable</span> <span class="s2">&quot;y&quot;</span><span class="o">)</span>
</span><span id="__span-6-24"><a id="__codelineno-6-24" name="__codelineno-6-24" href="#__codelineno-6-24"></a>        <span class="o">(</span><span class="n">make_variable</span> <span class="s2">&quot;y&quot;</span><span class="o">))</span>
</span><span id="__span-6-25"><a id="__codelineno-6-25" name="__codelineno-6-25" href="#__codelineno-6-25"></a>       <span class="o">(</span><span class="n">make_number</span> <span class="mi">2</span><span class="o">)))</span> <span class="o">;;</span>
</span></code></pre></div>
<h4 id="ii">ii.</h4>
<div class="language-ocaml highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="o">#</span> <span class="k">let</span> <span class="n">dfdx</span> <span class="o">=</span> <span class="n">differentiate</span> <span class="n">f</span> <span class="s2">&quot;x&quot;</span> <span class="o">;;</span>
</span></code></pre></div>
<h4 id="iii">iii.</h4>
<div class="language-ocaml highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="o">#</span> <span class="n">show</span> <span class="n">dfdx</span> <span class="o">;;</span>
</span></code></pre></div>
<h4 id="iv">iv.</h4>
<div class="language-ocaml highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="o">#</span> <span class="n">show</span> <span class="o">(</span><span class="n">evaluate</span> <span class="n">f</span> <span class="s2">&quot;x&quot;</span> <span class="mi">3</span><span class="o">)</span> <span class="o">;;</span>
</span></code></pre></div>
<h4 id="v">v.</h4>
<div class="language-ocaml highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="o">#</span> <span class="n">show</span> <span class="o">(</span><span class="n">evaluate</span> <span class="o">(</span><span class="n">evaluate</span> <span class="n">f</span> <span class="s2">&quot;x&quot;</span> <span class="mi">3</span><span class="o">)</span> <span class="s2">&quot;y&quot;</span> <span class="mi">4</span><span class="o">)</span> <span class="o">;;</span>
</span></code></pre></div>
<h4 id="vi">vi.</h4>
<div class="language-ocaml highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="o">#</span> <span class="n">show</span> <span class="o">(</span><span class="n">evaluate</span> <span class="o">(</span><span class="n">evaluate</span> <span class="n">dfdx</span> <span class="s2">&quot;x&quot;</span> <span class="mi">3</span><span class="o">)</span> <span class="s2">&quot;y&quot;</span> <span class="mi">4</span><span class="o">)</span> <span class="o">;;</span>
</span></code></pre></div>
<!--

There may be some minor differences from a student's output and the
output given here; it's OK as long as the result is equivalent. For
instance, the product `x * y * z` could be represented as either
`(x * y) * z` or `x * (y * z)`. Don't expect it to be identical to
what we show.

You should manually run the students' code through the interpreter to
check that the results are reasonable and the same as what they claim
them to be. This is a pain, I know!

-->

<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>You probably want to test your functions
on some simpler expressions first.
Here are some examples.
You do not have to submit the results
of using your functions on these values.</p>
</div>
<div class="language-ocaml highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="k">let</span> <span class="n">n0</span>  <span class="o">=</span> <span class="n">make_number</span> <span class="mi">0</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="k">let</span> <span class="n">n1</span>  <span class="o">=</span> <span class="n">make_number</span> <span class="mi">1</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="k">let</span> <span class="n">n2</span>  <span class="o">=</span> <span class="n">make_number</span> <span class="mi">2</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="k">let</span> <span class="n">x</span>   <span class="o">=</span> <span class="n">make_variable</span> <span class="s2">&quot;x&quot;</span>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="k">let</span> <span class="n">s1</span>  <span class="o">=</span> <span class="n">make_sum</span> <span class="n">n1</span> <span class="n">n2</span>
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="k">let</span> <span class="n">s2</span>  <span class="o">=</span> <span class="n">make_sum</span> <span class="n">n1</span> <span class="n">n0</span>
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="k">let</span> <span class="n">s3</span>  <span class="o">=</span> <span class="n">make_sum</span> <span class="n">x</span> <span class="n">n1</span>
</span><span id="__span-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a><span class="k">let</span> <span class="n">s4</span>  <span class="o">=</span> <span class="n">make_sum</span> <span class="o">(</span><span class="n">make_variable</span> <span class="s2">&quot;y&quot;</span><span class="o">)</span> <span class="o">(</span><span class="n">make_number</span> <span class="mi">4</span><span class="o">)</span>
</span><span id="__span-12-9"><a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="k">let</span> <span class="n">p1</span>  <span class="o">=</span> <span class="n">make_product</span> <span class="n">n2</span> <span class="n">n2</span>
</span><span id="__span-12-10"><a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a><span class="k">let</span> <span class="n">p2</span>  <span class="o">=</span> <span class="n">make_product</span> <span class="n">x</span> <span class="n">n0</span>
</span><span id="__span-12-11"><a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a><span class="k">let</span> <span class="n">p3</span>  <span class="o">=</span> <span class="n">make_product</span> <span class="n">x</span> <span class="n">n2</span>
</span><span id="__span-12-12"><a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a><span class="k">let</span> <span class="n">p4</span>  <span class="o">=</span> <span class="n">make_product</span> <span class="n">x</span> <span class="n">s1</span>
</span><span id="__span-12-13"><a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a><span class="k">let</span> <span class="n">sl1</span> <span class="o">=</span> <span class="n">make_sum</span> <span class="n">p3</span> <span class="o">(</span><span class="n">make_sum</span> <span class="n">p4</span> <span class="n">s3</span><span class="o">)</span>
</span><span id="__span-12-14"><a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a><span class="k">let</span> <span class="n">p5</span>  <span class="o">=</span> <span class="n">make_product</span> <span class="n">n2</span> <span class="n">p4</span>
</span><span id="__span-12-15"><a id="__codelineno-12-15" name="__codelineno-12-15" href="#__codelineno-12-15"></a><span class="k">let</span> <span class="n">p6</span>  <span class="o">=</span> <span class="n">make_product</span> <span class="n">x</span> <span class="n">s3</span>
</span><span id="__span-12-16"><a id="__codelineno-12-16" name="__codelineno-12-16" href="#__codelineno-12-16"></a><span class="k">let</span> <span class="n">ap1</span> <span class="o">=</span> <span class="n">make_sum</span> <span class="n">p3</span> <span class="n">p4</span>
</span><span id="__span-12-17"><a id="__codelineno-12-17" name="__codelineno-12-17" href="#__codelineno-12-17"></a><span class="k">let</span> <span class="n">pa1</span> <span class="o">=</span> <span class="n">make_product</span> <span class="n">s3</span> <span class="n">s4</span>
</span><span id="__span-12-18"><a id="__codelineno-12-18" name="__codelineno-12-18" href="#__codelineno-12-18"></a><span class="k">let</span> <span class="n">pl1</span> <span class="o">=</span> <span class="n">make_product</span> <span class="n">s2</span> <span class="o">(</span><span class="n">make_product</span> <span class="n">s4</span> <span class="n">sl1</span><span class="o">)</span>
</span></code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.copy", "navigation.footer", "navigation.top"], "search": "../../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.88dd0f4e.min.js"></script>
      
        <script src="../../../js/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>