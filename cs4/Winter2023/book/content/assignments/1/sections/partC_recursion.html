
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Part C: Recursion &#8212; The CS 4 book</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css" />
    <link rel="stylesheet" href="../../../../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
    <script src="../../../../_static/jquery.js"></script>
    <script src="../../../../_static/underscore.js"></script>
    <script src="../../../../_static/doctools.js"></script>
    <script src="../../../../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script src="../../../../_static/clipboard.min.js"></script>
    <script src="../../../../_static/copybutton.js"></script>
    <script src="../../../../_static/design-tabs.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Assignment 2: Asymptotic complexity and higher-order functions" href="../../2/index.html" />
    <link rel="prev" title="Part B: Evaluation" href="partB_evaluation.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../../../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">The CS 4 book</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Contents:
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../Introduction.html">
   Introduction
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../../admin/index.html">
   Administrative information
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../admin/Syllabus.html">
     Syllabus
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../admin/Collaboration_policies.html">
     Collaboration policies
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../Motivation.html">
   Motivation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../History.html">
   History
  </a>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../../index.html">
   Assignments
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="../../0/Assignment0.html">
     Assignment 0: Getting set up
    </a>
   </li>
   <li class="toctree-l2 current active has-children">
    <a class="reference internal" href="../index.html">
     Assignment 1: Evaluation and recursion
    </a>
    <input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
    <label for="toctree-checkbox-3">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul class="current">
     <li class="toctree-l3">
      <a class="reference internal" href="Preamble.html">
       Preamble
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="ocaml_notes.html">
       OCaml notes
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="partA_exercises.html">
       Part A: Basic exercises
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="partB_evaluation.html">
       Part B: Evaluation
      </a>
     </li>
     <li class="toctree-l3 current active">
      <a class="current reference internal" href="#">
       Part C: Recursion
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../2/index.html">
     Assignment 2: Asymptotic complexity and higher-order functions
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
    <label for="toctree-checkbox-4">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../2/sections/Preamble.html">
       Preamble
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../2/sections/ocaml_notes.html">
       OCaml notes
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../2/sections/partA_orders_of_growth.html">
       Part A: Orders of growth
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../2/sections/partB_evaluation.html">
       Part B: Evaluation
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../2/sections/partC_higher_order_functions.html">
       Part C. Higher-order functions
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../2/sections/partD_additional_problems.html">
       Part D: Additional problems
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../../readings/index.html">
   Readings
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../readings/ocaml_cheat_sheet.html">
     OCaml syntax cheat sheet
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../readings/subst.html">
     The substitution model
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../../../../_sources/content/assignments/1/sections/partC_recursion.rst.txt"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.rst</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#computing-e">
   1. Computing
   <em>
    e
   </em>
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#a-e-term">
     a.
     <code class="docutils literal notranslate">
      <span class="pre">
       e_term
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#b-e-approximation">
     b.
     <code class="docutils literal notranslate">
      <span class="pre">
       e_approximation
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#c-computing-the-approximation">
     c. Computing the approximation
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#d-too-many-terms">
     d. Too many terms?
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#mutual-recursion">
   2. Mutual recursion
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#sicp-problem-1-11">
   3. SICP, problem 1.11
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#sicp-problem-1-12">
   4. SICP, problem 1.12
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Part C: Recursion</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#computing-e">
   1. Computing
   <em>
    e
   </em>
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#a-e-term">
     a.
     <code class="docutils literal notranslate">
      <span class="pre">
       e_term
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#b-e-approximation">
     b.
     <code class="docutils literal notranslate">
      <span class="pre">
       e_approximation
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#c-computing-the-approximation">
     c. Computing the approximation
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#d-too-many-terms">
     d. Too many terms?
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#mutual-recursion">
   2. Mutual recursion
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#sicp-problem-1-11">
   3. SICP, problem 1.11
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#sicp-problem-1-12">
   4. SICP, problem 1.12
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section id="part-c-recursion">
<h1>Part C: Recursion<a class="headerlink" href="#part-c-recursion" title="Permalink to this headline">#</a></h1>
<section id="computing-e">
<h2>1. Computing <em>e</em><a class="headerlink" href="#computing-e" title="Permalink to this headline">#</a></h2>
<p>[<strong>4</strong>] <span class="raw-html">&nbsp;</span> (30 minutes)</p>
<p>In this problem we’re going to write a function that enables us to
compute the number <em>e</em>, the base of natural logarithms, which is equal
to 2.7182818… We will do this by summing a part of an infinite series
expansion which computes <em>e</em>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>e = 1/0! + 1/1! + 1/2! + ...
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">n!</span></code> is the factorial of <code class="docutils literal notranslate"><span class="pre">n</span></code>, which in defined as</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>n! = n * (n-1) * (n-2) * ... * 1
</pre></div>
</div>
<p>We’ll start out with the factorial function itself:</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="c">(* This function computes the factorial of the input number,</span>
<span class="c">   which for a number n is equal to n * (n-1) * ... * 1. *)</span>
<span class="k">let</span> <span class="k">rec</span> <span class="n">factorial</span> <span class="n">n</span> <span class="o">=</span>
  <span class="k">if</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">then</span> <span class="mi">1</span> <span class="k">else</span> <span class="n">n</span> <span class="o">*</span> <span class="n">factorial</span> <span class="o">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="o">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The definition of <code class="docutils literal notranslate"><span class="pre">factorial</span></code> has to be included in your lab
submission or the rest of the code won’t work.</p>
<p>Also, if you’re unhappy because this is a space-inefficient way
to compute factorials, you’re right!
But it won’t matter for this problem.</p>
</div>
<section id="a-e-term">
<h3>a. <code class="docutils literal notranslate"><span class="pre">e_term</span></code><a class="headerlink" href="#a-e-term" title="Permalink to this headline">#</a></h3>
<p>Write a simple function called <code class="docutils literal notranslate"><span class="pre">e_term</span></code> which takes a (non-negative)
integer argument and computes that term of the infinite series expansion
of <code class="docutils literal notranslate"><span class="pre">e</span></code>. This function is not recursive. Note that the result must be a
floating-point number; use the <code class="docutils literal notranslate"><span class="pre">float_of_int</span></code> function to convert from
an OCaml <code class="docutils literal notranslate"><span class="pre">int</span></code> to a <code class="docutils literal notranslate"><span class="pre">float</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>OCaml never implicitly promotes one numeric type to another,
so you must do it explicitly if that’s what you want.</p>
</div>
<div class="admonition-examples admonition">
<p class="admonition-title">Examples</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="o">#</span> <span class="n">e_term</span> <span class="mi">0</span><span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">float</span> <span class="o">=</span> <span class="mi">1</span><span class="o">.</span>
<span class="o">#</span> <span class="n">e_term</span> <span class="mi">1</span><span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">float</span> <span class="o">=</span> <span class="mi">1</span><span class="o">.</span>
<span class="o">#</span> <span class="n">e_term</span> <span class="mi">2</span><span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">float</span> <span class="o">=</span> <span class="mi">0</span><span class="o">.</span><span class="mi">5</span>
<span class="o">#</span> <span class="n">e_term</span> <span class="mi">5</span><span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">float</span> <span class="o">=</span> <span class="mi">0</span><span class="o">.</span><span class="mi">00833333333333333322</span>
</pre></div>
</div>
</div>
</section>
<section id="b-e-approximation">
<h3>b. <code class="docutils literal notranslate"><span class="pre">e_approximation</span></code><a class="headerlink" href="#b-e-approximation" title="Permalink to this headline">#</a></h3>
<p>Write a recursive function called <code class="docutils literal notranslate"><span class="pre">e_approximation</span></code> that takes one
positive integer argument and computes an approximation to <em>e</em> (an
“e-proximation”, as it were) by summing up that many terms of the
infinite series expansion of <em>e</em> (actually, it’ll sum up the first n+1
terms, since it starts at term 0 and ends at term n). <strong>Write the
function as a linear recursive process.</strong> Use your <code class="docutils literal notranslate"><span class="pre">e_term</span></code> function
to help you write this one.</p>
<div class="admonition-examples admonition">
<p class="admonition-title">Examples</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="o">#</span> <span class="n">e_approximation</span> <span class="mi">0</span><span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">float</span> <span class="o">=</span> <span class="mi">1</span><span class="o">.</span>
<span class="o">#</span> <span class="n">e_approximation</span> <span class="mi">1</span><span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">float</span> <span class="o">=</span> <span class="mi">2</span><span class="o">.</span>
<span class="o">#</span> <span class="n">e_approximation</span> <span class="mi">2</span><span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">float</span> <span class="o">=</span> <span class="mi">2</span><span class="o">.</span><span class="mi">5</span>
<span class="o">#</span> <span class="n">e_approximation</span> <span class="mi">5</span><span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">float</span> <span class="o">=</span> <span class="mi">2</span><span class="o">.</span><span class="mi">71666666666666634</span>
<span class="o">#</span> <span class="n">e_approximation</span> <span class="mi">10</span><span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">float</span> <span class="o">=</span> <span class="mi">2</span><span class="o">.</span><span class="mi">71828180114638451</span>
</pre></div>
</div>
</div>
</section>
<section id="c-computing-the-approximation">
<h3>c. Computing the approximation<a class="headerlink" href="#c-computing-the-approximation" title="Permalink to this headline">#</a></h3>
<p>Compute an approximation to <em>e</em> by summing up to the 20th term of the
infinite series expansion. Write down the answer that OCaml gives you in
a comment in your lab submission. Then write down the value of
<code class="docutils literal notranslate"><span class="pre">exp</span> <span class="pre">1.0</span></code> which is <code class="docutils literal notranslate"><span class="pre">e</span></code> to the power of <code class="docutils literal notranslate"><span class="pre">1</span></code>, and compare with the
result given by <code class="docutils literal notranslate"><span class="pre">e_approximation</span> <span class="pre">20</span></code> (they should be nearly
identical).</p>
</section>
<section id="d-too-many-terms">
<h3>d. Too many terms?<a class="headerlink" href="#d-too-many-terms" title="Permalink to this headline">#</a></h3>
<p>What happens if you try to compute a better approximation to <code class="docutils literal notranslate"><span class="pre">e</span></code> by
summing up to the 100th term of the infinite series expansion? Why does
this happen? Write your answer in a comment.</p>
</section>
</section>
<section id="mutual-recursion">
<h2>2. Mutual recursion<a class="headerlink" href="#mutual-recursion" title="Permalink to this headline">#</a></h2>
<p>[<strong>1</strong>] <span class="raw-html">&nbsp;</span> (20 minutes)</p>
<p>It’s possible to have a kind of recursion which involves more than one
function; this is called <em>mutual recursion</em>. A simple example is a pair
of functions <code class="docutils literal notranslate"><span class="pre">is_even</span></code> and <code class="docutils literal notranslate"><span class="pre">is_odd</span></code>. <code class="docutils literal notranslate"><span class="pre">is_even</span></code> is a predicate
which returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if its argument is an even (non-negative) integer
and <code class="docutils literal notranslate"><span class="pre">false</span></code> if its argument is an odd (non-negative) integer (zero is
considered even). <code class="docutils literal notranslate"><span class="pre">is_odd</span></code> returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if its numeric argument is
odd and <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise. Write these functions, using only
recursion, testing for equality with zero, and subtracting 1. (The
solution is very short.)</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Of course, this is an extremely inefficient way of computing
evenness and oddness!  It’s just for illustration purposes.</p>
</div>
<p>When defining mutually recursive functions in OCaml,
you need to use the <code class="docutils literal notranslate"><span class="pre">let</span> <span class="pre">rec</span> <span class="pre">...</span> <span class="pre">and</span> <span class="pre">...</span></code> syntax:</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="k">rec</span> <span class="n">f1</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">=</span> <span class="o">...</span>  <span class="c">(* ... may include f2 *)</span>
<span class="ow">and</span> <span class="n">f2</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span> <span class="o">=</span> <span class="o">...</span>      <span class="c">(* ... may include f1 *)</span>
</pre></div>
</div>
<p>This works for any number of mutually-recursive functions.
The whole form starts with a <code class="docutils literal notranslate"><span class="pre">let</span> <span class="pre">rec</span></code>
and then each function after the first in the group starts with <code class="docutils literal notranslate"><span class="pre">and</span></code>.</p>
</section>
<section id="sicp-problem-1-11">
<h2>3. <a class="reference external" href="https://mitp-content-server.mit.edu/books/content/sectbyfn/books_pres_0/6515/sicp.zip/full-text/book/book-Z-H-11.html#%_thm_1.11">SICP, problem 1.11</a><a class="headerlink" href="#sicp-problem-1-11" title="Permalink to this headline">#</a></h2>
<p>[<strong>2</strong>] <span class="raw-html">&nbsp;</span> (30 minutes)</p>
<p>A function <code class="docutils literal notranslate"><span class="pre">f</span></code> is defined by the rules:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">f(n)</span> <span class="pre">=</span> <span class="pre">n</span></code> if <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">&lt;</span> <span class="pre">3</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f(n)</span> <span class="pre">=</span> <span class="pre">f(n</span> <span class="pre">-</span> <span class="pre">1)</span> <span class="pre">+</span> <span class="pre">2</span> <span class="pre">*</span> <span class="pre">f(n</span> <span class="pre">-</span> <span class="pre">2)</span> <span class="pre">+</span> <span class="pre">3</span> <span class="pre">*</span> <span class="pre">f(n</span> <span class="pre">-</span> <span class="pre">3)</span></code> if <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">&gt;=</span> <span class="pre">3</span></code>.</p></li>
</ul>
<p>Write a function called <code class="docutils literal notranslate"><span class="pre">f_rec</span></code>
that computes <code class="docutils literal notranslate"><span class="pre">f</span></code> by means of a recursive process.
Write another function called <code class="docutils literal notranslate"><span class="pre">f_iter</span></code>
that computes <code class="docutils literal notranslate"><span class="pre">f</span></code> by means of an iterative process.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>The recursive definition is straightforward. Use it to check the
correctness of the iterative definition. The iterative definition will
need a helper function that keeps track of the last three numbers in the
series, among other things.</p>
</div>
<div class="admonition-examples admonition">
<p class="admonition-title">Examples</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="o">#</span> <span class="n">f_rec</span> <span class="mi">0</span><span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="o">=</span> <span class="mi">0</span>
<span class="o">#</span> <span class="n">f_rec</span> <span class="mi">1</span><span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="o">=</span> <span class="mi">1</span>
<span class="o">#</span> <span class="n">f_rec</span> <span class="mi">3</span><span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="o">=</span> <span class="mi">4</span>
<span class="o">#</span> <span class="n">f_rec</span> <span class="mi">10</span><span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="o">=</span> <span class="mi">1892</span>
<span class="o">#</span> <span class="n">f_rec</span> <span class="mi">20</span><span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="o">=</span> <span class="mi">10771211</span>
<span class="c">(* f_iter gives the same results *)</span>
</pre></div>
</div>
</div>
</section>
<section id="sicp-problem-1-12">
<h2>4. <a class="reference external" href="https://mitp-content-server.mit.edu/books/content/sectbyfn/books_pres_0/6515/sicp.zip/full-text/book/book-Z-H-11.html#%_thm_1.12">SICP, problem 1.12</a><a class="headerlink" href="#sicp-problem-1-12" title="Permalink to this headline">#</a></h2>
<p>[<strong>3</strong>] <span class="raw-html">&nbsp;</span> (30 minutes)</p>
<p>The following pattern of numbers is called “Pascal’s triangle”:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>    1
   1 1
  1 2 1
 1 3 3 1
1 4 6 4 1
   ...
</pre></div>
</div>
<p>The numbers at the edges of the triangle are all 1,
and each number inside the triangle is the sum of the two numbers above it
to the left and right.
Write a function called <code class="docutils literal notranslate"><span class="pre">pascal_coefficient</span></code>
which takes two <code class="docutils literal notranslate"><span class="pre">int</span></code> arguments
(corresponding to the row number (starting from 1)
and the index inside the row (also starting from 1))
and computes elements of Pascal’s triangle by means of a recursive process.</p>
<p>Use pattern matching to make the code cleaner.
<strong>This is not optional!</strong>
Use of <code class="docutils literal notranslate"><span class="pre">if</span></code>/<code class="docutils literal notranslate"><span class="pre">then</span></code>/<code class="docutils literal notranslate"><span class="pre">else</span></code> in your solution will result in lost marks.</p>
<p>For arguments that don’t correspond to locations in Pascal’s triangle
(like numbers &lt; 1 or index numbers that are greater than the row number)
you should signal an error using the code:
<code class="docutils literal notranslate"><span class="pre">failwith</span> <span class="pre">&quot;invalid</span> <span class="pre">arguments&quot;</span></code>.
This raises a <code class="docutils literal notranslate"><span class="pre">Failure</span></code> exception.
We’ll talk more about exceptions later in the course.</p>
<div class="admonition-examples admonition">
<p class="admonition-title">Examples</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="o">#</span> <span class="n">pascal_coefficient</span> <span class="mi">1</span> <span class="mi">1</span> <span class="o">;;</span> <span class="c">(* row 1, index 1 in row *)</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="o">=</span> <span class="mi">1</span>
<span class="o">#</span> <span class="n">pascal_coefficient</span> <span class="mi">2</span> <span class="mi">1</span> <span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="o">=</span> <span class="mi">1</span>
<span class="o">#</span> <span class="n">pascal_coefficient</span> <span class="mi">2</span> <span class="mi">2</span> <span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="o">=</span> <span class="mi">1</span>
<span class="o">#</span> <span class="n">pascal_coefficient</span> <span class="mi">3</span> <span class="mi">1</span> <span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="o">=</span> <span class="mi">1</span>
<span class="o">#</span> <span class="n">pascal_coefficient</span> <span class="mi">3</span> <span class="mi">2</span> <span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="o">=</span> <span class="mi">2</span>
<span class="o">#</span> <span class="n">pascal_coefficient</span> <span class="mi">3</span> <span class="mi">3</span> <span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="o">=</span> <span class="mi">1</span>
<span class="o">#</span> <span class="n">pascal_coefficient</span> <span class="mi">10</span> <span class="mi">5</span> <span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="o">=</span> <span class="mi">126</span>
<span class="o">#</span> <span class="n">pascal_coefficient</span> <span class="mi">1</span> <span class="mi">0</span> <span class="o">;;</span>
<span class="nc">Exception</span><span class="o">:</span> <span class="nc">Failure</span> <span class="s2">&quot;invalid arguments&quot;</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<ul>
<li><p>It’s much easier to write this as a recursive process (<em>i.e.</em> with
pending operations) than as an iterative process, though both
approaches will involve recursive functions.
Since you don’t have to do it both ways,
we recommend you write it as a recursive process.</p></li>
<li><p>Pattern match on a tuple of both input arguments. Use the <code class="docutils literal notranslate"><span class="pre">when</span></code>
form in a pattern when you need to specify non-structural conditions
for a match (like two things being equal). Only use <code class="docutils literal notranslate"><span class="pre">when</span></code> when you
can’t use structural pattern matching, though. For instance, don’t do
this kind of thing:</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="k">match</span> <span class="n">x</span> <span class="k">with</span>
  <span class="o">|</span> <span class="n">x&#39;</span> <span class="k">when</span> <span class="n">x&#39;</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-&gt;</span> <span class="o">...</span>
  <span class="o">...</span>
</pre></div>
</div>
<p>when you can do this instead:</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="k">match</span> <span class="n">x</span> <span class="k">with</span>
  <span class="o">|</span> <span class="mi">1</span> <span class="o">-&gt;</span> <span class="o">...</span>
  <span class="o">...</span>
</pre></div>
</div>
<p>Also don’t forget about the <code class="docutils literal notranslate"><span class="pre">_</span></code> (wildcard) syntax for don’t-care
patterns. Remember that a number in a pattern matches that literal
number only.</p>
</li>
<li><p>It’s convenient (though not required) to use the first pattern match
for error checking only.</p></li>
</ul>
</div>
<p>Despite all this explanation,
this function only needs to be a few lines long.</p>
</section>
</section>


              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="partB_evaluation.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Part B: Evaluation</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../../2/index.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Assignment 2: Asymptotic complexity and higher-order functions</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Michael Vanier<br/>
  
      &copy; Copyright 2023, Michael C. Vanier. All rights reserved.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>

  </body>
</html>