
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Part A: Working with lists &#8212; The CS 4 book</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css" />
    <link rel="stylesheet" href="../../../../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
    <script src="../../../../_static/jquery.js"></script>
    <script src="../../../../_static/underscore.js"></script>
    <script src="../../../../_static/doctools.js"></script>
    <script src="../../../../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script src="../../../../_static/clipboard.min.js"></script>
    <script src="../../../../_static/copybutton.js"></script>
    <script src="../../../../_static/design-tabs.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Part B: Structural and generative recursion" href="partB_structural_generative_recursion.html" />
    <link rel="prev" title="OCaml notes" href="ocaml_notes.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../../../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">The CS 4 book</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Contents:
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../Introduction.html">
   Introduction
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../../admin/index.html">
   Administrative information
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../admin/Syllabus.html">
     Syllabus
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../admin/Collaboration_policies.html">
     Collaboration policies
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../Motivation.html">
   Motivation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../History.html">
   History
  </a>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../../index.html">
   Assignments
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="../../0/Assignment0.html">
     Assignment 0: Getting set up
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../1/index.html">
     Assignment 1: Evaluation and recursion
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
    <label for="toctree-checkbox-3">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../1/sections/Preamble.html">
       Preamble
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../1/sections/ocaml_notes.html">
       OCaml notes
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../1/sections/partA_exercises.html">
       Part A: Basic exercises
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../1/sections/partB_evaluation.html">
       Part B: Evaluation
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../1/sections/partC_recursion.html">
       Part C: Recursion
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../2/index.html">
     Assignment 2: Asymptotic complexity and higher-order functions
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
    <label for="toctree-checkbox-4">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../2/sections/Preamble.html">
       Preamble
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../2/sections/ocaml_notes.html">
       OCaml notes
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../2/sections/partA_orders_of_growth.html">
       Part A: Orders of growth
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../2/sections/partB_evaluation.html">
       Part B: Evaluation
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../2/sections/partC_higher_order_functions.html">
       Part C. Higher-order functions
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../2/sections/partD_additional_problems.html">
       Part D: Additional problems
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 current active has-children">
    <a class="reference internal" href="../index.html">
     Assignment 3: Lists
    </a>
    <input checked="" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
    <label for="toctree-checkbox-5">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul class="current">
     <li class="toctree-l3">
      <a class="reference internal" href="Preamble.html">
       Preamble
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="ocaml_notes.html">
       OCaml notes
      </a>
     </li>
     <li class="toctree-l3 current active">
      <a class="current reference internal" href="#">
       Part A: Working with lists
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="partB_structural_generative_recursion.html">
       Part B: Structural and generative recursion
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="partC_more_lists.html">
       Part C: Some harder problems with lists
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../4/index.html">
     Assignment 4: Data abstraction
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
    <label for="toctree-checkbox-6">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../4/sections/Preamble.html">
       Preamble
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../4/sections/ocaml_notes.html">
       OCaml notes
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../4/sections/partA_abstraction.html">
       Part A: Abstraction
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../4/sections/partB_more_abstraction.html">
       Part B: More abstraction problems
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../4/sections/partC_algebra.html">
       Part C: Miniproject: Algebraic expressions
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../midterm/index.html">
     Midterm exam
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
    <label for="toctree-checkbox-7">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../midterm/sections/Preamble.html">
       Preamble
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../midterm/sections/ocaml_notes.html">
       OCaml notes
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../midterm/sections/partA_complexity.html">
       Part A: Asymptotic time complexity
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../midterm/sections/partB_lists_hofs.html">
       Part B: Recursion and higher-order functions
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../midterm/sections/partC_data_structures.html">
       Part C: Data structures: AA trees
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../5/index.html">
     Assignment 5: Tags and objects
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
    <label for="toctree-checkbox-8">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../5/sections/Preamble.html">
       Preamble
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../5/sections/ocaml_notes.html">
       OCaml notes
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../5/sections/partA_mutation.html">
       Part A: Mutation and imperative programming
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../5/sections/partB_tagged_data.html">
       Part B: Tagged Data
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../5/sections/partC_objects.html">
       Part C: Objects
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../6/index.html">
     Assignment 6: Environmentally-friendly
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
    <label for="toctree-checkbox-9">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../6/sections/Preamble.html">
       Details
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../6/sections/ocaml_notes.html">
       OCaml notes
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../6/sections/partA_environment_model.html">
       Part A: The environment model
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../6/sections/partB_imperative_objects.html">
       Part B: Imperative objects
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../6/sections/partC_modules_functors.html">
       Part C: Modules and functors
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../6/sections/partD_special_topics.html">
       Part D: Special topics
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../7/index.html">
     Assignment 7: Final exam preparation
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
    <label for="toctree-checkbox-10">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../7/sections/Preamble.html">
       Details
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../7/sections/ocaml_notes.html">
       OCaml notes
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../7/sections/miniproject_klotski.html">
       Miniproject: The “Klotski” sliding-block puzzle game
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../../readings/index.html">
   Readings
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
  <label for="toctree-checkbox-11">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../readings/ocaml_cheat_sheet.html">
     OCaml syntax cheat sheet
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../readings/subst.html">
     The substitution model
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#sicp-problem-2-17">
   1. SICP, problem 2.17
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#sicp-problem-2-18">
   2. SICP, problem 2.18
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#sicp-problem-2-21">
   3. SICP, problem 2.21
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#sicp-problem-2-22">
   4. SICP, problem 2.22
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#count-negative-numbers">
   5.
   <code class="docutils literal notranslate">
    <span class="pre">
     count_negative_numbers
    </span>
   </code>
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#power-of-two-list">
   6.
   <code class="docutils literal notranslate">
    <span class="pre">
     power_of_two_list
    </span>
   </code>
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#prefix-sum">
   7.
   <code class="docutils literal notranslate">
    <span class="pre">
     prefix_sum
    </span>
   </code>
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#sicp-problem-2-27">
   8. SICP, problem 2.27
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#s-expressions">
   9. S-expressions
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Part A: Working with lists</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#sicp-problem-2-17">
   1. SICP, problem 2.17
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#sicp-problem-2-18">
   2. SICP, problem 2.18
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#sicp-problem-2-21">
   3. SICP, problem 2.21
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#sicp-problem-2-22">
   4. SICP, problem 2.22
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#count-negative-numbers">
   5.
   <code class="docutils literal notranslate">
    <span class="pre">
     count_negative_numbers
    </span>
   </code>
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#power-of-two-list">
   6.
   <code class="docutils literal notranslate">
    <span class="pre">
     power_of_two_list
    </span>
   </code>
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#prefix-sum">
   7.
   <code class="docutils literal notranslate">
    <span class="pre">
     prefix_sum
    </span>
   </code>
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#sicp-problem-2-27">
   8. SICP, problem 2.27
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#s-expressions">
   9. S-expressions
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section id="part-a-working-with-lists">
<h1>Part A: Working with lists<a class="headerlink" href="#part-a-working-with-lists" title="Permalink to this headline">#</a></h1>
<section id="sicp-problem-2-17">
<h2>1. <a class="reference external" href="https://mitp-content-server.mit.edu/books/content/sectbyfn/books_pres_0/6515/sicp.zip/full-text/book/book-Z-H-15.html#%_thm_2.17">SICP, problem 2.17</a><a class="headerlink" href="#sicp-problem-2-17" title="Permalink to this headline">#</a></h2>
<p>[<strong>1</strong>] (10 minutes)</p>
<p>Define a function <code class="docutils literal notranslate"><span class="pre">last_sublist</span></code> that returns the list that contains
only the last element of a given (nonempty) list:</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="o">#</span> <span class="n">last_sublist</span> <span class="o">[</span><span class="mi">23</span><span class="o">;</span> <span class="mi">72</span><span class="o">;</span> <span class="mi">149</span><span class="o">;</span> <span class="mi">34</span><span class="o">]</span> <span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="kt">list</span> <span class="o">=</span> <span class="o">[</span><span class="mi">34</span><span class="o">]</span>
</pre></div>
</div>
<p>Your function should signal an error if the list is empty. Use
<code class="docutils literal notranslate"><span class="pre">invalid_arg</span></code> to generate the error; the error message should be
<code class="docutils literal notranslate"><span class="pre">&quot;last_sublist:</span> <span class="pre">empty</span> <span class="pre">list&quot;</span></code> (that <em>exact</em> message; we’ll check it!).</p>
<p>You should write this function using pattern matching and the
<code class="docutils literal notranslate"><span class="pre">function</span></code> keyword, since there is only one argument and the function
pattern matches on it. The resulting function should generate a linear
iterative process when run (in other words, the function should be tail
recursive.) Also, this function should work on arbitrary lists (the
element type shouldn’t matter).</p>
</section>
<section id="sicp-problem-2-18">
<h2>2. <a class="reference external" href="https://mitp-content-server.mit.edu/books/content/sectbyfn/books_pres_0/6515/sicp.zip/full-text/book/book-Z-H-15.html#%_thm_2.18">SICP, problem 2.18</a><a class="headerlink" href="#sicp-problem-2-18" title="Permalink to this headline">#</a></h2>
<p>[<strong>1</strong>] (10 minutes)</p>
<p>Define a function <code class="docutils literal notranslate"><span class="pre">reverse</span></code> that takes a list as argument and returns
a list of the same elements in reverse order:</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="o">#</span> <span class="n">reverse</span> <span class="o">[</span><span class="mi">1</span><span class="o">;</span> <span class="mi">4</span><span class="o">;</span> <span class="mi">9</span><span class="o">;</span> <span class="mi">16</span><span class="o">;</span> <span class="mi">25</span><span class="o">]</span> <span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="kt">list</span> <span class="o">=</span> <span class="o">[</span><span class="mi">25</span><span class="o">;</span> <span class="mi">16</span><span class="o">;</span> <span class="mi">9</span><span class="o">;</span> <span class="mi">4</span><span class="o">;</span> <span class="mi">1</span><span class="o">]</span>
<span class="o">#</span> <span class="n">reverse</span> <span class="bp">[]</span> <span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="k">&#39;</span><span class="n">a</span> <span class="kt">list</span> <span class="o">=</span> <span class="bp">[]</span>
<span class="o">#</span> <span class="n">reverse</span> <span class="o">[[</span><span class="mi">1</span><span class="o">;</span> <span class="mi">4</span><span class="o">];</span> <span class="o">[</span><span class="mi">9</span><span class="o">];</span> <span class="o">[</span><span class="mi">16</span><span class="o">;</span> <span class="mi">25</span><span class="o">]]</span> <span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="kt">list</span> <span class="kt">list</span> <span class="o">=</span> <span class="o">[[</span><span class="mi">16</span><span class="o">;</span> <span class="mi">25</span><span class="o">];</span> <span class="o">[</span><span class="mi">9</span><span class="o">];</span> <span class="o">[</span><span class="mi">1</span><span class="o">;</span> <span class="mi">4</span><span class="o">]]</span>
</pre></div>
</div>
<p>Note the type of the last example; it is a <code class="docutils literal notranslate"><span class="pre">list</span></code> of <code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">list</span></code>s!
Read <code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">list</span> <span class="pre">list</span></code> as <code class="docutils literal notranslate"><span class="pre">(int</span> <span class="pre">list)</span> <span class="pre">list</span></code>.</p>
<p>Your <code class="docutils literal notranslate"><span class="pre">reverse</span></code> function should have a linear time complexity, be tail
recursive (<em>i.e.</em> iterative), and should (naturally) work on lists of any
element types. It should <em>not</em> use the list append (<code class="docutils literal notranslate"><span class="pre">&#64;</span></code>) operator.</p>
<p>There is a library function called <code class="docutils literal notranslate"><span class="pre">List.rev</span></code> which reverses lists.
Obviously, you shouldn’t use it in your answer to this problem.</p>
</section>
<section id="sicp-problem-2-21">
<h2>3. <a class="reference external" href="https://mitp-content-server.mit.edu/books/content/sectbyfn/books_pres_0/6515/sicp.zip/full-text/book/book-Z-H-15.html#%_thm_2.21">SICP, problem 2.21</a><a class="headerlink" href="#sicp-problem-2-21" title="Permalink to this headline">#</a></h2>
<p>[<strong>1</strong>] (10 minutes)</p>
<p>The function <code class="docutils literal notranslate"><span class="pre">square_list</span></code> takes a list of integers as argument and
returns a list of the squares of those numbers.</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="o">#</span> <span class="n">square_list</span> <span class="o">[</span><span class="mi">1</span><span class="o">;</span> <span class="mi">2</span><span class="o">;</span> <span class="mi">3</span><span class="o">;</span> <span class="mi">4</span><span class="o">]</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="kt">list</span> <span class="o">=</span> <span class="o">[</span><span class="mi">1</span><span class="o">;</span> <span class="mi">4</span><span class="o">;</span> <span class="mi">9</span><span class="o">;</span> <span class="mi">16</span><span class="o">]</span>
</pre></div>
</div>
<p>Here are two different definitions of <code class="docutils literal notranslate"><span class="pre">square_list</span></code>. Complete both of
them by filling in the missing expressions:</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="k">rec</span> <span class="n">square_list</span> <span class="o">=</span> <span class="k">function</span>
  <span class="o">|</span> <span class="bp">[]</span> <span class="o">-&gt;</span> <span class="bp">[]</span>
  <span class="o">|</span> <span class="n">h</span> <span class="o">::</span> <span class="n">t</span> <span class="o">-&gt;</span> <span class="o">&lt;??&gt;</span>

<span class="k">let</span> <span class="n">square_list2</span> <span class="n">items</span> <span class="o">=</span> <span class="nn">List</span><span class="p">.</span><span class="n">map</span> <span class="o">&lt;??&gt;</span> <span class="o">&lt;??&gt;</span>
</pre></div>
</div>
<p>Use the <a class="reference external" href="https://v2.ocaml.org/api/List.html">List library documentation</a>
to find the description of <code class="docutils literal notranslate"><span class="pre">List.map</span></code>.</p>
</section>
<section id="sicp-problem-2-22">
<h2>4. <a class="reference external" href="https://mitp-content-server.mit.edu/books/content/sectbyfn/books_pres_0/6515/sicp.zip/full-text/book/book-Z-H-15.html#%_thm_2.22">SICP, problem 2.22</a><a class="headerlink" href="#sicp-problem-2-22" title="Permalink to this headline">#</a></h2>
<p>[<strong>1</strong>] (20 minutes)</p>
<p>Louis Reasoner tries to rewrite the first <code class="docutils literal notranslate"><span class="pre">square_list</span></code> function from
the previous problem so that it evolves an iterative process:</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="n">square_list</span> <span class="n">items</span> <span class="o">=</span>
  <span class="k">let</span> <span class="k">rec</span> <span class="n">iter</span> <span class="n">things</span> <span class="n">answer</span> <span class="o">=</span>
    <span class="k">match</span> <span class="n">things</span> <span class="k">with</span>
      <span class="o">|</span> <span class="bp">[]</span> <span class="o">-&gt;</span> <span class="n">answer</span>
      <span class="o">|</span> <span class="n">h</span> <span class="o">::</span> <span class="n">t</span> <span class="o">-&gt;</span> <span class="n">iter</span> <span class="n">t</span> <span class="o">((</span><span class="n">h</span> <span class="o">*</span> <span class="n">h</span><span class="o">)</span> <span class="o">::</span> <span class="n">answer</span><span class="o">)</span>
  <span class="k">in</span> <span class="n">iter</span> <span class="n">items</span> <span class="bp">[]</span>
</pre></div>
</div>
<p>Unfortunately, defining <code class="docutils literal notranslate"><span class="pre">square_list</span></code> this way produces the answer
list in the reverse order of the one desired. Why? Write your answer in
a comment.</p>
<p>Louis then tries to fix his bug by interchanging the arguments to the
<code class="docutils literal notranslate"><span class="pre">::</span></code> constructor:</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="n">square_list</span> <span class="n">items</span> <span class="o">=</span>
  <span class="k">let</span> <span class="k">rec</span> <span class="n">iter</span> <span class="n">things</span> <span class="n">answer</span> <span class="o">=</span>
    <span class="k">match</span> <span class="n">things</span> <span class="k">with</span>
      <span class="o">|</span> <span class="bp">[]</span> <span class="o">-&gt;</span> <span class="n">answer</span>
      <span class="o">|</span> <span class="n">h</span> <span class="o">::</span> <span class="n">t</span> <span class="o">-&gt;</span> <span class="n">iter</span> <span class="n">t</span> <span class="o">(</span><span class="n">answer</span> <span class="o">::</span> <span class="o">(</span><span class="n">h</span> <span class="o">*</span> <span class="n">h</span><span class="o">))</span>
  <span class="k">in</span> <span class="n">iter</span> <span class="n">items</span> <span class="bp">[]</span>
</pre></div>
</div>
<p>This doesn’t work either. Explain why in a comment.</p>
<p>Can you modify Louis’ second solution slightly to make it work properly?
(By “slightly”, we mean changing the <code class="docutils literal notranslate"><span class="pre">::</span></code> constructor to a different
list operator and making one more small modification on the same line?)
If so, would the resulting function be efficient? Why or why not?</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We’re interested in time efficiency here, not space efficiency.</p>
</div>
</section>
<section id="count-negative-numbers">
<h2>5. <code class="docutils literal notranslate"><span class="pre">count_negative_numbers</span></code><a class="headerlink" href="#count-negative-numbers" title="Permalink to this headline">#</a></h2>
<p>[<strong>1</strong>] (15 minutes)</p>
<p>Write a function called <code class="docutils literal notranslate"><span class="pre">count_negative_numbers</span></code> that counts the
negative integers in a list and returns the count.</p>
</section>
<section id="power-of-two-list">
<h2>6. <code class="docutils literal notranslate"><span class="pre">power_of_two_list</span></code><a class="headerlink" href="#power-of-two-list" title="Permalink to this headline">#</a></h2>
<p>[<strong>1</strong>] (10 minutes)</p>
<p>Write a function called <code class="docutils literal notranslate"><span class="pre">power_of_two_list</span></code> that takes in an integer,
<code class="docutils literal notranslate"><span class="pre">n</span></code>, and creates a list containing the first <code class="docutils literal notranslate"><span class="pre">n</span></code> powers of 2
starting with <span class="math notranslate nohighlight">\(2^0\)</span> and up to <span class="math notranslate nohighlight">\(2^{n-1}\)</span>.</p>
<p>You can write a <code class="docutils literal notranslate"><span class="pre">pow</span></code> helper function
inside this function if you like
(though you’re not required to; there are other ways to do it).
The <code class="docutils literal notranslate"><span class="pre">pow</span></code> function (if you write it) takes two non-negative
integers and returns the first raised to the power of the second.
(For the pedantic: you can assume that <span class="math notranslate nohighlight">\(0^0 = 1\)</span>).
Don’t use the <code class="docutils literal notranslate"><span class="pre">**</span></code> operator (which is a floating-point operator anyway)
in your definition of <code class="docutils literal notranslate"><span class="pre">pow</span></code>.</p>
<div class="admonition-examples admonition">
<p class="admonition-title">Examples</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="o">#</span> <span class="n">power_of_two_list</span> <span class="mi">0</span> <span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="kt">list</span> <span class="o">=</span> <span class="bp">[]</span>
<span class="o">#</span> <span class="n">power_of_two_list</span> <span class="mi">1</span> <span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="kt">list</span> <span class="o">=</span> <span class="o">[</span><span class="mi">1</span><span class="o">]</span>
<span class="o">#</span> <span class="n">power_of_two_list</span> <span class="mi">2</span> <span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="kt">list</span> <span class="o">=</span> <span class="o">[</span><span class="mi">1</span><span class="o">;</span> <span class="mi">2</span><span class="o">]</span>
<span class="o">#</span> <span class="n">power_of_two_list</span> <span class="mi">4</span> <span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="kt">list</span> <span class="o">=</span> <span class="o">[</span><span class="mi">1</span><span class="o">;</span> <span class="mi">2</span><span class="o">;</span> <span class="mi">4</span><span class="o">;</span> <span class="mi">8</span><span class="o">]</span>
<span class="o">#</span> <span class="n">power_of_two_list</span> <span class="mi">8</span> <span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="kt">list</span> <span class="o">=</span> <span class="o">[</span><span class="mi">1</span><span class="o">;</span> <span class="mi">2</span><span class="o">;</span> <span class="mi">4</span><span class="o">;</span> <span class="mi">8</span><span class="o">;</span> <span class="mi">16</span><span class="o">;</span> <span class="mi">32</span><span class="o">;</span> <span class="mi">64</span><span class="o">;</span> <span class="mi">128</span><span class="o">]</span>
</pre></div>
</div>
</div>
</section>
<section id="prefix-sum">
<h2>7. <code class="docutils literal notranslate"><span class="pre">prefix_sum</span></code><a class="headerlink" href="#prefix-sum" title="Permalink to this headline">#</a></h2>
<p>[<strong>1</strong>] (25 minutes)</p>
<p>Write a function called <code class="docutils literal notranslate"><span class="pre">prefix_sum</span></code> that takes in a list of numbers,
and returns a list containing the prefix sum of the original list.
<em>e.g.</em> <code class="docutils literal notranslate"><span class="pre">prefix-sum</span> <span class="pre">[1;</span> <span class="pre">3;</span> <span class="pre">5;</span> <span class="pre">2]</span> <span class="pre">==&gt;</span> <span class="pre">[1;</span> <span class="pre">4;</span> <span class="pre">9;</span> <span class="pre">11]</span></code>. The prefix sum is
the sum of all of the elements in the list up to that point, so for the
list <code class="docutils literal notranslate"><span class="pre">[1;</span> <span class="pre">3;</span> <span class="pre">5;</span> <span class="pre">2]</span></code> the prefix sum is <code class="docutils literal notranslate"><span class="pre">[1;</span> <span class="pre">1+3;</span> <span class="pre">1+3+5;</span> <span class="pre">1+3+5+2]</span></code> or
<code class="docutils literal notranslate"><span class="pre">[1;</span> <span class="pre">4;</span> <span class="pre">9;</span> <span class="pre">11]</span></code>.</p>
<div class="admonition-examples admonition">
<p class="admonition-title">Examples</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="o">#</span> <span class="n">prefix_sum</span> <span class="bp">[]</span> <span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="kt">list</span> <span class="o">=</span> <span class="bp">[]</span>
<span class="o">#</span> <span class="n">prefix_sum</span> <span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="kt">list</span> <span class="o">=</span> <span class="o">[</span><span class="mi">1</span><span class="o">]</span>
<span class="o">#</span> <span class="n">prefix_sum</span> <span class="o">[</span><span class="mi">1</span><span class="o">;</span> <span class="mi">2</span><span class="o">;</span> <span class="mi">3</span><span class="o">;</span> <span class="mi">4</span><span class="o">;</span> <span class="mi">5</span><span class="o">]</span> <span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="kt">list</span> <span class="o">=</span> <span class="o">[</span><span class="mi">1</span><span class="o">;</span> <span class="mi">3</span><span class="o">;</span> <span class="mi">6</span><span class="o">;</span> <span class="mi">10</span><span class="o">;</span> <span class="mi">15</span><span class="o">]</span>
<span class="o">#</span> <span class="n">prefix_sum</span> <span class="o">[-</span><span class="mi">1</span><span class="o">;</span> <span class="mi">1</span><span class="o">;</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span> <span class="mi">1</span><span class="o">;</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span> <span class="mi">1</span><span class="o">]</span> <span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="kt">list</span> <span class="o">=</span> <span class="o">[-</span><span class="mi">1</span><span class="o">;</span> <span class="mi">0</span><span class="o">;</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span> <span class="mi">0</span><span class="o">;</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span> <span class="mi">0</span><span class="o">]</span>
</pre></div>
</div>
</div>
</section>
<section id="sicp-problem-2-27">
<h2>8. <a class="reference external" href="https://mitp-content-server.mit.edu/books/content/sectbyfn/books_pres_0/6515/sicp.zip/full-text/book/book-Z-H-15.html#%_thm_2.27">SICP, problem 2.27</a><a class="headerlink" href="#sicp-problem-2-27" title="Permalink to this headline">#</a></h2>
<p>[<strong>1</strong>] (15 minutes)</p>
<p>Modify the <code class="docutils literal notranslate"><span class="pre">reverse</span></code> function you defined previously in this
assignment to produce a <code class="docutils literal notranslate"><span class="pre">deep_reverse</span></code> function that takes a list of
lists (of arbitrary type) as argument and returns as its value the same
list with its elements reversed and with its immediate sublists reversed
as well.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You are allowed to use the <code class="docutils literal notranslate"><span class="pre">reverse</span></code> function you defined above in
your <code class="docutils literal notranslate"><span class="pre">deep_reverse</span></code> function.</p>
</div>
<div class="admonition-examples admonition">
<p class="admonition-title">Examples</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="o">#</span> <span class="k">let</span> <span class="n">lst</span> <span class="o">=</span> <span class="o">[[</span><span class="mi">1</span><span class="o">;</span> <span class="mi">2</span><span class="o">];</span> <span class="o">[</span><span class="mi">3</span><span class="o">;</span> <span class="mi">4</span><span class="o">]]</span> <span class="o">;;</span>
<span class="k">val</span> <span class="n">lst</span> <span class="o">:</span> <span class="kt">int</span> <span class="kt">list</span> <span class="kt">list</span> <span class="o">=</span> <span class="o">[[</span><span class="mi">1</span><span class="o">;</span> <span class="mi">2</span><span class="o">];</span> <span class="o">[</span><span class="mi">3</span><span class="o">;</span> <span class="mi">4</span><span class="o">]]</span>
<span class="o">#</span> <span class="n">reverse</span> <span class="n">lst</span> <span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="kt">list</span> <span class="kt">list</span> <span class="o">=</span> <span class="o">[[</span><span class="mi">3</span><span class="o">;</span> <span class="mi">4</span><span class="o">];</span> <span class="o">[</span><span class="mi">1</span><span class="o">;</span> <span class="mi">2</span><span class="o">]]</span>
<span class="o">#</span> <span class="n">deep_reverse</span> <span class="n">lst</span> <span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="kt">list</span> <span class="kt">list</span> <span class="o">=</span> <span class="o">[[</span><span class="mi">4</span><span class="o">;</span> <span class="mi">3</span><span class="o">];</span> <span class="o">[</span><span class="mi">2</span><span class="o">;</span> <span class="mi">1</span><span class="o">]]</span>
<span class="o">#</span> <span class="k">let</span> <span class="n">lst2</span> <span class="o">=</span> <span class="o">[[[</span><span class="mi">1</span><span class="o">;</span> <span class="mi">2</span><span class="o">];</span> <span class="o">[</span><span class="mi">3</span><span class="o">;</span> <span class="mi">4</span><span class="o">]];</span> <span class="o">[[</span><span class="mi">5</span><span class="o">;</span> <span class="mi">6</span><span class="o">];</span> <span class="o">[</span><span class="mi">7</span><span class="o">;</span> <span class="mi">8</span><span class="o">]]]</span> <span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="kt">list</span> <span class="kt">list</span> <span class="kt">list</span> <span class="o">=</span> <span class="o">[[[</span><span class="mi">1</span><span class="o">;</span> <span class="mi">2</span><span class="o">];</span> <span class="o">[</span><span class="mi">3</span><span class="o">;</span> <span class="mi">4</span><span class="o">]];</span> <span class="o">[[</span><span class="mi">5</span><span class="o">;</span> <span class="mi">6</span><span class="o">];</span> <span class="o">[</span><span class="mi">7</span><span class="o">;</span> <span class="mi">8</span><span class="o">]]]</span>
<span class="o">#</span> <span class="n">deep_reverse</span> <span class="n">lst2</span> <span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="kt">list</span> <span class="kt">list</span> <span class="kt">list</span> <span class="o">=</span> <span class="o">[[[</span><span class="mi">7</span><span class="o">;</span> <span class="mi">8</span><span class="o">];</span> <span class="o">[</span><span class="mi">5</span><span class="o">;</span> <span class="mi">6</span><span class="o">]];</span> <span class="o">[[</span><span class="mi">3</span><span class="o">;</span> <span class="mi">4</span><span class="o">];</span> <span class="o">[</span><span class="mi">1</span><span class="o">;</span> <span class="mi">2</span><span class="o">]]]</span>
</pre></div>
</div>
</div>
</section>
<section id="s-expressions">
<h2>9. S-expressions<a class="headerlink" href="#s-expressions" title="Permalink to this headline">#</a></h2>
<p>[<strong>2</strong>] (30 minutes)</p>
<p>Sometimes people learning OCaml from a background of dynamically typed
languages miss having lists which can store arbitrary values. In
particular, it would be nice to have a list that can store either values
of a particular type <code class="docutils literal notranslate"><span class="pre">'a</span></code> or a list of such values, or a list of lists
of such values, and so on, with any combination of values and lists.
This is easily modeled in OCaml by defining a new datatype:</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="k">type</span> <span class="k">&#39;</span><span class="n">a</span> <span class="n">nested_list</span> <span class="o">=</span>
  <span class="o">|</span> <span class="nc">Value</span> <span class="k">of</span> <span class="k">&#39;</span><span class="n">a</span>
  <span class="o">|</span> <span class="nc">List</span> <span class="k">of</span> <span class="k">&#39;</span><span class="n">a</span> <span class="n">nested_list</span> <span class="kt">list</span>
</pre></div>
</div>
<p>Now you can have a list-like data structure that can mix together values
and lists with arbitrary nesting. (This datatype is actually isomorphic
to a datatype called <em>S-expressions</em> which are used as the basis of the
syntax of Scheme and related languages.) For instance:</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="o">#</span> <span class="nc">Value</span> <span class="mi">10</span> <span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="n">nested_list</span> <span class="o">=</span> <span class="nc">Value</span> <span class="mi">10</span>
<span class="o">#</span> <span class="nc">List</span> <span class="o">[</span><span class="nc">Value</span> <span class="mi">10</span><span class="o">]</span> <span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="n">nested_list</span> <span class="o">=</span> <span class="nc">List</span> <span class="o">[</span><span class="nc">Value</span> <span class="mi">10</span><span class="o">]</span>
<span class="o">#</span> <span class="nc">List</span> <span class="o">[</span><span class="nc">Value</span> <span class="mi">10</span><span class="o">;</span> <span class="nc">Value</span> <span class="mi">20</span><span class="o">;</span> <span class="nc">Value</span> <span class="mi">30</span><span class="o">]</span> <span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="n">nested_list</span> <span class="o">=</span> <span class="nc">List</span> <span class="o">[</span><span class="nc">Value</span> <span class="mi">10</span><span class="o">;</span> <span class="nc">Value</span> <span class="mi">20</span><span class="o">;</span> <span class="nc">Value</span> <span class="mi">30</span><span class="o">]</span>
<span class="o">#</span> <span class="nc">List</span> <span class="o">[</span><span class="nc">Value</span> <span class="mi">10</span><span class="o">;</span> <span class="nc">List</span> <span class="o">[</span><span class="nc">Value</span> <span class="mi">20</span><span class="o">;</span> <span class="nc">List</span> <span class="o">[</span><span class="nc">Value</span> <span class="mi">30</span><span class="o">;</span> <span class="nc">Value</span> <span class="mi">40</span><span class="o">];</span> <span class="nc">Value</span> <span class="mi">50</span><span class="o">];</span> <span class="nc">Value</span> <span class="mi">60</span><span class="o">]</span> <span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="n">nested_list</span> <span class="o">=</span>
<span class="nc">List</span>
 <span class="o">[</span><span class="nc">Value</span> <span class="mi">10</span><span class="o">;</span> <span class="nc">List</span> <span class="o">[</span><span class="nc">Value</span> <span class="mi">20</span><span class="o">;</span> <span class="nc">List</span> <span class="o">[</span><span class="nc">Value</span> <span class="mi">30</span><span class="o">;</span> <span class="nc">Value</span> <span class="mi">40</span><span class="o">];</span> <span class="nc">Value</span> <span class="mi">50</span><span class="o">];</span> <span class="nc">Value</span> <span class="mi">60</span><span class="o">]</span>
<span class="o">#</span> <span class="nc">List</span> <span class="o">[</span><span class="nc">List</span> <span class="o">[</span><span class="nc">Value</span> <span class="mi">1</span><span class="o">;</span> <span class="nc">Value</span> <span class="mi">2</span><span class="o">];</span> <span class="nc">List</span> <span class="o">[</span><span class="nc">Value</span> <span class="mi">3</span><span class="o">;</span> <span class="nc">Value</span> <span class="mi">4</span><span class="o">]]</span> <span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="n">nested_list</span> <span class="o">=</span> <span class="nc">List</span> <span class="o">[</span><span class="nc">List</span> <span class="o">[</span><span class="nc">Value</span> <span class="mi">1</span><span class="o">;</span> <span class="nc">Value</span> <span class="mi">2</span><span class="o">];</span> <span class="nc">List</span> <span class="o">[</span><span class="nc">Value</span> <span class="mi">3</span><span class="o">;</span> <span class="nc">Value</span> <span class="mi">4</span><span class="o">]]</span>
</pre></div>
</div>
<p>Define a version of the <code class="docutils literal notranslate"><span class="pre">deep_reverse</span></code> function from the previous
problem that works on <code class="docutils literal notranslate"><span class="pre">nested_list</span></code>s. Call it
<code class="docutils literal notranslate"><span class="pre">deep_reverse_nested</span></code>. Don’t use the <code class="docutils literal notranslate"><span class="pre">reverse</span></code> or <code class="docutils literal notranslate"><span class="pre">deep_reverse</span></code>
functions in your definition. Note that <code class="docutils literal notranslate"><span class="pre">Value</span></code>s don’t get reversed,
because there is in general no way to reverse them; only the <code class="docutils literal notranslate"><span class="pre">List</span></code>
constructor contents get reversed.
<code class="docutils literal notranslate"><span class="pre">deep_reverse_nested</span></code> should reverse lists all the way down,
no matter how deeply nested the lists are.</p>
<div class="admonition-examples admonition">
<p class="admonition-title">Examples</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="o">#</span> <span class="n">deep_reverse_nested</span> <span class="o">(</span><span class="nc">Value</span> <span class="mi">10</span><span class="o">)</span> <span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="n">nested_list</span> <span class="o">=</span> <span class="nc">Value</span> <span class="mi">10</span>
<span class="o">#</span> <span class="n">deep_reverse_nested</span> <span class="o">(</span><span class="nc">List</span> <span class="o">[</span><span class="nc">Value</span> <span class="mi">10</span><span class="o">;</span> <span class="nc">Value</span> <span class="mi">20</span><span class="o">;</span> <span class="nc">Value</span> <span class="mi">30</span><span class="o">;</span> <span class="nc">Value</span> <span class="mi">40</span><span class="o">])</span> <span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="n">nested_list</span> <span class="o">=</span> <span class="nc">List</span> <span class="o">[</span><span class="nc">Value</span> <span class="mi">40</span><span class="o">;</span> <span class="nc">Value</span> <span class="mi">30</span><span class="o">;</span> <span class="nc">Value</span> <span class="mi">20</span><span class="o">;</span> <span class="nc">Value</span> <span class="mi">10</span><span class="o">]</span>
<span class="o">#</span> <span class="n">deep_reverse_nested</span> <span class="o">(</span><span class="nc">List</span> <span class="o">[</span><span class="nc">List</span> <span class="o">[</span><span class="nc">Value</span> <span class="mi">10</span><span class="o">;</span> <span class="nc">Value</span> <span class="mi">20</span><span class="o">];</span> <span class="nc">List</span> <span class="o">[</span><span class="nc">Value</span> <span class="mi">30</span><span class="o">;</span> <span class="nc">Value</span> <span class="mi">40</span><span class="o">]])</span> <span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="n">nested_list</span> <span class="o">=</span>
<span class="nc">List</span> <span class="o">[</span><span class="nc">List</span> <span class="o">[</span><span class="nc">Value</span> <span class="mi">40</span><span class="o">;</span> <span class="nc">Value</span> <span class="mi">30</span><span class="o">];</span> <span class="nc">List</span> <span class="o">[</span><span class="nc">Value</span> <span class="mi">20</span><span class="o">;</span> <span class="nc">Value</span> <span class="mi">10</span><span class="o">]]</span>
<span class="o">#</span> <span class="n">deep_reverse_nested</span> <span class="o">(</span><span class="nc">List</span> <span class="o">[</span><span class="nc">Value</span> <span class="mi">10</span><span class="o">;</span> <span class="nc">List</span> <span class="o">[</span><span class="nc">Value</span> <span class="mi">20</span><span class="o">;</span> <span class="nc">Value</span> <span class="mi">30</span><span class="o">]])</span> <span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="n">nested_list</span> <span class="o">=</span> <span class="nc">List</span> <span class="o">[</span><span class="nc">List</span> <span class="o">[</span><span class="nc">Value</span> <span class="mi">30</span><span class="o">;</span> <span class="nc">Value</span> <span class="mi">20</span><span class="o">];</span> <span class="nc">Value</span> <span class="mi">10</span><span class="o">]</span>
<span class="o">#</span> <span class="n">deep_reverse_nested</span> <span class="o">(</span><span class="nc">List</span> <span class="o">[</span><span class="nc">List</span> <span class="o">[</span><span class="nc">Value</span> <span class="mi">10</span><span class="o">;</span> <span class="nc">Value</span> <span class="mi">20</span><span class="o">];</span> <span class="nc">Value</span> <span class="mi">30</span><span class="o">])</span> <span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="n">nested_list</span> <span class="o">=</span> <span class="nc">List</span> <span class="o">[</span><span class="nc">Value</span> <span class="mi">30</span><span class="o">;</span> <span class="nc">List</span> <span class="o">[</span><span class="nc">Value</span> <span class="mi">20</span><span class="o">;</span> <span class="nc">Value</span> <span class="mi">10</span><span class="o">]]</span>
<span class="o">#</span> <span class="n">deep_reverse_nested</span> <span class="o">(</span><span class="nc">List</span> <span class="o">[</span><span class="nc">Value</span> <span class="mi">10</span><span class="o">;</span> <span class="nc">List</span> <span class="o">[</span><span class="nc">Value</span> <span class="mi">20</span><span class="o">;</span> <span class="nc">List</span> <span class="o">[</span><span class="nc">Value</span> <span class="mi">30</span><span class="o">;</span> <span class="nc">Value</span> <span class="mi">40</span><span class="o">];</span> <span class="nc">Value</span> <span class="mi">50</span><span class="o">];</span> <span class="nc">Value</span> <span class="mi">60</span><span class="o">])</span> <span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="n">nested_list</span> <span class="o">=</span>
<span class="nc">List</span>
 <span class="o">[</span><span class="nc">Value</span> <span class="mi">60</span><span class="o">;</span> <span class="nc">List</span> <span class="o">[</span><span class="nc">Value</span> <span class="mi">50</span><span class="o">;</span> <span class="nc">List</span> <span class="o">[</span><span class="nc">Value</span> <span class="mi">40</span><span class="o">;</span> <span class="nc">Value</span> <span class="mi">30</span><span class="o">];</span> <span class="nc">Value</span> <span class="mi">20</span><span class="o">];</span> <span class="nc">Value</span> <span class="mi">10</span><span class="o">]</span>
</pre></div>
</div>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Check for the <code class="docutils literal notranslate"><span class="pre">Value</span></code> case first,
because if the input is just a <code class="docutils literal notranslate"><span class="pre">Value</span></code>, it doesn’t need to be reversed.
Otherwise, extract the (OCaml) list from the <code class="docutils literal notranslate"><span class="pre">List</span></code> constructor
and pass it to a recursive helper function which will assemble the result.</p>
</div>
</section>
</section>


              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="ocaml_notes.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">OCaml notes</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="partB_structural_generative_recursion.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Part B: Structural and generative recursion</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Michael Vanier<br/>
  
      &copy; Copyright 2023, Michael C. Vanier. All rights reserved.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>

  </body>
</html>