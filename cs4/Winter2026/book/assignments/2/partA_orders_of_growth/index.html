
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://mvanier.github.io/cs4/Winter2026/book/assignments/2/partA_orders_of_growth/">
      
      
        <link rel="prev" href="../ocaml_notes/">
      
      
        <link rel="next" href="../partB_evaluation/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Part A: Orders of growth - The CS 4 book (Winter 2026)</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../css/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#part-a-orders-of-growth-40-points" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="The CS 4 book (Winter 2026)" class="md-header__button md-logo" aria-label="The CS 4 book (Winter 2026)" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            The CS 4 book (Winter 2026)
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Part A: Orders of growth
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to medium mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to medium mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="medium" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18V6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-2.69L23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="The CS 4 book (Winter 2026)" class="md-nav__button md-logo" aria-label="The CS 4 book (Winter 2026)" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    The CS 4 book (Winter 2026)
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Introduction
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Introduction
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../intro/welcome/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Welcome to CS 4!
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../intro/motivation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Motivation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Administrative
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Administrative
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../admin/syllabus/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Syllabus
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../admin/collab/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Collaboration policies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Assignments
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Assignments
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../0/assignment0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Assignment 0: Setup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Assignment 1: Evaluation and recursion
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Assignment 1: Evaluation and recursion
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1/assignment1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1/ocaml_notes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    OCaml notes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1/partA_exercises/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Part A: Exercises
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1/partB_evaluation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Part B: Evaluation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1/partC_recursion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Part C: Recursion
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" checked>
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Assignment 2: Complexity and HOFs
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Assignment 2: Complexity and HOFs
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../assignment2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ocaml_notes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    OCaml notes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Part A: Orders of growth
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Part A: Orders of growth
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-in-class-exercise-is_power_of_two" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. In-class exercise: is_power_of_two
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-fibonacci-again" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Fibonacci again
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-sine-sicp-exercise-115" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. sine (SICP exercise 1.15)
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-fast_expt-and-ifast_expt-sicp-exercise-116" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. fast_expt and ifast_expt (SICP exercise 1.16)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. fast_expt and ifast_expt (SICP exercise 1.16)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-fast_expt" class="md-nav__link">
    <span class="md-ellipsis">
      
        a. fast_expt
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#b-ifast_expt" class="md-nav__link">
    <span class="md-ellipsis">
      
        b. ifast_expt
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-fast_mult-sicp-exercise-117" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. fast_mult (SICP exercise 1.17)
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-ifast_mult-sicp-exercise-118" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. ifast_mult (SICP exercise 1.18)
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-a-mysterious-function" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. A mysterious function
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-fibonacci-yet-again" class="md-nav__link">
    <span class="md-ellipsis">
      
        8. Fibonacci yet again
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../partB_evaluation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Part B: Evaluation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../partC_higher_order_functions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Part C: Higher-order functions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../partD_additional_problems/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Part D: Additional problems
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Assignment 3: Lists
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Assignment 3: Lists
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../3/assignment3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../3/ocaml_notes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    OCaml notes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../3/partA_lists/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Part A: Working with lists
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../3/partB_structural_generative_recursion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Part B: Structural and Generative Recursion
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../3/partC_more_lists/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Part C: Some harder problems with lists
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5" >
        
          
          <label class="md-nav__link" for="__nav_4_5" id="__nav_4_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Assignment 4: Data abstraction
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Assignment 4: Data abstraction
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../4/assignment4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../4/ocaml_notes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    OCaml notes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../4/partA_abstraction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Part A: Abstraction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../4/partB_more_abstraction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Part B: More abstraction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../4/partC_algebra/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Part C: Algebraic expressions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Readings
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Readings
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../readings/ocaml_cheat_sheet/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    OCaml Cheat Sheet
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../readings/subst/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    The Substitution Model
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-in-class-exercise-is_power_of_two" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. In-class exercise: is_power_of_two
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-fibonacci-again" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Fibonacci again
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-sine-sicp-exercise-115" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. sine (SICP exercise 1.15)
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-fast_expt-and-ifast_expt-sicp-exercise-116" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. fast_expt and ifast_expt (SICP exercise 1.16)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. fast_expt and ifast_expt (SICP exercise 1.16)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-fast_expt" class="md-nav__link">
    <span class="md-ellipsis">
      
        a. fast_expt
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#b-ifast_expt" class="md-nav__link">
    <span class="md-ellipsis">
      
        b. ifast_expt
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-fast_mult-sicp-exercise-117" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. fast_mult (SICP exercise 1.17)
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-ifast_mult-sicp-exercise-118" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. ifast_mult (SICP exercise 1.18)
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-a-mysterious-function" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. A mysterious function
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-fibonacci-yet-again" class="md-nav__link">
    <span class="md-ellipsis">
      
        8. Fibonacci yet again
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="part-a-orders-of-growth-40-points">Part A: Orders of growth (40 points)</h1>
<p>This section will feature problems relating to
estimating time and space complexity in OCaml functions.
As usual, write essay-type answers as OCaml comments.</p>
<h2 id="1-in-class-exercise-is_power_of_two">1. In-class exercise: <code>is_power_of_two</code></h2>
<p>[<strong>5 points; no collaboration</strong>]</p>
<p>What are the time and space complexities of the following function?</p>
<div class="language-ocaml highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="k">let</span> <span class="k">rec</span> <span class="n">is_power_of_two</span> <span class="n">n</span> <span class="o">=</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>  <span class="k">if</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">1</span> <span class="k">then</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="bp">true</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>  <span class="k">else</span> <span class="k">if</span> <span class="n">n</span> <span class="ow">mod</span> <span class="mi">2</span> <span class="o">&lt;&gt;</span> <span class="mi">0</span> <span class="k">then</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="bp">false</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>  <span class="k">else</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="n">is_power_of_two</span> <span class="o">(</span><span class="n">n</span> <span class="o">/</span> <span class="mi">2</span><span class="o">)</span>
</span></code></pre></div>
<p>Explain your reasoning. (A sentence or two should be enough.)</p>
<h2 id="2-fibonacci-again">2. Fibonacci again</h2>
<p>[<strong>5 points</strong>]</p>
<p>Consider the tree-recursive fibonacci function discussed in class:</p>
<div class="language-ocaml highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="k">let</span> <span class="k">rec</span> <span class="n">fib</span> <span class="n">n</span> <span class="o">=</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>  <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="mi">2</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>     <span class="k">then</span> <span class="n">n</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>     <span class="k">else</span> <span class="n">fib</span> <span class="o">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="o">)</span> <span class="o">+</span> <span class="n">fib</span> <span class="o">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">2</span><span class="o">)</span>
</span></code></pre></div>
<p>You know that the time complexity for this function is <span class="arithmatex">\(O(2^n)\)</span>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>More specifically, it is <span class="arithmatex">\(\Theta(g^n)\)</span>,
where <span class="arithmatex">\(g\)</span> is the golden ratio (<span class="arithmatex">\(1.618...\)</span>).
See SICP section 1.2.2 and exercise 1.13
for more on this.</p>
</div>
<p>If we assume that OCaml is using applicative-order evaluation
(the normal OCaml evaluation rule),
then what is its <em>space</em> complexity?
Explain why this is different from the time complexity.</p>
<p><em>Hint:</em> consider what the largest number of pending operations
would have to be when evaluating <code>fib 7</code>.
You may assume that once an expression is fully evaluated,
all the memory used in evaluating that expression is returned to the system.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You are not required to state
what the effect of normal-order evaluation is
on the space requirements of the <code>fib</code> function,
though it is interesting! <img alt="ðŸ˜„" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@16.0.1/assets/svg/1f604.svg" title=":smile:" /></p>
</div>
<h2 id="3-sine-sicp-exercise-115">3. <code>sine</code> (SICP exercise 1.15)</h2>
<p>[<strong>5 points</strong>]</p>
<p>The sine of an angle (specified in radians)
can be computed by making use of the approximation:</p>
<div class="arithmatex">\[
sin\ x = x
\]</div>
<p>(if <span class="arithmatex">\(x\)</span> is "sufficiently small"),
and the trigonometric identity:</p>
<div class="arithmatex">\[
sin\ x = 3 \ sin(x / 3) - 4 \ sin^3(x/3)
\]</div>
<p>to reduce the size of the argument of <span class="arithmatex">\(sin\)</span>
if <span class="arithmatex">\(x\)</span> is <em>not</em> sufficiently small.
For purposes of this exercise
an angle is considered "sufficiently small"
if its magnitude is less than 0.1 radians.</p>
<p>These ideas are incorporated in the following functions (using
floating-point arithmetic throughout):</p>
<div class="language-ocaml highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="k">let</span> <span class="n">cube</span> <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">*.</span> <span class="n">x</span> <span class="o">*.</span> <span class="n">x</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="k">let</span> <span class="n">p</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">3</span><span class="o">.</span><span class="mi">0</span> <span class="o">*.</span> <span class="n">x</span> <span class="o">-.</span> <span class="mi">4</span><span class="o">.</span><span class="mi">0</span> <span class="o">*.</span> <span class="n">cube</span> <span class="n">x</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="k">let</span> <span class="k">rec</span> <span class="n">sine</span> <span class="n">angle</span> <span class="o">=</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>  <span class="k">if</span> <span class="n">abs_float</span> <span class="n">angle</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="o">.</span><span class="mi">1</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>     <span class="k">then</span> <span class="n">angle</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>     <span class="k">else</span> <span class="n">p</span> <span class="o">(</span><span class="n">sine</span> <span class="o">(</span><span class="n">angle</span> <span class="o">/.</span> <span class="mi">3</span><span class="o">.</span><span class="mi">0</span><span class="o">))</span>
</span></code></pre></div>
<ol>
<li>
<p>How many times is the function <code>p</code> applied when <code>sine 12.15</code> is
   evaluated?</p>
</li>
<li>
<p>What is the order of growth in space and number of steps
   used by the process generated by the <code>sine</code> function
   when <code>sine a</code> is evaluated (as a function of <code>a</code>)?</p>
</li>
</ol>
<p>By "growth in number of steps",
we mean the asymptotic time complexity of the <code>sine</code> function
as a function of the size of the input.
Explain the reason for the space/time complexities;
donâ€™t just state an answer.</p>
<h2 id="4-fast_expt-and-ifast_expt-sicp-exercise-116">4. <code>fast_expt</code> and <code>ifast_expt</code> (SICP exercise 1.16)</h2>
<p>[<strong>5 points</strong>]</p>
<p>SICP describes a non-iterative function called <code>fast_expt</code>
that does exponentiation using successive squaring (when possible).
Translated into OCaml, that function looks like this:</p>
<div class="language-ocaml highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="k">let</span> <span class="k">rec</span> <span class="n">fast_expt</span> <span class="n">b</span> <span class="n">n</span> <span class="o">=</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>  <span class="k">let</span> <span class="n">is_even</span> <span class="n">m</span> <span class="o">=</span> <span class="n">m</span> <span class="ow">mod</span> <span class="mi">2</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">in</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>  <span class="k">let</span> <span class="n">square</span> <span class="n">m</span> <span class="o">=</span> <span class="n">m</span> <span class="o">*</span> <span class="n">m</span> <span class="k">in</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>    <span class="k">if</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">then</span> <span class="mi">1</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>    <span class="k">else</span> <span class="k">if</span> <span class="n">is_even</span> <span class="n">n</span> <span class="k">then</span> <span class="n">square</span> <span class="o">(</span><span class="n">fast_expt</span> <span class="n">b</span> <span class="o">(</span><span class="n">n</span> <span class="o">/</span> <span class="mi">2</span><span class="o">))</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>    <span class="k">else</span> <span class="n">b</span> <span class="o">*</span> <span class="n">fast_expt</span> <span class="n">b</span> <span class="o">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="o">)</span>
</span></code></pre></div>
<p>Note that <code>mod</code> is a predefined infix operator in OCaml
(not a function!) which computes remainders; you use it like this:
<code>5 mod 2</code> (which will return <code>1</code>).</p>
<h3 id="a-fast_expt">a. <code>fast_expt</code></h3>
<p>The <code>fast_expt</code> function uses nested <code>if</code>/<code>then</code>/<code>else</code> forms,
which are a bit ugly and error-prone
(since OCaml doesnâ€™t actually have an <code>else if</code> syntax).
Rewrite the function using pattern matching on the <code>n</code> argument
(a <code>match</code> expression);
use <code>when</code> clauses in pattern matches
when you need to test for non-structural conditions
(and <em>only</em> then).
Your function should not have any <code>if</code> expressions.</p>
<p>Here is a skeleton version of the function you should write:</p>
<div class="language-ocaml highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="k">let</span> <span class="k">rec</span> <span class="n">fast_expt</span> <span class="n">b</span> <span class="n">n</span> <span class="o">=</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>  <span class="k">let</span> <span class="n">is_even</span> <span class="n">m</span> <span class="o">=</span> <span class="n">m</span> <span class="ow">mod</span> <span class="mi">2</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">in</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>  <span class="k">let</span> <span class="n">square</span> <span class="n">m</span> <span class="o">=</span> <span class="n">m</span> <span class="o">*</span> <span class="n">m</span> <span class="k">in</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>    <span class="k">match</span> <span class="n">n</span> <span class="k">with</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>      <span class="c">(* fill in the rest here *)</span>
</span></code></pre></div>
<p><em>Hint</em>: the "wildcard" pattern <code>_</code> may be useful to you.
Any compiler warnings will be considered to be errors.</p>
<h3 id="b-ifast_expt">b. <code>ifast_expt</code></h3>
<p>Write a function called <code>ifast_expt</code> that evolves an <em>iterative</em>
exponentiation process that uses successive squaring and uses a
logarithmic number of steps.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Using the observation that <span class="arithmatex">\(b^n = (b^{n/2})^2 = (b^2)^{n/2}\)</span>,
keep, along with the exponent <span class="arithmatex">\(n\)</span> and the base <span class="arithmatex">\(b\)</span>,
an additional state variable <span class="arithmatex">\(a\)</span>,
and define the state transformation in such a way
that the product <span class="arithmatex">\(a b^n\)</span> is unchanged from state to state.
At the beginning of the process <span class="arithmatex">\(a\)</span> is taken to be 1,
and the answer is given by the value of <span class="arithmatex">\(a\)</span> at the end of the process.
In general, the technique of defining an <em>invariant quantity</em>
that remains unchanged from state to state
is a powerful way to think about the design of iterative algorithms.</p>
</div>
<p>Use integer arithmetic for this problem.
You may assume that
all the (integer) arguments to your function are non-negative.</p>
<p>You will need some helper functions
in the implementation of your <code>ifast_expt</code> function.
You should make these internal to your <code>ifast_expt</code> function,
as was done with the <code>fast_expt</code> function above.
One of these will need to be recursive; call it <code>iter</code>.
Only use <code>let rec</code> with that function;
use <code>let</code> for all other internal definitions
and for the <code>ifast_expr</code> function as a whole.</p>
<p>Use pattern matching instead of nested <code>if</code>/<code>then</code>/<code>else</code> forms
as you did for the <code>fast_expt</code> function.</p>
<h2 id="5-fast_mult-sicp-exercise-117">5. <code>fast_mult</code> (SICP exercise 1.17)</h2>
<p>[<strong>5 points</strong>]</p>
<p>The exponentiation algorithms in this section
are based on performing exponentiation
by means of repeated multiplication.
The simplest such function is this:</p>
<div class="language-ocaml highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="k">let</span> <span class="k">rec</span> <span class="n">expt</span> <span class="n">a</span> <span class="n">b</span> <span class="o">=</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>  <span class="k">if</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>     <span class="k">then</span> <span class="mi">1</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>     <span class="k">else</span> <span class="n">a</span> <span class="o">*</span> <span class="n">expt</span> <span class="n">a</span> <span class="o">(</span><span class="n">b</span> <span class="o">-</span> <span class="mi">1</span><span class="o">)</span>
</span></code></pre></div>
<p>In a similar way,
one can perform integer multiplication by means of repeated addition.
The following multiplication function
(in which it is assumed that our language can only add, not multiply),
is analogous to the <code>expt</code> function:</p>
<div class="language-ocaml highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="k">let</span> <span class="k">rec</span> <span class="n">mult</span> <span class="n">a</span> <span class="n">b</span> <span class="o">=</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>  <span class="k">if</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>     <span class="k">then</span> <span class="mi">0</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>     <span class="k">else</span> <span class="n">a</span> <span class="o">+</span> <span class="n">mult</span> <span class="n">a</span> <span class="o">(</span><span class="n">b</span> <span class="o">-</span> <span class="mi">1</span><span class="o">)</span>
</span></code></pre></div>
<p>This algorithm takes a number of steps that is linear in <code>b</code>.
Now suppose we include, together with addition,
the operations <code>double</code>, which doubles an integer,
and <code>halve</code>, which divides an (even) integer by 2.
Using these, design a multiplication function analogous to <code>fast_expt</code>
that uses a logarithmic number of steps.
Call this function <code>fast_mult</code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Don't do any multiplications or divisions in <code>fast_mult</code>
except indirectly by using <code>double</code> or <code>halve</code>.
(<code>double</code> and <code>halve</code> themselves can do multiplication or division,
of course.)
You can also use addition, subtraction,
and the <code>mod</code> operator to test for evenness.</p>
</div>
<p>Use integer arithmetic for this problem.
The multiplication function you write should generate a recursive process.</p>
<p>Use the following definitions for <code>double</code> and <code>halve</code>:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>let double n = n + n
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>let halve n = n / 2
</span></code></pre></div>
<p>For this problem, write all helper functions
(including <code>double</code> and <code>halve</code>)
inside the <code>fast_mult</code> function<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup>,
and again use pattern matching on the <code>n</code> argument
instead of nested <code>if</code>/<code>then</code>/<code>else</code> expressions.</p>
<h2 id="6-ifast_mult-sicp-exercise-118">6. <code>ifast_mult</code> (SICP exercise 1.18)</h2>
<p>[<strong>5 points</strong>]</p>
<p>Using the results of the previous exercises, devise a function called
<code>ifast_mult</code> that generates an iterative process for multiplying two
integers in terms of adding, doubling, and halving and uses a
logarithmic number of steps.</p>
<p>This multiplication function should generate an iterative process.
If you are multiplying integer <span class="arithmatex">\(b\)</span> by integer <span class="arithmatex">\(n\)</span>,
you will need another state variable <span class="arithmatex">\(a\)</span>
such that the invariant is <span class="arithmatex">\(a + bn\)</span>,
and <span class="arithmatex">\(n\)</span> will decrease to zero,
at which point <span class="arithmatex">\(a\)</span> will be the answer.</p>
<p>Again, use pattern matching instead of nested <code>if</code>/<code>then</code>/<code>else</code>
expressions. And again, only use <code>let rec</code> where itâ€™s absolutely
necessary.</p>
<h2 id="7-a-mysterious-function">7. A mysterious function</h2>
<p>[<strong>5 points</strong>]</p>
<p>Consider the following (higher-order) function:</p>
<div class="language-ocaml highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="k">let</span> <span class="k">rec</span> <span class="n">foo</span> <span class="n">f</span> <span class="n">n</span> <span class="o">=</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>  <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">1</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>     <span class="k">then</span> <span class="n">f</span> <span class="mi">0</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>     <span class="k">else</span> <span class="n">foo</span> <span class="n">f</span> <span class="o">(</span><span class="n">n</span> <span class="o">/</span> <span class="mi">2</span><span class="o">)</span> <span class="o">+</span> <span class="n">foo</span> <span class="n">f</span> <span class="o">(</span><span class="n">n</span> <span class="o">/</span> <span class="mi">2</span><span class="o">)</span>
</span></code></pre></div>
<p>Note that function calls have the highest precedence in OCaml,
so the last expression is the same as
<code>(foo f (n / 2)) + (foo f (n / 2))</code>.</p>
<p>If we assume that the function <code>f</code> can compute its result
in constant time and constant space,
what are the (worst-case) time and space complexities
of the function <code>foo</code>?
Justify your answer.
(It doesnâ€™t have to be a full mathematical proof,
but it should be a convincing argument.)
Assume that the integer input <code>n</code> is always non-negative,
and assume the usual applicative-order evaluation rule.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This problem shows that tree recursion
doesn't <em>necessarily</em> give rise to an inefficient function.</p>
</div>
<h2 id="8-fibonacci-yet-again">8. Fibonacci yet again</h2>
<p>[<strong>5 points</strong>]</p>
<p>Consider this function to compute fibonacci numbers:</p>
<div class="language-ocaml highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="k">let</span> <span class="n">fib</span> <span class="n">n</span> <span class="o">=</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>  <span class="k">let</span> <span class="k">rec</span> <span class="n">last_two</span> <span class="n">n</span> <span class="o">=</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>    <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="mi">1</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>      <span class="k">then</span> <span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="o">)</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>      <span class="k">else</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>        <span class="k">let</span> <span class="o">(</span><span class="n">p0</span><span class="o">,</span> <span class="n">p1</span><span class="o">)</span> <span class="o">=</span> <span class="n">last_two</span> <span class="o">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="o">)</span> <span class="k">in</span>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a>          <span class="o">(</span><span class="n">p1</span><span class="o">,</span> <span class="n">p0</span> <span class="o">+</span> <span class="n">p1</span><span class="o">)</span>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a>  <span class="k">in</span>
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a>    <span class="n">fst</span> <span class="o">(</span><span class="n">last_two</span> <span class="n">n</span><span class="o">)</span>
</span></code></pre></div>
<p>A couple of OCaml notes:</p>
<ul>
<li>
<p>Itâ€™s legal to assign more than one value at a time
  in a <code>let</code> expression as shown above.
  (Effectively, you are doing a pattern match that cannot fail.)</p>
</li>
<li>
<p><code>fst</code> is a built-in function which extracts the first value of a two-tuple.</p>
</li>
</ul>
<p>Please answer the following two questions in OCaml comments:</p>
<ol>
<li>
<p>What kind of process does this function represent
   (linear recursive, linear iterative, tree recursive <em>etc.</em>)
   and why?</p>
</li>
<li>
<p>What is the space and time complexity of this function
   with respect to its argument <code>n</code>?</p>
</li>
</ol>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>You will have to add the <code>in</code> keyword at the end of each definition
when you embed them inside another function.&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../ocaml_notes/" class="md-footer__link md-footer__link--prev" aria-label="Previous: OCaml notes">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                OCaml notes
              </div>
            </div>
          </a>
        
        
          
          <a href="../partB_evaluation/" class="md-footer__link md-footer__link--next" aria-label="Next: Part B: Evaluation">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Part B: Evaluation
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["content.code.copy", "navigation.footer", "navigation.top"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="../../../js/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>