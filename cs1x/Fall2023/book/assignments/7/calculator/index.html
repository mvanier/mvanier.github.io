
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://example.com/assignments/7/calculator/">
      
      
        <link rel="prev" href="../overview/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.17">
    
    
      
        <title>Assignment 7: Program to write - The CS 1x book (Fall 2023)</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.26e3688c.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ecc896b0.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../css/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#assignment-7-program-to-write" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="The CS 1x book (Fall 2023)" class="md-header__button md-logo" aria-label="The CS 1x book (Fall 2023)" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            The CS 1x book (Fall 2023)
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Assignment 7: Program to write
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
          
            
            
            
            <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to medium mode"  type="radio" name="__palette" id="__palette_1">
            
              <label class="md-header__button md-icon" title="Switch to medium mode" for="__palette_3" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
              </label>
            
          
            
            
            
            <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
            
              <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
              </label>
            
          
            
            
            
            <input class="md-option" data-md-color-media="" data-md-color-scheme="medium" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_3">
            
              <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18V6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-2.69L23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69Z"/></svg>
              </label>
            
          
        </form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="The CS 1x book (Fall 2023)" class="md-nav__button md-logo" aria-label="The CS 1x book (Fall 2023)" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    The CS 1x book (Fall 2023)
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Introduction
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Introduction
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../intro/welcome/" class="md-nav__link">
        Welcome to CS 1x!
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Administrative
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Administrative
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../admin/syllabus/" class="md-nav__link">
        Syllabus
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../admin/collab/" class="md-nav__link">
        Collaboration policies
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Assignments
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Assignments
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
      
      
      
        <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
          Assignment 1: Tic-Tac-Toe
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_1">
          <span class="md-nav__icon md-icon"></span>
          Assignment 1: Tic-Tac-Toe
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../1/overview/" class="md-nav__link">
        Assignment 1: Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../1/setup/" class="md-nav__link">
        Assignment 1: Setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../1/programs/" class="md-nav__link">
        Assignment 1: Programs to write
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
      
      
      
        <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
          Assignment 2: Sudoku
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          Assignment 2: Sudoku
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../2/overview/" class="md-nav__link">
        Assignment 2: Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../2/sudoku/" class="md-nav__link">
        Assignment 2: Program to write
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
      
      
      
        <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
          Assignment 3: Interactive Sudoku
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_3">
          <span class="md-nav__icon md-icon"></span>
          Assignment 3: Interactive Sudoku
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../3/overview/" class="md-nav__link">
        Assignment 3: Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../3/sudoku_play/" class="md-nav__link">
        Assignment 3: Program to write
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
          Assignment 4: Turtle Graphics
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_4">
          <span class="md-nav__icon md-icon"></span>
          Assignment 4: Turtle Graphics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../4/overview/" class="md-nav__link">
        Assignment 4: Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../4/intro/" class="md-nav__link">
        Assignment 4: Programs to write
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../4/graphics/" class="md-nav__link">
        Assignment 4: Java Graphics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../4/turtle_canvas/" class="md-nav__link">
        Assignment 4: Turtle Canvas
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../4/sierpinski/" class="md-nav__link">
        Assignment 4: Sierpinski triangles
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../4/writing/" class="md-nav__link">
        Assignment 4: Writing the code
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5" >
      
      
      
        <label class="md-nav__link" for="__nav_4_5" id="__nav_4_5_label" tabindex="0">
          Assignment 5: Mandelbrot set, part 1
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_5">
          <span class="md-nav__icon md-icon"></span>
          Assignment 5: Mandelbrot set, part 1
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../5/overview/" class="md-nav__link">
        Assignment 5: Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../5/mandelbrot/" class="md-nav__link">
        Assignment 5: Program to write
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_6" >
      
      
      
        <label class="md-nav__link" for="__nav_4_6" id="__nav_4_6_label" tabindex="0">
          Assignment 6: Mandelbrot set, part 2
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_6">
          <span class="md-nav__icon md-icon"></span>
          Assignment 6: Mandelbrot set, part 2
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../6/overview/" class="md-nav__link">
        Assignment 6: Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../6/mandelbrot2/" class="md-nav__link">
        Assignment 6: Program to write
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_7" checked>
      
      
      
        <label class="md-nav__link" for="__nav_4_7" id="__nav_4_7_label" tabindex="0">
          Assignment 7: Stack calculator
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_7_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_4_7">
          <span class="md-nav__icon md-icon"></span>
          Assignment 7: Stack calculator
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../overview/" class="md-nav__link">
        Assignment 7: Overview
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Assignment 7: Program to write
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Assignment 7: Program to write
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#compiling-and-running" class="md-nav__link">
    Compiling and running
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#supplied-code" class="md-nav__link">
    Supplied code
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#description-of-the-program" class="md-nav__link">
    Description of the program
  </a>
  
    <nav class="md-nav" aria-label="Description of the program">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overview-of-the-program" class="md-nav__link">
    Overview of the program
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#argsjava" class="md-nav__link">
    Args.java
  </a>
  
    <nav class="md-nav" aria-label="Args.java">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#valuejava" class="md-nav__link">
    Value.java
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inputjava" class="md-nav__link">
    Input.java
  </a>
  
    <nav class="md-nav" aria-label="Input.java">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-fileinput-class" class="md-nav__link">
    The FileInput class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-stringinput-class" class="md-nav__link">
    The StringInput class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-stdinput-class" class="md-nav__link">
    The StdInput class
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parserjava" class="md-nav__link">
    Parser.java
  </a>
  
    <nav class="md-nav" aria-label="Parser.java">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parsedigits" class="md-nav__link">
    parseDigits
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parsenumber" class="md-nav__link">
    parseNumber
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parsestring" class="md-nav__link">
    parseString
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parsevalue" class="md-nav__link">
    parseValue
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#registerjava" class="md-nav__link">
    Register.java
  </a>
  
    <nav class="md-nav" aria-label="Register.java">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#empty" class="md-nav__link">
    empty
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storetop" class="md-nav__link">
    storeTop
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storepush" class="md-nav__link">
    storePush
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loadtop" class="md-nav__link">
    loadTop
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loadpush" class="md-nav__link">
    loadPush
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#opsjava" class="md-nav__link">
    Ops.java
  </a>
  
    <nav class="md-nav" aria-label="Ops.java">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stretch-goals-optional" class="md-nav__link">
    Stretch goals [OPTIONAL]
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scjava" class="md-nav__link">
    SC.java
  </a>
  
    <nav class="md-nav" aria-label="SC.java">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fields" class="md-nav__link">
    Fields
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-main-method" class="md-nav__link">
    The main method
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-sc-constructor" class="md-nav__link">
    The SC constructor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#other-supplied-methods" class="md-nav__link">
    Other supplied methods
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#evaluatecommand" class="md-nav__link">
    evaluateCommand
  </a>
  
    <nav class="md-nav" aria-label="evaluateCommand">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#commands-and-what-they-mean" class="md-nav__link">
    Commands and what they mean
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#binaryop" class="md-nav__link">
    binaryOp
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#calculator-language-summary" class="md-nav__link">
    Calculator language summary
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testing-your-code" class="md-nav__link">
    Testing your code
  </a>
  
    <nav class="md-nav" aria-label="Testing your code">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#code-examples" class="md-nav__link">
    Code examples
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#valuetestjava" class="md-nav__link">
    ValueTest.java
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sctestjava" class="md-nav__link">
    SCTest.java
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#compiling-and-running" class="md-nav__link">
    Compiling and running
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#supplied-code" class="md-nav__link">
    Supplied code
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#description-of-the-program" class="md-nav__link">
    Description of the program
  </a>
  
    <nav class="md-nav" aria-label="Description of the program">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overview-of-the-program" class="md-nav__link">
    Overview of the program
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#argsjava" class="md-nav__link">
    Args.java
  </a>
  
    <nav class="md-nav" aria-label="Args.java">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#valuejava" class="md-nav__link">
    Value.java
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inputjava" class="md-nav__link">
    Input.java
  </a>
  
    <nav class="md-nav" aria-label="Input.java">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-fileinput-class" class="md-nav__link">
    The FileInput class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-stringinput-class" class="md-nav__link">
    The StringInput class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-stdinput-class" class="md-nav__link">
    The StdInput class
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parserjava" class="md-nav__link">
    Parser.java
  </a>
  
    <nav class="md-nav" aria-label="Parser.java">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parsedigits" class="md-nav__link">
    parseDigits
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parsenumber" class="md-nav__link">
    parseNumber
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parsestring" class="md-nav__link">
    parseString
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parsevalue" class="md-nav__link">
    parseValue
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#registerjava" class="md-nav__link">
    Register.java
  </a>
  
    <nav class="md-nav" aria-label="Register.java">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#empty" class="md-nav__link">
    empty
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storetop" class="md-nav__link">
    storeTop
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storepush" class="md-nav__link">
    storePush
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loadtop" class="md-nav__link">
    loadTop
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loadpush" class="md-nav__link">
    loadPush
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#opsjava" class="md-nav__link">
    Ops.java
  </a>
  
    <nav class="md-nav" aria-label="Ops.java">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stretch-goals-optional" class="md-nav__link">
    Stretch goals [OPTIONAL]
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scjava" class="md-nav__link">
    SC.java
  </a>
  
    <nav class="md-nav" aria-label="SC.java">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fields" class="md-nav__link">
    Fields
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-main-method" class="md-nav__link">
    The main method
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-sc-constructor" class="md-nav__link">
    The SC constructor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#other-supplied-methods" class="md-nav__link">
    Other supplied methods
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#evaluatecommand" class="md-nav__link">
    evaluateCommand
  </a>
  
    <nav class="md-nav" aria-label="evaluateCommand">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#commands-and-what-they-mean" class="md-nav__link">
    Commands and what they mean
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#binaryop" class="md-nav__link">
    binaryOp
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#calculator-language-summary" class="md-nav__link">
    Calculator language summary
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testing-your-code" class="md-nav__link">
    Testing your code
  </a>
  
    <nav class="md-nav" aria-label="Testing your code">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#code-examples" class="md-nav__link">
    Code examples
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#valuetestjava" class="md-nav__link">
    ValueTest.java
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sctestjava" class="md-nav__link">
    SCTest.java
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="assignment-7-program-to-write">Assignment 7: Program to write</h1>
<h2 id="compiling-and-running">Compiling and running</h2>
<p>Put all the code into a directory called <code>sc</code>
(which is the name of the package).
Then, from the directory above <code>sc</code>,
do this to compile the files:</p>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>$<span class="w"> </span>javac<span class="w"> </span>sc/*.java
</span></code></pre></div>
<p>To run the program, do this:</p>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>$<span class="w"> </span>java<span class="w"> </span>sc.SC
</span></code></pre></div>
<p>This will appear to do nothing,
but in fact the terminal will be waiting for you to enter some commands.
These will be described below.
In addition,
the program can accept a number of (optional) command-line arguments,
which are also described below.</p>
<h2 id="supplied-code">Supplied code</h2>
<p>The template code file contains the following files:</p>
<ul>
<li><code>Args.java</code></li>
<li><code>Input.java</code></li>
<li><code>Value.java</code></li>
<li><code>Registers.java</code></li>
<li><code>Ops.java</code></li>
<li><code>SC.java</code></li>
<li><code>ValueTest.java</code></li>
</ul>
<p>You will be editing all of these except for <code>Args.java</code> and <code>ValueTest.java</code>.</p>
<h2 id="description-of-the-program">Description of the program</h2>
<p><img alt="" src="../images/dontpanic.jpg" width="50%" /></p>
<p>This program is longer than the programs you have seen so far,
but you only need to add about 250 lines of code to complete it.
Also, many of the lines are very obvious from the context,
because they are slightly changed versions
of other nearby code in the same file.</p>
<p>There are a couple of tricky spots in the program,
and we'll be very clear about them in the descriptions below.</p>
<p>Here is a description of the various files,
along with information about what you need to implement in each file.
As usual, you need to replace comments of the form <code>// TODO</code> with your code.</p>
<h3 id="overview-of-the-program">Overview of the program</h3>
<p>This program is a terminal-based calculator.
You enter commands into the terminal and it prints the results.
It can also take inputs from files or directly from the command line.</p>
<p>The way the calculator works is a bit unusual,
but if you've ever used an HP calculator, it will seem familiar.
You enter the operands, which get pushed onto a stack.
Then you enter the operator, which causes the computation to occur.
The arguments are popped off the stack before the computation occurs
and the result is pushed back onto the stack.
Example: instead of typing <code>1 + 1</code> you type <code>1 1 +</code>.
Also, nothing gets printed unless you ask for it,
so to see the result of <code>1 + 1</code> you have to type <code>1 1 + p</code>
(<code>p</code> means to print the top of the stack).
You can also omit a lot of space characters,
since commands are all one character long.
Therefore, the previous line could have been written as <code>1 1 +p</code>.</p>
<p>There's a lot more to this, but we'll get into the details below.
Now we will discuss the files that make up the program.</p>
<h3 id="argsjava"><code>Args.java</code></h3>
<p>This file defines the <code>Args</code> class
that handles command-line argument processing.
It's provided to you in completed form,
since (let's face it) command-line argument processing
isn't very interesting.</p>
<p>Here is the program's usage message:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>Usage: java sc.SC [OPTION] [filename ...]
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>  -e expr  evaluate expression
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>  -h       display this help message and exit
</span></code></pre></div>
<p>Note that all command-line arguments are optional.
Input to the calculator can come from three kinds of sources:</p>
<ul>
<li>terminal input (<code>System.in</code>)</li>
<li>file input</li>
<li>a string</li>
</ul>
<p>With no arguments, the program just reads input from the terminal.</p>
<p>The <code>-h</code> command prints the usage (help) message;
the rest of the command-line arguments are ignored.</p>
<p>An optional argument of the form <code>-e expr</code>,
where <code>expr</code> is a string containing calculator commands,
causes these commands to be executed.
There can be multiple <code>-e expr</code> arguments,
and they are evaluated in order.</p>
<p>Any other arguments are expected to be file names.
These files should contain calculator commands,
and are read from and evaluated in order.
If the special name <code>-</code> is included,
then the terminal will be read from after everything else has been read from.
(This is useful for reading commands from a file and then from the terminal.)
If the <code>-</code> argument is not present
but other <code>-e</code> arguments and/or filename arguments are present,
the program will exit after running all the string and file input commands.</p>
<p>You can interleave <code>-e expr</code> commands and filenames,
but the <code>-e</code> commands will always be executed first.
If the <code>-</code> filename is included,
all other filenames and <code>-e expr</code> commands will be evaluated first
before reading commands from the terminal.</p>
<p>That's it for command-line argument processing.
Most of the time,
the program will be reading from a single <code>-e expr</code> command,
a single filename, or only from the terminal input.</p>
<h4 id="examples">Examples</h4>
<p>Here are some examples of running the program
with the <code>-e</code> command-line option.
Note that you sometimes need to quote the arguments.
If the expression has spaces, it has to be quoted.
Also, the <code>*</code> character has a special meaning in the terminal<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup>,
so you have to quote that too.
(As usual, the <code>$</code> is the command-line prompt, which you don't type.)</p>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>$<span class="w"> </span>java<span class="w"> </span>sc.SC<span class="w"> </span>-e<span class="w"> </span>10p
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="m">10</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>$<span class="w"> </span>java<span class="w"> </span>sc.SC<span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;10 20+p&quot;</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="m">30</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>$<span class="w"> </span>java<span class="w"> </span>sc.SC<span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;10 20*p&quot;</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="m">200</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>$<span class="w"> </span>java<span class="w"> </span>sc.SC<span class="w"> </span>-e<span class="w"> </span><span class="m">10</span><span class="w"> </span>-e<span class="w"> </span><span class="m">20</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;*&quot;</span><span class="w"> </span>-e<span class="w"> </span>p
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="m">200</span>
</span></code></pre></div>
<p>Don't be worried if you don't understand what's happening yet;
all will be explained below.</p>
<h3 id="valuejava"><code>Value.java</code></h3>
<p>This file defines the fundamental value type
(an abstract type called <code>Value</code>)
that the calculator commands work on.
It's provided for you in completed form.</p>
<p>A <code>Value</code> can be either</p>
<ul>
<li>an integer</li>
<li>a floating-point number (a Java <code>double</code>)</li>
<li>a string</li>
</ul>
<p>A single <code>Value</code> object can conceptually be any one of these types.
For this to work,
we use the "algebraic datatype pattern" discussed in lecture 9
and define these subclasses of <code>Value</code>:</p>
<ul>
<li><code>StringValue</code> (for values that are strings)</li>
<li><code>IntValue</code> (for values that are integers)</li>
<li><code>FloatValue</code> (for values that are floating-point numbers)</li>
</ul>
<p>The <code>Value</code> class is <code>abstract</code>,
which means you can't make instances of it.
The <code>StringValue</code>, <code>IntValue</code>, and <code>FloatValue</code> classes are "concrete",
which means you <em>can</em> make instances of them.</p>
<h3 id="inputjava"><code>Input.java</code></h3>
<p>The first thing we need to be able to do in our implementation
is to read characters from an input source.
There are three possible input sources:
files, strings, and the terminal (<em>i.e.</em> keyboard input).
In this file, we define an abstract class called <code>Input</code>,
which contains an input buffer of characters.
This class represents what an input source should be able to do.
This class includes three methods:</p>
<ul>
<li>
<p><code>getNextChar</code>, which returns the next character in the input buffer.
If there is no more input, it throws a <code>NoMoreInputException</code> exception.</p>
</li>
<li>
<p><code>putCharBack</code>, which pushes a character to the beginning of the input buffer.</p>
</li>
<li>
<p><code>reload</code>, which adds more characters to the end of the buffer.
This method is <code>abstract</code>, so it has to be implemented in subclasses of <code>Input</code>.</p>
</li>
</ul>
<p>The input data itself is stored in a data structure called a <code>Deque</code>
(pronounced "deck", like a deck of cards).
"Deque" stands for <em><strong>d</strong>ouble <strong>e</strong>nded <strong>q</strong>ueue</em>.
This is just an ordered collection of items
(in this case, individual characters)
that you can add to or remove from.
We will be adding characters to the end of the deque
when loading up the input,
and removing them from the front as we process them.
We will also sometimes add them back to the front
(the <code>putCharBack</code> method) as needed.
The deque acts as a buffer,
so that many characters can be added all at once
(<em>e.g.</em> a line of characters)
but they can be removed and processed one character at a time.</p>
<p>You will learn more about implementing deques
and related data structures in CS 2.
Here, we will just use the <code>ArrayDeque</code> data structure
provided by the Java libraries.</p>
<p>We are supplying you with an implementation
for both the <code>getNextChar</code> and <code>putCharBack</code> methods,
which are both very simple.
However, <code>getNextChar</code> calls another method called <code>reload</code>
in the event that the deque has no more characters.
This method is not defined in the <code>Input</code> class,
and so it must be defined in its subclasses.
There are three subclasses of <code>Input</code>, one for each kind of input:</p>
<ul>
<li><code>FileInput</code> (for input from a file)</li>
<li><code>StringInput</code> (for input from a string)</li>
<li><code>StdInput</code> (for terminal input)</li>
</ul>
<p>We are providing you with partial implementations of these classes.
Here's what you need to implement for each class.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Do not use a catch-all exception handler (<em>i.e.</em> catching <code>Exception</code>)
when handling errors in any of the <code>Input</code> classes.
Instead, handle the specific errors that you know can be thrown.
Any such error should be re-thrown as a <code>NoMoreInputException</code>.</p>
</div>
<h4 id="the-fileinput-class">The <code>FileInput</code> class</h4>
<p>In this class, the constructor has been supplied to you.
It creates a new <code>BufferedReader</code> object which reads from the file,
and sets the <code>closed</code> field to <code>false</code>,
which indicates that the file is ready for reading.
If the file doesn't exist, <code>closed</code> is reset to <code>true</code>.</p>
<p>You need to complete the <code>reload</code> method.
It reads in the next line of the file
(including the newline character at the end),
and adds the characters to the <code>current</code> buffer
(the deque of characters described above).
Use the <code>addLast</code> method of the <code>ArrayDeque</code> class to do this,
so that the characters get added to the end of the buffer.</p>
<p>Note that the <code>readLine</code> method of the <code>BufferedReader</code> class
strips the final newline from a string, so you'll have to add it back.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Don't read in the entire rest of the file in the <code>reload</code> method!
Just read in one line at a time.</p>
</div>
<p>If an error occurs while reading the line,
close the <code>BufferedReader</code> and set the <code>closed</code> field to <code>true</code>
before throwing the <code>NoMoreInputException</code> exception.</p>
<h4 id="the-stringinput-class">The <code>StringInput</code> class</h4>
<p>In this class, the <code>reload</code> method has been supplied to you,
since a string can't be reloaded (the number of characters is fixed).
You just need to complete the constructor,
which should only take a few lines.</p>
<h4 id="the-stdinput-class">The <code>StdInput</code> class</h4>
<p>This class reads from the terminal (<code>System.in</code>)
instead of from a file or string.
Therefore, instead of a <code>BufferedReader</code> it uses a <code>Scanner</code>.
You need to implement the <code>reload</code> method, which should be straightforward.</p>
<h3 id="parserjava"><code>Parser.java</code></h3>
<p>This file includes several methods
that are used to parse the different <code>Value</code> subclasses.
In this program, "parsing" means converting strings into Java values.
All the methods in this class are <code>static</code> methods
(they belong to the class, not the instances of the class)
and take an <code>Input</code> object (an input source) as their only argument.
One method (<code>parseInt</code>) is supplied for you.
You need to implement the rest of the methods.</p>
<h4 id="parsedigits"><code>parseDigits</code></h4>
<p>This method tries to parse decimal digits
(<em>i.e.</em> digits in the range <code>0</code> to <code>9</code>)
from the input and returns a <code>String</code>
consisting of all the digits in the order they occurred in the input.
The method stops collecting digits
as soon as it encounters a non-digit character or runs out of input.
In the former case, push the non-digit back to the input.
If no digits are read
(either because there is no more input
or a non-digit character was encountered),
return the empty string (not <code>null</code>).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We made this method <code>public</code> for testing purposes,
but normally it would be <code>private</code>.
How to test private methods,
or whether you should even test private methods at all,
is a controversial topic in the Java community.</p>
</div>
<h4 id="parsenumber"><code>parseNumber</code></h4>
<p>This method tries to parse a number
(integer or floating point).
If it parses an integer,
it creates an <code>IntValue</code> from it and returns it.
If it parses a floating point number,
it creates a <code>FloatValue</code> from it and returns it.
If it can't parse either, it returns <code>null</code>.
In some cases, a parse error can happen, and if that occurs,
it throws a <code>ParseErrorException</code>.
This method returns a <code>Value</code>,
so it's allowed to return any subclass of <code>Value</code>,
including <code>IntValue</code> or <code>FloatValue</code> objects.
(It will never return a <code>StringValue</code> object, of course.)</p>
<p>The parsing rules for numbers are as follows.</p>
<ul>
<li>
<p>Integers consist of a sequence of one or more decimal digits,
optionally preceded by the <code>_</code> character, which serves as a negative sign.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We don't use <code>-</code> for a negative sign because it's used as the minus operator,
as you'll see below.  This makes the parsing rules simpler.</p>
</div>
</li>
<li>
<p>Floating point numbers are required to have a decimal point (<code>.</code>)
and at least one decimal digit before the decimal point.
They are not required to have a digit after the decimal point.
Exponential notation (<em>e.g.</em> <code>1.23e4</code> or <code>5.4e-5</code>) is not supported.
Floating point numbers can be preceded by the <code>_</code> character
to create a negative number (like you can do with integers).</p>
</li>
<li>
<p>More than one <code>_</code> character before a number (int or float) is a parse error.</p>
</li>
<li>
<p>If an integer is followed by a <code>.</code> character, it becomes a float.</p>
</li>
</ul>
<p>A good way to parse numbers is as follows:</p>
<ol>
<li>
<p>Parse an integer using the <code>parseInt</code> method.
This method is supplied for you, and handles the sign issues.
It returns a <code>String</code>, not an <code>int</code>; don't convert it to an <code>int</code> yet!
If <code>parseInt</code> returns <code>null</code>, return <code>null</code> from <code>parseNumber</code>.
(<code>parseInt</code> can also throw a <code>ParseErrorException</code>,
which you should just let pass through.)</p>
</li>
<li>
<p>Get the next character from the input.</p>
<ol>
<li>
<p>If there is none, the number is an integer,
so create and return an <code>IntValue</code>.</p>
</li>
<li>
<p>If it's a <code>.</code> (<em>i.e.</em> a decimal point), this must be a float,
so use <code>parseDigits</code> to get the fractional part,
collect all the float characters
(integer part, decimal point, and fractional part),
and create and return a <code>FloatValue</code>.</p>
</li>
</ol>
</li>
<li>
<p>Otherwise, push the character you just read back to the input,
and create and return an <code>IntValue</code>.</p>
</li>
</ol>
<h4 id="parsestring"><code>parseString</code></h4>
<p>This method tries to parse a string.
If it's successful, it converts the string to a <code>StringValue</code> and returns it.
If not, it returns <code>null</code>.</p>
<div class="admonition note">
<p class="admonition-title">String syntax</p>
<p>In this language, strings are written with enclosing square brackets,
like this: <code>[hello, world!]</code> and not like this: <code>"hello, world!"</code>.
The reason for this is that strings are mostly used as functions:
the characters in strings are generally calculator commands
that can be replayed back.
The square bracket syntax is more intuitive for this purpose.</p>
<p>The characters in a string
consist of the characters <em>inside</em> the square brackets,
but not the enclosing square brackets themselves
(much like the characters in a Java string
don't include the surrounding quotes).
Strings in the calculator language
don't support any character escapes
(like <code>\n</code> for newline or <code>\t</code> for tab),
so you don't have to worry about that.
Strings <em>can</em> include embedded newlines,
so this is a string spanning four lines:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>[this
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>is
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>a
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>string]
</span></code></pre></div>
<p>This doesn't require any special parsing code, since you may get newline
characters from the input source.</p>
<p>The only other syntax rule is that internal square brackets must be balanced.
So this string:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>[a string with [square brackets] inside]
</span></code></pre></div>
<p>represents the string <code>"a string with [square brackets] inside"</code>.  Most
importantly, the string doesn't end when you read the first <code>]</code> character; it
ends when you read the <code>]</code> character that balances the initial <code>[</code> character.
This is the only thing you need to keep track of when you are parsing strings.</p>
</div>
<p>The method reads characters from the input one at a time,
trying to parse a string.
First, it must read the initial <code>[</code> character;
if it's not there, return <code>null</code>.
(Make sure to push the non-<code>[</code> character back to the input
so it doesn't disappear!)
Then parse characters one at a time, looking for the closing <code>]</code> character.
If the input runs out before that character is found,
throw a <code>ParseErrorException</code> (don't just return <code>null</code>!),
because that represents an unterminated string, which is not allowed.
Otherwise, collect up all the characters, create a <code>StringValue</code> and return it.</p>
<p>You will find the <code>StringBuffer</code> class useful here
for collecting the characters.</p>
<h4 id="parsevalue"><code>parseValue</code></h4>
<p>This static method is in the <code>Value</code> class.
It skips all leading whitespace characters in the input.
(The <code>Character.isWhitespace</code> method will be useful here.)
Then it reads a single character.
If there is none, return <code>null</code>.
Otherwise, push the character back to the input.
If it was a <code>[</code> (start of string) character,
try to parse a string value using <code>parseStringValue</code>.
If that works, return the <code>StringValue</code>.
If not (it returned <code>null</code>), try to parse a number using <code>parseNumber</code>.
Return the result (<code>null</code> if it fails or a number value if it succeeds).</p>
<h3 id="registerjava"><code>Register.java</code></h3>
<p>This file defines the <code>Register</code> class, which represents a single "register",
which is what the calculator language uses as variables.
You might expect that a register
is just a slot where a single value can be stored,
but in fact, each register is a separate stack of values.
The main reason for this is that there are a limited number of registers
(26, represented by the letters <code>a</code> through <code>z</code>).
To enable more complex calculations to be performed,
any register can be used as a stack,
and then (for instance) each calculator function can use the
same registers without having to overwrite values from other functions.</p>
<p>The register's stack is initialized in the constructor, which is provided.
There are a few simple methods that you need to implement.</p>
<h4 id="empty"><code>empty</code></h4>
<p>This method returns <code>true</code> if the register's stack is empty,
or <code>false</code> otherwise.</p>
<h4 id="storetop"><code>storeTop</code></h4>
<p>This method replaces the value at the top of the register's stack
with the argument value.
If the stack is empty, it pushes the value onto the stack.</p>
<h4 id="storepush"><code>storePush</code></h4>
<p>This method pushes a value onto the register's stack.</p>
<h4 id="loadtop"><code>loadTop</code></h4>
<p>This method copies and returns the top value of the register's stack.
If the stack is empty, it throws an <code>EmptyStackException</code>.</p>
<h4 id="loadpush"><code>loadPush</code></h4>
<p>This method pops and returns the top value of the register's stack.
If the stack is empty, it throws an <code>EmptyStackException</code>.</p>
<h3 id="opsjava"><code>Ops.java</code></h3>
<p>This file defines the <code>Ops</code> class,
which contains static methods for computing with <code>Value</code>s.
Some of the methods are supplied for you,
and most of the others can be written
by using the supplied code as a template.</p>
<p>This file also is an example of the "algebraic datatype" pattern
discussed in lecture 8.
It's not object-oriented at all!
If we wanted to write this in a more object-oriented style,
we could have moved all these operations to the <code>Value</code> class,
but that would have made that class a lot larger,
and wouldn't provide any particular benefit.
Since each <code>Value</code> object is actually
one of the three concrete subclasses of <code>Value</code>
(<code>IntValue</code>, <code>FloatValue</code>, or <code>StringValue</code>),
each method has to inspect each <code>Value</code> using the <code>instanceof</code> operator
to find out which concrete class the object belongs to.
Once it has done that,
it gets the contents of the object
using the <code>getContents</code> method for that class,
and carries out the computation.</p>
<p>Many of the methods are binary methods;
they need to inspect the classes of <em>both</em> <code>Value</code> arguments.
For numeric operations, we recommend you do nested <code>instanceof</code> tests
(the outer one for the first <code>Value</code>, the inner one for the second),
because often you can do an operation on arguments of different types.
For instance, you can add integers to floating-point numbers and vice-versa,
although you can't add either of them to strings.
You can see an example of this in the supplied <code>add</code> method,
which implements addition of values.
We do overload addition to mean string concatenation when adding strings,
but that is a special case
(subtraction, multiplication <em>etc.</em> don't work with strings and numbers).</p>
<p>The comparison methods (<code>equals</code>, <code>lessThan</code>, <code>greaterThan</code>)
should all be implemented in terms of the supplied <code>compare</code> method.
They return integer values which represent booleans:
<code>0</code> represents <code>false</code> and <code>1</code> represents <code>true</code>.
The <code>not</code> method is included instead of <code>lessThanOrEquals</code> <em>etc.</em>
because <code>a &lt;= b</code> is the same as <code>not(a &gt; b)</code>.
<code>not</code> only works on integer values treated as booleans;
treat any nonzero value as <code>true</code>.</p>
<p>Any method that is applied to a <code>Value</code> that can't be used
(like applying the <code>not</code> method to a <code>StringValue</code>)
should throw an <code>InvalidOperationException</code>.</p>
<h4 id="stretch-goals-optional">Stretch goals <em>[OPTIONAL]</em></h4>
<p>It's not required, but it's quite easy to add more functionality to this class.
For instance:</p>
<ul>
<li>
<p>Extend the <code>multiply</code> method to handle
Python-style multiplication of integers by strings
(where the string is replicated an integer number of times).</p>
</li>
<li>
<p>Add a <code>power</code> method that raises one value to the power of another.
This will only work for numbers, of course,
and you may wish to have more restrictions
(<em>e.g.</em> only allowing integer powers).
Use the <code>^</code> character for the power operator.</p>
</li>
<li>
<p>Add <code>and</code> and <code>or</code> operators to allow combining tests.</p>
</li>
</ul>
<p>If you do this,
you may need to extend the calculator syntax in the <code>SC</code> class,
which we turn to next.</p>
<h3 id="scjava"><code>SC.java</code></h3>
<p>This is where all the code finally comes together
to make a working calculator program!</p>
<p>This file defines the <code>SC</code> class,
which is the primary class of the program
and the one that provides the user interface to the calculator
(among other things).
Many of the methods in this class are supplied for you,
including the <code>main</code> method and the constructor.
The two methods you need to complete are <code>evaluateCommand</code> and <code>binaryOp</code>,
which we'll describe below.</p>
<h4 id="fields">Fields</h4>
<p>The <code>SC</code> class defines three fields:</p>
<ul>
<li>
<p><code>inputs</code>: an <code>ArrayList</code> of input sources.</p>
</li>
<li>
<p><code>stack</code>: a <code>Stack</code> of <code>Value</code>s, which is where the computations actually
take place.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Don't confuse this stack (which we will call <em>the</em> stack)
with the register stacks described above
(which we will always refer to as <em>register stacks</em>).</p>
</div>
</li>
<li>
<p><code>registers</code>:
a map between characters (<code>a</code> to <code>z</code>) and the registers that they represent.
A "map" in this context means a data structure
that lets you look up the register corresponding to a particular character.</p>
</li>
</ul>
<h4 id="the-main-method">The <code>main</code> method</h4>
<p>The <code>main</code> method (supplied to you) processes the command-line arguments
(if any) to determine which input sources exist
for the current run of the program.
It then creates an instance of the <code>SC</code> class and runs it
(see below for more on the <code>run</code> method).</p>
<h4 id="the-sc-constructor">The <code>SC</code> constructor</h4>
<p>The <code>SC</code> constructor (supplied to you)
initializes all the fields of the calculator object.
It receives an <code>ArrayList</code> of <code>Input</code> sources as its argument and stores that.
It creates an empty stack.
Then in creates all the registers
and binds each one to a different character from <code>a</code> to <code>z</code> in a <code>HashMap</code>
(which is a kind of <code>Map</code>).</p>
<h4 id="other-supplied-methods">Other supplied methods</h4>
<ul>
<li>
<p><code>run</code>: This calls <code>runInput</code> on each input source.</p>
</li>
<li>
<p><code>runInput</code>:
This repeatedly runs <code>evaluate</code> on an input source
until there is nothing left to evaluate.</p>
</li>
<li>
<p><code>evaluate</code>:
This tries to parse a <code>Value</code> from the input source.
If it succeeds, the value is pushed onto the stack.
If it fails,
it assumes that the first characters of the input represent a command,
so it calls <code>evaluateCommand</code>.</p>
</li>
<li>
<p><code>handleError</code>:
This just prints an error message to <code>System.err</code>.</p>
</li>
</ul>
<h4 id="evaluatecommand"><code>evaluateCommand</code></h4>
<p>This is the primary method of the entire program.
It's called when the next characters of the input source
do not represent a value.
Instead, the first character represents a command.
This command is used to select an operation to perform
(in a big <code>switch</code> statement).
Some of the code for the commands has been supplied to you,
but you'll have to implement most of the commands yourself.
Usually, this will involve popping one or two values from the stack,
computing a result value, and pushing that value back onto the stack.</p>
<p>For instance, if the input was <code>1 2 + n</code>,
then first the numbers <code>1</code> and <code>2</code> would be pushed onto the stack
(in the <code>evaluate</code> method, not in this method).
Then the <code>+</code> command would be evaluated by this method,
and it would pop the two numbers off the stack, add them,
and push the result back onto the stack.
Finally, the <code>n</code> command would pop the result (<code>3</code>) off the stack and print it.</p>
<p>Note that you don't have to worry about spaces in the inputs,
since the <code>getNextChar</code> method of the <code>Input</code> class
will discard whitespace.<sup id="fnref:2"><a class="footnote-ref" href="#fn:2">2</a></sup></p>
<h5 id="commands-and-what-they-mean">Commands and what they mean</h5>
<p>Here are the commands in the calculator language:</p>
<ul>
<li>
<p><code>c</code>: Clear the stack.</p>
</li>
<li>
<p><code>d</code>: Duplicate the top stack item.
Print an error message (using <code>handleError</code>) if the stack is empty.</p>
</li>
<li>
<p><code>f</code>: Print the contents of the stack non-destructively
(<em>i.e.</em> don't change the stack).
The values are printed one per line,
with the top of the stack being printed first and the bottom last.</p>
</li>
<li>
<p><code>k</code>: Pop the stack and discard it.  <code>k</code> stands for "kill".</p>
</li>
<li>
<p><code>l</code>: Load a register's value by copying (not popping)
the top of a register stack onto the stack.
The register to use is the character that follows the <code>l</code>,
so the command <code>la</code> means "load register a".
Print an error message if the register character is out of range
(not in <code>a</code> to <code>z</code>) or if the register stack is empty.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Use the methods of the <code>Register</code> class
for this and for all register-related commands.</p>
</div>
</li>
<li>
<p><code>L</code>: Like <code>l</code>, but pop the register stack instead of copying the top value.</p>
</li>
<li>
<p><code>n</code>: Pop the stack and print the value, with a newline.
Print an error message if the stack is empty.</p>
</li>
<li>
<p><code>N</code>: Like <code>n</code>, but don't print a newline at the end.</p>
</li>
<li>
<p><code>p</code>: Copy the top of the stack and print the value, with a newline.
Print an error message if the stack is empty.</p>
</li>
<li>
<p><code>q</code>: Quit the calculator program.</p>
</li>
<li>
<p><code>r</code>: Swap ("rotate") the top two stack items.
Print an error message if the stack doesn't have at least two items.</p>
</li>
<li>
<p><code>s</code>: Pop the top of the stack and store it into the top value of a register.
The register is identified by the character that follows the <code>s</code>,
so <code>sb</code> means "store to register b".
Print an error message if the stack is empty or if the register name is invalid.</p>
</li>
<li>
<p><code>S</code>: Like <code>s</code>, but push the value onto the register stack
instead of storing into the top value of the register.</p>
</li>
<li>
<p><code>x</code>: Pop the top of the stack, which should be a string.
Print an error message if the stack is empty
or if the value popped from the stack isn't a string.
"Execute" the string by pushing the characters back onto the input source.
(Make sure that the first element of the string
will be the first command executed!)</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Here you can see how strings containing commands
are basically the same as
functions in more conventional programming languages.</p>
</div>
</li>
<li>
<p><code>?</code>: This command does conditional execution
(like <code>if</code>/<code>else</code> in most languages).
It pops three values off the stack,
of which one is an integer representing a boolean,
and the other two are strings
representing the "then" and "else" clauses of the conditional.
They should be arranged as "int|then|else"
with the "else" clause at the top of the stack.
If the int is <code>0</code>, execute the "else" clause;
otherwise, execute the "then" clause.</p>
<p>If there are fewer than 3 values on the stack,
or if they have the wrong types,
print an error message.</p>
</li>
<li>
<p><code>+</code>: Pop two values from the stack, add them,
and push the result back onto the stack.
Use the <code>Ops.add</code> method to do the adding.</p>
<p>This and the next few commands are very similar,
so we want you to factor out the similarity
by defining a method called <code>binaryOp</code>.
This method takes in a function
that converts two values into a single value,
as well as the name of the command for error handling purposes.
It pops two values from the stack,
applies the function to get a result value,
and pushes that back to the stack.
It also handles errors by printing out error messages when necessary.</p>
<p>The supplied code for the <code>+</code> command
contains a feature of Java we haven't discussed in class:
<a href="https://www.w3schools.com/java/java_lambda.asp">lambda expressions</a>.
These are a way to very concisely represent a function
(not a method!) in Java.
In our case, the function converts two <code>Value</code>s to a single <code>Value</code>.
The function for the <code>+</code> command is:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>(v1, v2) -&gt; Ops.add(v1, v2)
</span></code></pre></div>
<p>whose meaning should be obvious.
The next few commands can be implemented in exactly the same way.</p>
</li>
<li>
<p><code>-</code>: See above.</p>
</li>
<li>
<p><code>*</code>: See above.</p>
</li>
<li>
<p><code>/</code>: See above.</p>
</li>
<li>
<p><code>=</code>: See above.</p>
</li>
<li>
<p><code>&lt;</code>: See above.</p>
</li>
<li>
<p><code>&gt;</code>: See above.</p>
</li>
<li>
<p><code>!</code>: This pops a value from the stack,
computes the boolean NOT of the value,
and pushes the result back to the stack.
We can't use <code>BinaryOp</code> for this because it's not a binary function,
but the code is similar.</p>
</li>
<li>
<p><code>#</code>: This skips the rest of the line,
up to and including the first newline character.
It's used for writing comments.</p>
</li>
<li>
<p><code>,</code>: This command executes the (string) contents of a register.
The register character must follow the <code>,</code> character.
This command is a shorter way of writing <code>lx</code>, so <code>,a</code> is the same as <code>lax</code>.
This command is useful to treat a register's contents like a function;
to call the function just do <code>,r</code> where <code>r</code> is the register name.</p>
</li>
</ul>
<p>That's it for the calculator language,
unless you want to add some more commands. <img alt="😄" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@14.1.2/assets/svg/1f604.svg" title=":smile:" /></p>
<h4 id="binaryop"><code>binaryOp</code></h4>
<p>This method isn't strictly necessary,
but it does significantly reduce code duplication
in the <code>evaluateCommand</code> method.
It takes as its arguments an <code>Operator</code> (defined in <code>Ops.java</code>)
as well as the command name.
The <code>Operator</code> argument should be a lambda expression, as described above.
It executes the binary operator by popping two values from the stack,
computing the result, and pushing it back to the stack.
If an error occurs, it prints out an error message using <code>handleError</code>.</p>
<h2 id="calculator-language-summary">Calculator language summary</h2>
<p>Here is a summary of the calculator language.</p>
<ul>
<li><code>q</code> &mdash; quits the calculator program</li>
<li><code>42</code>  &mdash; pushes the number <code>42</code> onto the stack</li>
<li><code>_10</code> &mdash; pushes the number <code>-10</code> onto the stack</li>
<li><code>1.2</code> &mdash; pushes the number <code>1.2</code> onto the stack</li>
<li><code>_42.3</code> &mdash; pushes the number <code>-42.3</code> onto the stack</li>
<li><code>[foobar]</code> &mdash; pushes the string <code>"foobar"</code> onto the stack
(without the quotes)</li>
<li><code>#</code> &mdash; starts a comment which goes to the end of the line</li>
<li><code>c</code> &mdash; clears the stack</li>
<li><code>f</code> &mdash; prints the stack, one element per line, top of stack first</li>
<li><code>p</code> &mdash; prints the top of stack element (with a newline),
but doesn't pop it</li>
<li><code>n</code> &mdash; prints the top of stack element (with a newline) and pops it</li>
<li><code>N</code> &mdash; prints the top of stack element (without a newline) and pops it</li>
<li><code>d</code> &mdash; duplicates the top element of the stack</li>
<li><code>r</code> &mdash; "rotates" (swaps) the top two elements of the stack</li>
<li><code>k</code> &mdash; "kills" (pops and discards) the top element of the stack</li>
<li><code>la</code> &mdash; "loads" (copies) the value at the top of register <code>a</code>'s stack</li>
<li><code>La</code> &mdash; "loads" (pops) the value at the top of register <code>a</code>'s stack</li>
<li><code>sa</code> &mdash; "saves" (copies) the element at the top of the stack
to the top of register <code>a</code>'s stack</li>
<li><code>Sa</code> &mdash; "saves" (pushes) the element at the top of the stack
to the top of register <code>a</code>'s stack</li>
<li><code>x</code> &mdash; executes a string popped off the stack as a series of commands</li>
<li><code>?</code> &mdash; conditional: pops an integer and two strings off the stack;
if the integer is <code>0</code>, executes the string that was on the top of the stack,
otherwise, executes the other string</li>
<li><code>+</code> &mdash; pops two values off the stack, adds them,
  pushes the result back onto the stack</li>
<li><code>-</code> &mdash; pops two values off the stack,
subtracts them (<code>&lt;second from top&gt; - &lt;top&gt;</code>),
and pushes the result back onto the stack</li>
<li><code>*</code> &mdash; pops two values off the stack, multiplies them,
and pushes the result back onto the stack</li>
<li><code>/</code> &mdash; pops two values off the stack,
divides them (<code>&lt;second from top&gt; / &lt;top&gt;</code>),
and pushes the result back onto the stack</li>
<li><code>=</code> &mdash; pops two values off the stack;
if they're equal, pushes 1 back onto stack, else pushes 0</li>
<li><code>&lt;</code> &mdash; pops two values off the stack;
if (<code>&lt;second from top&gt; &lt; &lt;top&gt;</code>), pushes 1 back onto stack, else pushes 0</li>
<li><code>&gt;</code> &mdash; pops two values off the stack;
if (<code>&lt;second from top&gt; &gt; &lt;top&gt;</code>), pushes 1 back onto stack, else pushes 0</li>
<li><code>!</code> &mdash; pops one value off the stack; computes (<code>NOT &lt;value&gt;</code>),
pushes back onto stack (integers only; pushes 1 if input is 0, 0 otherwise)</li>
<li><code>,a</code> &mdash; same as <code>lax</code> but more concise</li>
</ul>
<p>Those are all the commands.</p>
<h2 id="testing-your-code">Testing your code</h2>
<h3 id="code-examples">Code examples</h3>
<p>Here's a transcript of an interactive session with the language.
Note that the output comes on the line following the input.
The output is indented to make it easier to identify.
(It's not indented when running the actual program.)</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>1p   # print the number 1
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>    1
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>1 2+p
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>    3
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>[foo]p
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>    foo
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>[foo][bar]+p  # add (concatenate) strings
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>    foobar
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a>f    # print the stack, one per line, topmost item first
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a>    &quot;foobar&quot;
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a>    &quot;foo&quot;
</span><span id="__span-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a>    3
</span><span id="__span-7-13"><a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a>    1
</span><span id="__span-7-14"><a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a>cf   # clear and print the stack (it&#39;s empty)
</span><span id="__span-7-15"><a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a>1 0/
</span><span id="__span-7-16"><a id="__codelineno-7-16" name="__codelineno-7-16" href="#__codelineno-7-16"></a>    /: invalid operation: can&#39;t divide by zero
</span><span id="__span-7-17"><a id="__codelineno-7-17" name="__codelineno-7-17" href="#__codelineno-7-17"></a>1.2 3.4/n   # n pops the result from the stack
</span><span id="__span-7-18"><a id="__codelineno-7-18" name="__codelineno-7-18" href="#__codelineno-7-18"></a>    0.35294117647058826
</span><span id="__span-7-19"><a id="__codelineno-7-19" name="__codelineno-7-19" href="#__codelineno-7-19"></a>1.2 3.4/p   # p leaves the result on the stack
</span><span id="__span-7-20"><a id="__codelineno-7-20" name="__codelineno-7-20" href="#__codelineno-7-20"></a>    0.35294117647058826
</span><span id="__span-7-21"><a id="__codelineno-7-21" name="__codelineno-7-21" href="#__codelineno-7-21"></a>f
</span><span id="__span-7-22"><a id="__codelineno-7-22" name="__codelineno-7-22" href="#__codelineno-7-22"></a>    0.35294117647058826
</span><span id="__span-7-23"><a id="__codelineno-7-23" name="__codelineno-7-23" href="#__codelineno-7-23"></a>cf
</span><span id="__span-7-24"><a id="__codelineno-7-24" name="__codelineno-7-24" href="#__codelineno-7-24"></a>[d*]ss  # &quot;squared&quot; function; store in register s
</span><span id="__span-7-25"><a id="__codelineno-7-25" name="__codelineno-7-25" href="#__codelineno-7-25"></a>10,sn
</span><span id="__span-7-26"><a id="__codelineno-7-26" name="__codelineno-7-26" href="#__codelineno-7-26"></a>    100
</span><span id="__span-7-27"><a id="__codelineno-7-27" name="__codelineno-7-27" href="#__codelineno-7-27"></a>[d*rd*+]st  # &quot;sum of squares&quot; function; store in register t
</span><span id="__span-7-28"><a id="__codelineno-7-28" name="__codelineno-7-28" href="#__codelineno-7-28"></a>10 20,tn
</span><span id="__span-7-29"><a id="__codelineno-7-29" name="__codelineno-7-29" href="#__codelineno-7-29"></a>    500
</span><span id="__span-7-30"><a id="__codelineno-7-30" name="__codelineno-7-30" href="#__codelineno-7-30"></a>10 20ltxn  # long-winded way to call functions: load register t and execute it
</span><span id="__span-7-31"><a id="__codelineno-7-31" name="__codelineno-7-31" href="#__codelineno-7-31"></a>    500
</span><span id="__span-7-32"><a id="__codelineno-7-32" name="__codelineno-7-32" href="#__codelineno-7-32"></a>[d0=[k1][d1-,f*]?]sf  # recursive factorial function
</span><span id="__span-7-33"><a id="__codelineno-7-33" name="__codelineno-7-33" href="#__codelineno-7-33"></a>10,fn
</span><span id="__span-7-34"><a id="__codelineno-7-34" name="__codelineno-7-34" href="#__codelineno-7-34"></a>    3628800
</span><span id="__span-7-35"><a id="__codelineno-7-35" name="__codelineno-7-35" href="#__codelineno-7-35"></a>20,fn  # will overflow :(
</span><span id="__span-7-36"><a id="__codelineno-7-36" name="__codelineno-7-36" href="#__codelineno-7-36"></a>    -2102132736
</span><span id="__span-7-37"><a id="__codelineno-7-37" name="__codelineno-7-37" href="#__codelineno-7-37"></a>[d2&lt;[][d1-r2-,fr,f+]?]sf # recursive fibonacci function
</span><span id="__span-7-38"><a id="__codelineno-7-38" name="__codelineno-7-38" href="#__codelineno-7-38"></a>5,fn
</span><span id="__span-7-39"><a id="__codelineno-7-39" name="__codelineno-7-39" href="#__codelineno-7-39"></a>    5
</span><span id="__span-7-40"><a id="__codelineno-7-40" name="__codelineno-7-40" href="#__codelineno-7-40"></a>10,fn
</span><span id="__span-7-41"><a id="__codelineno-7-41" name="__codelineno-7-41" href="#__codelineno-7-41"></a>    55
</span><span id="__span-7-42"><a id="__codelineno-7-42" name="__codelineno-7-42" href="#__codelineno-7-42"></a>15,fn
</span><span id="__span-7-43"><a id="__codelineno-7-43" name="__codelineno-7-43" href="#__codelineno-7-43"></a>    610
</span><span id="__span-7-44"><a id="__codelineno-7-44" name="__codelineno-7-44" href="#__codelineno-7-44"></a>20,fn
</span><span id="__span-7-45"><a id="__codelineno-7-45" name="__codelineno-7-45" href="#__codelineno-7-45"></a>    6765
</span><span id="__span-7-46"><a id="__codelineno-7-46" name="__codelineno-7-46" href="#__codelineno-7-46"></a>25,fn
</span><span id="__span-7-47"><a id="__codelineno-7-47" name="__codelineno-7-47" href="#__codelineno-7-47"></a>    75025
</span><span id="__span-7-48"><a id="__codelineno-7-48" name="__codelineno-7-48" href="#__codelineno-7-48"></a>30,fn  # This takes a while!
</span><span id="__span-7-49"><a id="__codelineno-7-49" name="__codelineno-7-49" href="#__codelineno-7-49"></a>    832040
</span></code></pre></div>
<h3 id="valuetestjava"><code>ValueTest.java</code></h3>
<p>This test script tests that value parsing works correctly.
To compile and run it, do this:</p>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>$<span class="w"> </span>javac<span class="w"> </span>sc/*.java
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>$<span class="w"> </span>java<span class="w"> </span>sc.ValueTest
</span></code></pre></div>
<p>It will run the tests and let you know about any failures.</p>
<h3 id="sctestjava"><code>SCTest.java</code></h3>
<p>This test script tests every command in the language,
and also tests some more complicated functions.
To compile and run it, do this:</p>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>$<span class="w"> </span>javac<span class="w"> </span>sc/*.java
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>$<span class="w"> </span>java<span class="w"> </span>sc.SCTest
</span></code></pre></div>
<p>It will run the tests and let you know about any failures.<br />
(You might need to scroll up to find the error messages.)</p>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>It's a <em>filename glob</em>, which is a kind of wild-card for filenames.&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:2">
<p>"Whitespace" means one or more non-printing characters,
and includes space characters, newline characters, and tab characters,
as well as a few less common ones.&#160;<a class="footnote-backref" href="#fnref:2" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
</ol>
</div>





                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../overview/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Assignment 7: Overview" rel="prev">
            <div class="md-footer__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Assignment 7: Overview
              </div>
            </div>
          </a>
        
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.copy", "navigation.footer", "navigation.top"], "search": "../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.b425cdc4.min.js"></script>
      
        
          <script src="../../../js/mathjax.js"></script>
        
      
        
          <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
        
      
        
          <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        
      
    
  </body>
</html>