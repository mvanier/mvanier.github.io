<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>9. Loops (part 1) &mdash; The CS 164 book 0.0.1 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="10. Conditionals" href="chapter10.html" />
    <link rel="prev" title="8. Lists" href="chapter8.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> The CS 164 book
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="chapter1.html">1. Introduction to Python, part 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter2.html">2. Introduction to Python, part 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter3.html">3. Strings</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter4.html">4. Strings, part 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter5.html">5. Objects and methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter6.html">6. Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter7.html">7. Documenting your code</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter8.html">8. Lists</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">9. Loops (part 1)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#what-a-loop-is">9.1. What a loop is</a></li>
<li class="toctree-l2"><a class="reference internal" href="#python-s-loop-statements">9.2. Python’s loop statements</a></li>
<li class="toctree-l2"><a class="reference internal" href="#loops-and-lists">9.3. Loops and lists</a></li>
<li class="toctree-l2"><a class="reference internal" href="#for-loop-syntax">9.4. <code class="docutils literal notranslate"><span class="pre">for</span></code> loop syntax</a></li>
<li class="toctree-l2"><a class="reference internal" href="#a-simple-example">9.5. A simple example</a></li>
<li class="toctree-l2"><a class="reference internal" href="#multiline-blocks">9.6. Multiline blocks</a></li>
<li class="toctree-l2"><a class="reference internal" href="#loop-syntax-errors">9.7. Loop syntax errors</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#forgetting-the-colon">9.7.1. Forgetting the colon</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bad-indentation">9.7.2. Bad indentation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#application-writing-the-sum-function">9.8. Application: writing the <code class="docutils literal notranslate"><span class="pre">sum</span></code> function</a></li>
<li class="toctree-l2"><a class="reference internal" href="#aside-the-operator-and-friends">9.9. Aside: the <code class="docutils literal notranslate"><span class="pre">+=</span></code> operator and friends</a></li>
<li class="toctree-l2"><a class="reference internal" href="#sum-again">9.10. <code class="docutils literal notranslate"><span class="pre">sum</span></code> again</a></li>
<li class="toctree-l2"><a class="reference internal" href="#loop-terminology">9.11. Loop terminology</a></li>
<li class="toctree-l2"><a class="reference internal" href="#loop-pitfalls">9.12. Loop pitfalls</a></li>
<li class="toctree-l2"><a class="reference internal" href="#loops-and-strings">9.13. Loops and strings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#nested-loops">9.14. Nested loops</a></li>
<li class="toctree-l2"><a class="reference internal" href="#coming-up">9.15. Coming up</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="chapter10.html">10. Conditionals</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter11.html">11. Loops (part 2)</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">The CS 164 book</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li><span class="section-number">9. </span>Loops (part 1)</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/content/chapter9.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="loops-part-1">
<h1><span class="section-number">9. </span>Loops (part 1)<a class="headerlink" href="#loops-part-1" title="Permalink to this heading"></a></h1>
<p>So far, we’ve learned a lot of Python, but there are still a few fundamental
programming constructs we haven’t discussed yet. This is the first of two
chapters that cover loops, and we’ll also soon cover conditionals (<code class="docutils literal notranslate"><span class="pre">if</span></code>
statements).</p>
<div class="section" id="what-a-loop-is">
<h2><span class="section-number">9.1. </span>What a loop is<a class="headerlink" href="#what-a-loop-is" title="Permalink to this heading"></a></h2>
<p>One of the basic things that programs have to be able to do is to repeat a
chunk of code over and over. Sometimes there is something that changes every
time we execute the chunk of code, and sometimes there isn’t. For instance, we
might want to print a greeting ten times. In that case, we would be executing
the exact same code (print the greeting) ten times. Or we might want to print
the numbers from 1 to 20, one per line. In that case, something would change
each time (the number to print). Sometimes more than one thing changes each
time.</p>
<p>In order to allow us to execute chunks of code over and over, programming
languages like Python contain <em>loop</em> statements and syntax. Nearly every
programming language has loop statements with special syntax, but unfortunately
every language seems to choose different syntax for what is basically the same
construct. Fortunately, Python’s loop syntax is simple and easy to pick up.</p>
</div>
<div class="section" id="python-s-loop-statements">
<h2><span class="section-number">9.2. </span>Python’s loop statements<a class="headerlink" href="#python-s-loop-statements" title="Permalink to this heading"></a></h2>
<p>Python has two kinds of loop statements: <code class="docutils literal notranslate"><span class="pre">for</span></code> loops and <code class="docutils literal notranslate"><span class="pre">while</span></code>
loops. These are named after the keywords <code class="docutils literal notranslate"><span class="pre">for</span></code> and <code class="docutils literal notranslate"><span class="pre">while</span></code>. In this
chapter we’ll teach you about <code class="docutils literal notranslate"><span class="pre">for</span></code> loops, because they are the most
common kind of loop in Python programs. We’ll teach you about <code class="docutils literal notranslate"><span class="pre">while</span></code>
loops in a couple of chapters.  <a class="footnote-reference brackets" href="#id4" id="id1">1</a></p>
</div>
<div class="section" id="loops-and-lists">
<h2><span class="section-number">9.3. </span>Loops and lists<a class="headerlink" href="#loops-and-lists" title="Permalink to this heading"></a></h2>
<p>We postponed discussing loops until we learned about lists for a good
reason: loops are incredibly useful when used with lists. One common
code pattern of a loop used with a list looks like this:</p>
<ul class="simple">
<li><p><em>for each</em> element in a list…</p></li>
<li><p>… <em>do</em> the following with the element,</p></li>
<li><p>… and <em>repeat</em> until all the elements in the list have been processed.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>What we’ve just written is an example of what is called <em>pseudocode</em>.
It’s like code, but written for the benefit of humans, not computers.
It describes a computation in English with enough detail that it
could in principle be converted to a programming language like
Python. Writing pseudocode can be a powerful design technique for
working out a solution to a programming problem before you start the
actual coding.</p>
</div>
<p>An example of this might be the following: <em>for each</em> element of the
following list, print the element.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">title_words</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Monty&#39;</span><span class="p">,</span> <span class="s1">&#39;Python&#39;</span><span class="p">,</span> <span class="s1">&#39;and&#39;</span><span class="p">,</span> <span class="s1">&#39;the&#39;</span><span class="p">,</span> <span class="s1">&#39;Holy&#39;</span><span class="p">,</span> <span class="s1">&#39;Grail&#39;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">title_words</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
</pre></div>
</div>
<p>When run, this will print out:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Monty
Python
and
the
Holy
Grail
</pre></div>
</div>
<p>one word per line.</p>
</div>
<div class="section" id="for-loop-syntax">
<h2><span class="section-number">9.4. </span><code class="docutils literal notranslate"><span class="pre">for</span></code> loop syntax<a class="headerlink" href="#for-loop-syntax" title="Permalink to this heading"></a></h2>
<p>The syntax of the <code class="docutils literal notranslate"><span class="pre">for</span></code> loop is basically the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="o">&lt;</span><span class="n">item</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span><span class="p">:</span>
    <span class="o">&lt;</span><span class="n">chunk</span> <span class="n">of</span> <span class="n">code</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Both <code class="docutils literal notranslate"><span class="pre">for</span></code> and <code class="docutils literal notranslate"><span class="pre">in</span></code> are keywords (reserved words). The <code class="docutils literal notranslate"><span class="pre">&lt;item&gt;</span></code> is
a variable that will refer to a particular element in the list
<code class="docutils literal notranslate"><span class="pre">&lt;list&gt;</span></code>. The <code class="docutils literal notranslate"><span class="pre">&lt;list&gt;</span></code> can be either an actual list, a variable
which refers to a list, or an expression which evaluates to a list.</p>
<p>The colon character (<code class="docutils literal notranslate"><span class="pre">:</span></code>) at the end of the <code class="docutils literal notranslate"><span class="pre">for</span></code> line is required,
much like the colon at the end of a <code class="docutils literal notranslate"><span class="pre">def</span></code> line in a function definition.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">&lt;chunk</span> <span class="pre">of</span> <span class="pre">code&gt;</span></code> part is called a <em>block</em>; it consists of one or
more lines of Python code, all indented the same.  <a class="footnote-reference brackets" href="#id5" id="id2">2</a></p>
<p>The way the loop works is as follows.</p>
<ol class="arabic simple">
<li><p>The first element of the list <code class="docutils literal notranslate"><span class="pre">&lt;list&gt;</span></code> is assigned to the
<code class="docutils literal notranslate"><span class="pre">&lt;item&gt;</span></code> variable.</p></li>
<li><p>The body of the loop is evaluated.</p></li>
<li><p>Then the next element of the list is assigned to the <code class="docutils literal notranslate"><span class="pre">&lt;item&gt;</span></code>
variable and the body is evaluated again.</p></li>
<li><p>This continues until there are no more elements in the list.</p></li>
<li><p>After the <code class="docutils literal notranslate"><span class="pre">for</span></code> loop has completed evaluating, Python goes on to
the next line after the loop.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The thing that goes in the <code class="docutils literal notranslate"><span class="pre">&lt;list&gt;</span></code> place in</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="o">&lt;</span><span class="n">item</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span><span class="p">:</span>
    <span class="o">&lt;</span><span class="n">chunk</span> <span class="n">of</span> <span class="n">code</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>doesn’t actually have to be a list. There are many other things that
can go there, including strings and other data structures like tuples
and dictionaries we haven’t seen yet. Any Python value that is an
<em>iterable</em> can go in that place. An <em>iterable</em> basically means
“something that can be looped over in a <code class="docutils literal notranslate"><span class="pre">for</span></code> loop”. We’ll explain
this in more detail in later chapters, and we’ll show you how to use
<code class="docutils literal notranslate"><span class="pre">for</span></code> loops with strings below.</p>
</div>
</div>
<div class="section" id="a-simple-example">
<h2><span class="section-number">9.5. </span>A simple example<a class="headerlink" href="#a-simple-example" title="Permalink to this heading"></a></h2>
<p>Let’s revisit the simple example above:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">title_words</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Monty&#39;</span><span class="p">,</span> <span class="s1">&#39;Python&#39;</span><span class="p">,</span> <span class="s1">&#39;and&#39;</span><span class="p">,</span> <span class="s1">&#39;the&#39;</span><span class="p">,</span> <span class="s1">&#39;Holy&#39;</span><span class="p">,</span> <span class="s1">&#39;Grail&#39;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">title_words</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
</pre></div>
</div>
<p>We know that this will print out the words in the list, one per line.
But how does it actually work?</p>
<p>When the loop starts, the first element of the list, which is
<code class="docutils literal notranslate"><span class="pre">'Monty'</span></code>, gets assigned to the variable <code class="docutils literal notranslate"><span class="pre">word</span></code>. Then the body
prints that word. Then the second element of the list (<code class="docutils literal notranslate"><span class="pre">'Python'</span></code>)
gets assigned to <code class="docutils literal notranslate"><span class="pre">word</span></code>, the word gets printed, and so on until all
the words in the list have been printed. Once there are no more words in
the list to bind to <code class="docutils literal notranslate"><span class="pre">word</span></code>, the <code class="docutils literal notranslate"><span class="pre">for</span></code> loop has finished executing.</p>
<p>So what Python ends up doing when it evaluates the loop is basically the
following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">word</span> <span class="o">=</span> <span class="s1">&#39;Monty&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
<span class="n">word</span> <span class="o">=</span> <span class="s1">&#39;Python&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
<span class="n">word</span> <span class="o">=</span> <span class="s1">&#39;and&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
<span class="o">...</span>
</pre></div>
</div>
<p>but it’s much easier and more concise to express this with the <code class="docutils literal notranslate"><span class="pre">for</span></code>
loop.</p>
<p>The list <code class="docutils literal notranslate"><span class="pre">title_words</span></code> isn’t altered in the <code class="docutils literal notranslate"><span class="pre">for</span></code> loop; Python
simply fetches its elements one at a time in order and assigns them to
the <code class="docutils literal notranslate"><span class="pre">word</span></code> variable. There is no significance to the variable name
<code class="docutils literal notranslate"><span class="pre">word</span></code> either; we could call it <code class="docutils literal notranslate"><span class="pre">w</span></code> or <code class="docutils literal notranslate"><span class="pre">xxx</span></code> if we wanted, but
it’s a good idea to use meaningful variable names where possible.</p>
</div>
<div class="section" id="multiline-blocks">
<h2><span class="section-number">9.6. </span>Multiline blocks<a class="headerlink" href="#multiline-blocks" title="Permalink to this heading"></a></h2>
<p>A <code class="docutils literal notranslate"><span class="pre">for</span></code> loop block can consist of multiple lines, all indented the
same. Let’s extend our simple example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">title_words</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Monty&#39;</span><span class="p">,</span> <span class="s1">&#39;Python&#39;</span><span class="p">,</span> <span class="s1">&#39;and&#39;</span><span class="p">,</span> <span class="s1">&#39;the&#39;</span><span class="p">,</span> <span class="s1">&#39;Holy&#39;</span><span class="p">,</span> <span class="s1">&#39;Grail&#39;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">title_words</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;----&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>This will print:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Monty
----
Python
----
and
----
the
----
Holy
----
Grail
----
</pre></div>
</div>
<p>After the block, the indentation has to go back to the previous level so
Python knows that the block is finished:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">title_words</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Monty&#39;</span><span class="p">,</span> <span class="s1">&#39;Python&#39;</span><span class="p">,</span> <span class="s1">&#39;and&#39;</span><span class="p">,</span> <span class="s1">&#39;the&#39;</span><span class="p">,</span> <span class="s1">&#39;Holy&#39;</span><span class="p">,</span> <span class="s1">&#39;Grail&#39;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">title_words</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;----&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;All done!&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="loop-syntax-errors">
<h2><span class="section-number">9.7. </span>Loop syntax errors<a class="headerlink" href="#loop-syntax-errors" title="Permalink to this heading"></a></h2>
<div class="section" id="forgetting-the-colon">
<h3><span class="section-number">9.7.1. </span>Forgetting the colon<a class="headerlink" href="#forgetting-the-colon" title="Permalink to this heading"></a></h3>
<p>A really, really common error is to forget to put the colon character at
the end of the <code class="docutils literal notranslate"><span class="pre">for</span></code> line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">title_words</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Monty&#39;</span><span class="p">,</span> <span class="s1">&#39;Python&#39;</span><span class="p">,</span> <span class="s1">&#39;and&#39;</span><span class="p">,</span> <span class="s1">&#39;the&#39;</span><span class="p">,</span> <span class="s1">&#39;Holy&#39;</span><span class="p">,</span> <span class="s1">&#39;Grail&#39;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">title_words</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
</pre></div>
</div>
<p>Here’s what will happen:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="go">for word in title_words</span>
<span class="go">                      ^</span>
<span class="go">SyntaxError: invalid syntax</span>
</pre></div>
</div>
<p>Like it or not, you have to put that colon in!</p>
</div>
<div class="section" id="bad-indentation">
<h3><span class="section-number">9.7.2. </span>Bad indentation<a class="headerlink" href="#bad-indentation" title="Permalink to this heading"></a></h3>
<p>If the <code class="docutils literal notranslate"><span class="pre">for</span></code> loop block has more than one line, the lines have to be
indented exactly the same. Failure to do this gives you one of three
syntax errors.</p>
<p>Too much indentation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">title_words</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Monty&#39;</span><span class="p">,</span> <span class="s1">&#39;Python&#39;</span><span class="p">,</span> <span class="s1">&#39;and&#39;</span><span class="p">,</span> <span class="s1">&#39;the&#39;</span><span class="p">,</span> <span class="s1">&#39;Holy&#39;</span><span class="p">,</span> <span class="s1">&#39;Grail&#39;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">title_words</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
     <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;----&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>gives:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="go">    print(&#39;----&#39;)</span>
<span class="go">    ^</span>
<span class="go">IndentationError: unexpected indent</span>
</pre></div>
</div>
<p>Too little indentation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">title_words</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Monty&#39;</span><span class="p">,</span> <span class="s1">&#39;Python&#39;</span><span class="p">,</span> <span class="s1">&#39;and&#39;</span><span class="p">,</span> <span class="s1">&#39;the&#39;</span><span class="p">,</span> <span class="s1">&#39;Holy&#39;</span><span class="p">,</span> <span class="s1">&#39;Grail&#39;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">title_words</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
   <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;----&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>gives:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="go">    print(&#39;----&#39;)</span>
<span class="go">                ^</span>
<span class="go">IndentationError: unindent does not match any outer indentation level</span>
</pre></div>
</div>
<p>Python knows that you are indenting less than the previous line, but
this is only legal when there is some other code with that indent level
(like the <code class="docutils literal notranslate"><span class="pre">for</span></code> line); here, there isn’t one.</p>
<p>These two syntax errors are pretty obvious. But there is one more which
can be extremely hard to detect. Sometimes when you’re writing code in a
text editor, the editor will use tab characters to indent code. Other
times it might use spaces, or a combination of the two. If different
lines in a block are indented using tabs on some lines and spaces on
other lines, you can get syntax errors <em>even if it looks like they’re
indented exactly the same</em>!</p>
<p>It’s hard to show you what this would look like, but let’s imagine that
in your editor, tab characters look like four space characters. We’ll
write a tab character like this: <code class="docutils literal notranslate"><span class="pre">&lt;tab&gt;</span></code> so you can see it. Consider
this code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">title_words</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Monty&#39;</span><span class="p">,</span> <span class="s1">&#39;Python&#39;</span><span class="p">,</span> <span class="s1">&#39;and&#39;</span><span class="p">,</span> <span class="s1">&#39;the&#39;</span><span class="p">,</span> <span class="s1">&#39;Holy&#39;</span><span class="p">,</span> <span class="s1">&#39;Grail&#39;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">title_words</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">tab</span><span class="o">&gt;</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;----&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The code will <em>look</em> perfectly indented. But Python will give you a
syntax error:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="go">    print(&#39;----&#39;)</span>
<span class="go">                ^</span>
<span class="go">TabError: inconsistent use of tabs and spaces in indentation</span>
</pre></div>
</div>
<p>This is one reason why every Python style guide says not to use tab
characters for indentation.  <a class="footnote-reference brackets" href="#id6" id="id3">3</a></p>
<p>See <a class="reference external" href="https://www.youtube.com/watch?v=SsoOG6ZeyUI">this video</a> to get more insight about the tabs vs. spaces controversy.</p>
</div>
</div>
<div class="section" id="application-writing-the-sum-function">
<h2><span class="section-number">9.8. </span>Application: writing the <code class="docutils literal notranslate"><span class="pre">sum</span></code> function<a class="headerlink" href="#application-writing-the-sum-function" title="Permalink to this heading"></a></h2>
<p>We’ve already seen the built-in <code class="docutils literal notranslate"><span class="pre">sum</span></code> function:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">temps</span> <span class="o">=</span> <span class="p">[</span><span class="mf">59.6</span><span class="p">,</span> <span class="mf">72.4</span><span class="p">,</span> <span class="mf">68.5</span><span class="p">,</span> <span class="mf">79.0</span><span class="p">,</span> <span class="mf">66.4</span><span class="p">,</span> <span class="mf">77.1</span><span class="p">,</span> <span class="o">-</span><span class="mf">126.0</span><span class="p">]</span>
<span class="n">avg_temp</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">temps</span><span class="p">)</span> <span class="o">/</span> <span class="mi">7</span>
<span class="nb">print</span><span class="p">(</span><span class="n">avg_temp</span><span class="p">)</span>
</pre></div>
</div>
<p>This prints:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">42.42857142857143</span>
</pre></div>
</div>
<p>Now that we know how to write loops, we can write <code class="docutils literal notranslate"><span class="pre">sum</span></code> ourselves.
Here’s the first attempt.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">sum</span><span class="p">(</span><span class="n">nums</span><span class="p">):</span>
   <span class="sd">&quot;&quot;&quot;Sum the elements of a list of numbers.&quot;&quot;&quot;</span>
   <span class="n">sum_nums</span> <span class="o">=</span> <span class="mi">0</span>
   <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">nums</span><span class="p">:</span>
       <span class="n">sum_nums</span> <span class="o">=</span> <span class="n">sum_nums</span> <span class="o">+</span> <span class="n">n</span>
   <span class="k">return</span> <span class="n">sum_nums</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Built-in functions like <code class="docutils literal notranslate"><span class="pre">sum</span></code> are not keywords. You can redefine
them, or even use the name <code class="docutils literal notranslate"><span class="pre">sum</span></code> for something completely
unrelated. This can lead to some very hard-to-find bugs, though, so
we recommend that you don’t do this. Here, we are deliberately
replacing the built-in <code class="docutils literal notranslate"><span class="pre">sum</span></code> function with a function which does
the same thing, so it’s OK.</p>
</div>
<p>Let’s test it:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">temps</span> <span class="o">=</span> <span class="p">[</span><span class="mf">59.6</span><span class="p">,</span> <span class="mf">72.4</span><span class="p">,</span> <span class="mf">68.5</span><span class="p">,</span> <span class="mf">79.0</span><span class="p">,</span> <span class="mf">66.4</span><span class="p">,</span> <span class="mf">77.1</span><span class="p">,</span> <span class="o">-</span><span class="mf">126.0</span><span class="p">]</span>
<span class="n">avg_temp</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">temps</span><span class="p">)</span> <span class="o">/</span> <span class="mi">7</span>
<span class="nb">print</span><span class="p">(</span><span class="n">avg_temp</span><span class="p">)</span>
</pre></div>
</div>
<p>This prints:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">42.42857142857143</span>
</pre></div>
</div>
<p>so we’re good.</p>
</div>
<div class="section" id="aside-the-operator-and-friends">
<h2><span class="section-number">9.9. </span>Aside: the <code class="docutils literal notranslate"><span class="pre">+=</span></code> operator and friends<a class="headerlink" href="#aside-the-operator-and-friends" title="Permalink to this heading"></a></h2>
<p>Look at the <code class="docutils literal notranslate"><span class="pre">sum</span></code> function we wrote above, and in particular this
line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sum_nums</span> <span class="o">=</span> <span class="n">sum_nums</span> <span class="o">+</span> <span class="n">n</span>
</pre></div>
</div>
<p>Lines of the form <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">x</span> <span class="pre">+</span> <span class="pre">y</span></code> are extremely common in programming. The
meaning of this line is “add <code class="docutils literal notranslate"><span class="pre">y</span></code> to the number <code class="docutils literal notranslate"><span class="pre">x</span></code>”. Since this is
so common, there is a shortcut operator that does the same thing, but
more concisely. The operator is called <code class="docutils literal notranslate"><span class="pre">+=</span></code> (pronounced “plus-equals”)
and looks like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sum_nums</span> <span class="o">+=</span> <span class="n">n</span>
</pre></div>
</div>
<p>Similarly, there are other <code class="docutils literal notranslate"><span class="pre">&lt;op&gt;=</span></code> operators such as <code class="docutils literal notranslate"><span class="pre">-=</span></code>, <code class="docutils literal notranslate"><span class="pre">*=</span></code>,
<code class="docutils literal notranslate"><span class="pre">/=</span></code> and so on which work the same way. So <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">-=</span> <span class="pre">y</span></code> is the same as
<code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">x</span> <span class="pre">-</span> <span class="pre">y</span></code>; <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">*=</span> <span class="pre">y</span></code> is the same as <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">x</span> <span class="pre">*</span> <span class="pre">y</span></code> <em>etc.</em></p>
<p>We recommend that you use these operators instead of the longer forms
for two reasons:</p>
<ol class="arabic simple">
<li><p>It’s shorter.</p></li>
<li><p>It’s easier to read once you get used to it.</p></li>
</ol>
</div>
<div class="section" id="sum-again">
<h2><span class="section-number">9.10. </span><code class="docutils literal notranslate"><span class="pre">sum</span></code> again<a class="headerlink" href="#sum-again" title="Permalink to this heading"></a></h2>
<p>Let’s update our <code class="docutils literal notranslate"><span class="pre">sum</span></code> function with this spiffy new operator:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">sum</span><span class="p">(</span><span class="n">nums</span><span class="p">):</span>
   <span class="sd">&quot;&quot;&quot;Sum the elements of a list of numbers.&quot;&quot;&quot;</span>
   <span class="n">sum_nums</span> <span class="o">=</span> <span class="mi">0</span>
   <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">nums</span><span class="p">:</span>
       <span class="n">sum_nums</span> <span class="o">+=</span> <span class="n">n</span>
   <span class="k">return</span> <span class="n">sum_nums</span>
</pre></div>
</div>
<p>And that’s all we’ll say about this function!</p>
</div>
<div class="section" id="loop-terminology">
<h2><span class="section-number">9.11. </span>Loop terminology<a class="headerlink" href="#loop-terminology" title="Permalink to this heading"></a></h2>
<p>At this time, it’s appropriate to define some terms that are commonly
used with loops:</p>
<dl class="simple">
<dt>loop body</dt><dd><p>The block of code that is executed multiple times in a loop.</p>
</dd>
<dt>iteration</dt><dd><p>A single pass through the loop body.</p>
</dd>
<dt>iterate over</dt><dd><p>Go through a data structure (<em>e.g.</em> a list) element-by-element,
executing the loop body on each element.</p>
</dd>
<dt>iterable</dt><dd><p>A Python data structure (such as a list) that can be iterated over in
a loop.</p>
</dd>
</dl>
<p>Don’t worry if these definitions don’t seem crystal clear to you at this
point. As we learn more about what kinds of data can be used in a
<code class="docutils literal notranslate"><span class="pre">for</span></code> loop it will all become clear.</p>
</div>
<div class="section" id="loop-pitfalls">
<h2><span class="section-number">9.12. </span>Loop pitfalls<a class="headerlink" href="#loop-pitfalls" title="Permalink to this heading"></a></h2>
<p>In a <code class="docutils literal notranslate"><span class="pre">for</span></code> loop body, it’s not a good idea to change either the loop
variable or the list being iterated over. The main reason is that what
this does is hard to predict unless you understand Python really well.
Python is changing the loop variable for you on every iteration of the
loop body, so you shouldn’t need to change it yourself. And if you
change the list being iterated over, the loop may finish earlier or
later than you expected, or behave in other non-intuitive ways.</p>
<p>There will be problems on the assignments exploring these pitfalls.</p>
</div>
<div class="section" id="loops-and-strings">
<h2><span class="section-number">9.13. </span>Loops and strings<a class="headerlink" href="#loops-and-strings" title="Permalink to this heading"></a></h2>
<p>We mentioned above that in the <code class="docutils literal notranslate"><span class="pre">for</span></code> loop syntax, which we wrote as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="o">&lt;</span><span class="n">item</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span><span class="p">:</span>
    <span class="o">&lt;</span><span class="n">chunk</span> <span class="n">of</span> <span class="n">code</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>the <code class="docutils literal notranslate"><span class="pre">&lt;list&gt;</span></code> part could actually be things other than lists. One such
thing is a string. If you loop over a string in a <code class="docutils literal notranslate"><span class="pre">for</span></code> loop, you are
iterating over the characters.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="s1">&#39;Python&#39;</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">char</span><span class="p">)</span>
</pre></div>
</div>
<p>This will print:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">P</span>
<span class="n">y</span>
<span class="n">t</span>
<span class="n">h</span>
<span class="n">o</span>
<span class="n">n</span>
</pre></div>
</div>
<p>In each iteration of the <code class="docutils literal notranslate"><span class="pre">for</span></code> loop, the next character of the string
<code class="docutils literal notranslate"><span class="pre">Python</span></code> is assigned to the variable <code class="docutils literal notranslate"><span class="pre">char</span></code>. (This will be a
one-character string, because that’s how Python represents characters.)</p>
<p>We already know that both lists and strings are what Python calls
<em>sequences</em>, so you might think that any Python sequence can be looped
over in a <code class="docutils literal notranslate"><span class="pre">for</span></code> loop. And that is in fact the case. (We will see soon
that even some non-sequences can be looped over in a <code class="docutils literal notranslate"><span class="pre">for</span></code> loop.)</p>
</div>
<div class="section" id="nested-loops">
<h2><span class="section-number">9.14. </span>Nested loops<a class="headerlink" href="#nested-loops" title="Permalink to this heading"></a></h2>
<p>You are allowed to put one <code class="docutils literal notranslate"><span class="pre">for</span></code> loop inside another. This is called a
“nested loop” and is actually quite common. Here’s a simple example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">title</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Monty&#39;</span><span class="p">,</span> <span class="s1">&#39;Python&#39;</span><span class="p">]</span>
<span class="linenos">2</span><span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">title</span><span class="p">:</span>
<span class="linenos">3</span>    <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">word</span><span class="p">:</span>
<span class="linenos">4</span>        <span class="nb">print</span><span class="p">(</span><span class="n">char</span><span class="p">)</span>
</pre></div>
</div>
<p>The first <code class="docutils literal notranslate"><span class="pre">for</span></code> loop starts on line 2. Its loop body consists of lines
3 and 4, which is also a <code class="docutils literal notranslate"><span class="pre">for</span></code> loop. We say that the <code class="docutils literal notranslate"><span class="pre">for</span></code> loop
starting from line 2 is the “outer” <code class="docutils literal notranslate"><span class="pre">for</span></code> loop and the one starting
from line 3 is the “inner” <code class="docutils literal notranslate"><span class="pre">for</span></code> loop. Notice that the loop body of
the inner <code class="docutils literal notranslate"><span class="pre">for</span></code> loop (line 4) is indented twice: once because it’s in
the loop body of the outer <code class="docutils literal notranslate"><span class="pre">for</span></code> loop and once because it’s also in
the loop body of the inner <code class="docutils literal notranslate"><span class="pre">for</span></code> loop.</p>
<p>In the first iteration of the outer <code class="docutils literal notranslate"><span class="pre">for</span></code> loop, the variable <code class="docutils literal notranslate"><span class="pre">word</span></code>
is <code class="docutils literal notranslate"><span class="pre">'Monty'</span></code>. Then in the inner <code class="docutils literal notranslate"><span class="pre">for</span></code> loop, the variable <code class="docutils literal notranslate"><span class="pre">char</span></code> is
<code class="docutils literal notranslate"><span class="pre">'M'</span></code>, then <code class="docutils literal notranslate"><span class="pre">'o'</span></code>, <em>etc.</em> Once all the characters in <code class="docutils literal notranslate"><span class="pre">'Monty'</span></code>
have been processed, the variable <code class="docutils literal notranslate"><span class="pre">word</span></code> in the outer <code class="docutils literal notranslate"><span class="pre">for</span></code> loop
becomes <code class="docutils literal notranslate"><span class="pre">'Python'</span></code>, and then in the inner <code class="docutils literal notranslate"><span class="pre">for</span></code> loop the variable
<code class="docutils literal notranslate"><span class="pre">char</span></code> becomes <code class="docutils literal notranslate"><span class="pre">'P'</span></code>, <code class="docutils literal notranslate"><span class="pre">'y'</span></code>, <em>etc.</em></p>
<p>Running this code gives this result:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>M
o
n
t
y
P
y
t
h
o
n
</pre></div>
</div>
<p>We can write code that is inside the first loop but which comes after
the nested loop. That code is executed once the nested loop is finished
executing.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">title</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Monty&#39;</span><span class="p">,</span> <span class="s1">&#39;Python&#39;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">title</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">word</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">char</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;---&#39;</span><span class="p">)</span>  <span class="c1"># executed after nested loop finishes</span>
</pre></div>
</div>
<p>Running this code gives this result:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>M
o
n
t
y
---
P
y
t
h
o
n
---
</pre></div>
</div>
</div>
<div class="section" id="coming-up">
<h2><span class="section-number">9.15. </span>Coming up<a class="headerlink" href="#coming-up" title="Permalink to this heading"></a></h2>
<p>We have more to say about loops, and in particular, Python’s other loop
construct, the <code class="docutils literal notranslate"><span class="pre">while</span></code> loop. We’ll get to that shortly, but in the
next chapter we’ll talk about conditionals (<code class="docutils literal notranslate"><span class="pre">if</span></code> statements),
another fundamental building block of computer programs.</p>
<hr class="docutils" />
<p class="rubric">Footnotes</p>
<dl class="footnote brackets">
<dt class="label" id="id4"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>If you know other programming languages like C, C++ or Java, be aware
that Python’s <code class="docutils literal notranslate"><span class="pre">for</span></code> loop is quite different from the <code class="docutils literal notranslate"><span class="pre">for</span></code> loop
construct in those languages.</p>
</dd>
<dt class="label" id="id5"><span class="brackets"><a class="fn-backref" href="#id2">2</a></span></dt>
<dd><p>Blocks are found in many other places in Python besides loops. The
body of a function, for instance, is a block.</p>
</dd>
<dt class="label" id="id6"><span class="brackets"><a class="fn-backref" href="#id3">3</a></span></dt>
<dd><p>Any decent text editor will allow you to configure it so that when
you hit the tab key, four spaces are inserted. We strongly recommend
that you figure out how to do this, and do it. It will save you a lot
of time chasing down dumb syntax errors. If you’re using Visual
Studio Code, don’t worry: it converts tabs to spaces automatically
when editing Python code (assuming you installed the <a class="reference external" href="https://marketplace.visualstudio.com/items?itemName=ms-python.python">ms-python
Python extension</a>.</p>
</dd>
</dl>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="chapter8.html" class="btn btn-neutral float-left" title="8. Lists" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="chapter10.html" class="btn btn-neutral float-right" title="10. Conditionals" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Michael C. Vanier.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>